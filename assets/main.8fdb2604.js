import{$,l as leafletSrc,c as commonjsGlobal,g as getAugmentedNamespace,a as configs,_,s as settings,b as levenshteinDistance,d as lzw_decode,B as Base64,L as L$1,o as overpass,h as htmlentities,e as lzw_encode,q as query}from"./overpass.570b7fbe.js";/*! jQuery UI - v1.13.2 - 2022-07-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-patch.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */(function(t){typeof define=="function"&&define.amd?define(["jquery"],t):t($)})(function(t){t.ui=t.ui||{},t.ui.version="1.13.2";/*!
 * jQuery UI Widget 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var B=0,O=Array.prototype.hasOwnProperty,p=Array.prototype.slice;t.cleanData=function(e){return function(n){var r,s,l;for(l=0;(s=n[l])!=null;l++)r=t._data(s,"events"),r&&r.remove&&t(s).triggerHandler("remove");e(n)}}(t.cleanData),t.widget=function(e,n,r){var s,l,h,v={},D=e.split(".")[0];e=e.split(".")[1];var F=D+"-"+e;return r||(r=n,n=t.Widget),Array.isArray(r)&&(r=t.extend.apply(null,[{}].concat(r))),t.expr.pseudos[F.toLowerCase()]=function(Z){return!!t.data(Z,F)},t[D]=t[D]||{},s=t[D][e],l=t[D][e]=function(Z,ae){if(!this||!this._createWidget)return new l(Z,ae);arguments.length&&this._createWidget(Z,ae)},t.extend(l,s,{version:r.version,_proto:t.extend({},r),_childConstructors:[]}),h=new n,h.options=t.widget.extend({},h.options),t.each(r,function(Z,ae){if(typeof ae!="function"){v[Z]=ae;return}v[Z]=function(){function ge(){return n.prototype[Z].apply(this,arguments)}function Q(ie){return n.prototype[Z].apply(this,ie)}return function(){var ie=this._super,le=this._superApply,ce;return this._super=ge,this._superApply=Q,ce=ae.apply(this,arguments),this._super=ie,this._superApply=le,ce}}()}),l.prototype=t.widget.extend(h,{widgetEventPrefix:s&&h.widgetEventPrefix||e},v,{constructor:l,namespace:D,widgetName:e,widgetFullName:F}),s?(t.each(s._childConstructors,function(Z,ae){var ge=ae.prototype;t.widget(ge.namespace+"."+ge.widgetName,l,ae._proto)}),delete s._childConstructors):n._childConstructors.push(l),t.widget.bridge(e,l),l},t.widget.extend=function(e){for(var n=p.call(arguments,1),r=0,s=n.length,l,h;r<s;r++)for(l in n[r])h=n[r][l],O.call(n[r],l)&&h!==void 0&&(t.isPlainObject(h)?e[l]=t.isPlainObject(e[l])?t.widget.extend({},e[l],h):t.widget.extend({},h):e[l]=h);return e},t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(s){var l=typeof s=="string",h=p.call(arguments,1),v=this;return l?!this.length&&s==="instance"?v=void 0:this.each(function(){var D,F=t.data(this,r);if(s==="instance")return v=F,!1;if(!F)return t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+s+"'");if(typeof F[s]!="function"||s.charAt(0)==="_")return t.error("no such method '"+s+"' for "+e+" widget instance");if(D=F[s].apply(F,h),D!==F&&D!==void 0)return v=D&&D.jquery?v.pushStack(D.get()):D,!1}):(h.length&&(s=t.widget.extend.apply(null,[s].concat(h))),this.each(function(){var D=t.data(this,r);D?(D.option(s||{}),D._init&&D._init()):t.data(this,r,new n(s,this))})),v}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=B++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(r){r.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(n,r){e._removeClass(r,n)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var r=e,s,l,h;if(arguments.length===0)return t.widget.extend({},this.options);if(typeof e=="string")if(r={},s=e.split("."),e=s.shift(),s.length){for(l=r[e]=t.widget.extend({},this.options[e]),h=0;h<s.length-1;h++)l[s[h]]=l[s[h]]||{},l=l[s[h]];if(e=s.pop(),arguments.length===1)return l[e]===void 0?null:l[e];l[e]=n}else{if(arguments.length===1)return this.options[e]===void 0?null:this.options[e];r[e]=n}return this._setOptions(r),this},_setOptions:function(e){var n;for(n in e)this._setOption(n,e[n]);return this},_setOption:function(e,n){return e==="classes"&&this._setOptionClasses(n),this.options[e]=n,e==="disabled"&&this._setOptionDisabled(n),this},_setOptionClasses:function(e){var n,r,s;for(n in e)s=this.classesElementLookup[n],!(e[n]===this.options.classes[n]||!s||!s.length)&&(r=t(s.get()),this._removeClass(s,n),r.addClass(this._classes({element:r,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],r=this;e=t.extend({element:this.element,classes:this.options.classes||{}},e);function s(){var h=[];e.element.each(function(v,D){var F=t.map(r.classesElementLookup,function(Z){return Z}).some(function(Z){return Z.is(D)});F||h.push(D)}),r._on(t(h),{remove:"_untrackClassesElement"})}function l(h,v){var D,F;for(F=0;F<h.length;F++)D=r.classesElementLookup[h[F]]||t(),e.add?(s(),D=t(t.uniqueSort(D.get().concat(e.element.get())))):D=t(D.not(e.element).get()),r.classesElementLookup[h[F]]=D,n.push(h[F]),v&&e.classes[h[F]]&&n.push(e.classes[h[F]])}return e.keys&&l(e.keys.match(/\S+/g)||[],!0),e.extra&&l(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(r,s){t.inArray(e.target,s)!==-1&&(n.classesElementLookup[r]=t(s.not(e.target).get()))}),this._off(t(e.target))},_removeClass:function(e,n,r){return this._toggleClass(e,n,r,!1)},_addClass:function(e,n,r){return this._toggleClass(e,n,r,!0)},_toggleClass:function(e,n,r,s){s=typeof s=="boolean"?s:r;var l=typeof e=="string"||e===null,h={extra:l?n:r,keys:l?e:n,element:l?this.element:e,add:s};return h.element.toggleClass(this._classes(h),s),this},_on:function(e,n,r){var s,l=this;typeof e!="boolean"&&(r=n,n=e,e=!1),r?(n=s=t(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,s=this.widget()),t.each(r,function(h,v){function D(){if(!(!e&&(l.options.disabled===!0||t(this).hasClass("ui-state-disabled"))))return(typeof v=="string"?l[v]:v).apply(l,arguments)}typeof v!="string"&&(D.guid=v.guid=v.guid||D.guid||t.guid++);var F=h.match(/^([\w:-]*)\s*(.*)$/),Z=F[1]+l.eventNamespace,ae=F[2];ae?s.on(Z,ae,D):n.on(Z,D)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(e,n){function r(){return(typeof e=="string"?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(r,n||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(n){this._addClass(t(n.currentTarget),null,"ui-state-hover")},mouseleave:function(n){this._removeClass(t(n.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(n){this._addClass(t(n.currentTarget),null,"ui-state-focus")},focusout:function(n){this._removeClass(t(n.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,r){var s,l,h=this.options[e];if(r=r||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],l=n.originalEvent,l)for(s in l)s in n||(n[s]=l[s]);return this.element.trigger(n,r),!(typeof h=="function"&&h.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(r,s,l){typeof s=="string"&&(s={effect:s});var h,v=s?s===!0||typeof s=="number"?n:s.effect||n:e;s=s||{},typeof s=="number"?s={duration:s}:s===!0&&(s={}),h=!t.isEmptyObject(s),s.complete=l,s.delay&&r.delay(s.delay),h&&t.effects&&t.effects.effect[v]?r[e](s):v!==e&&r[v]?r[v](s.duration,s.easing,l):r.queue(function(D){t(this)[e](),l&&l.call(r[0]),D()})}}),t.widget;/*!
 * jQuery UI Position 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */(function(){var e,n=Math.max,r=Math.abs,s=/left|center|right/,l=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,v=/^\w+/,D=/%$/,F=t.fn.position;function Z(ie,le,ce){return[parseFloat(ie[0])*(D.test(ie[0])?le/100:1),parseFloat(ie[1])*(D.test(ie[1])?ce/100:1)]}function ae(ie,le){return parseInt(t.css(ie,le),10)||0}function ge(ie){return ie!=null&&ie===ie.window}function Q(ie){var le=ie[0];return le.nodeType===9?{width:ie.width(),height:ie.height(),offset:{top:0,left:0}}:ge(le)?{width:ie.width(),height:ie.height(),offset:{top:ie.scrollTop(),left:ie.scrollLeft()}}:le.preventDefault?{width:0,height:0,offset:{top:le.pageY,left:le.pageX}}:{width:ie.outerWidth(),height:ie.outerHeight(),offset:ie.offset()}}t.position={scrollbarWidth:function(){if(e!==void 0)return e;var ie,le,ce=t("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),ke=ce.children()[0];return t("body").append(ce),ie=ke.offsetWidth,ce.css("overflow","scroll"),le=ke.offsetWidth,ie===le&&(le=ce[0].clientWidth),ce.remove(),e=ie-le},getScrollInfo:function(ie){var le=ie.isWindow||ie.isDocument?"":ie.element.css("overflow-x"),ce=ie.isWindow||ie.isDocument?"":ie.element.css("overflow-y"),ke=le==="scroll"||le==="auto"&&ie.width<ie.element[0].scrollWidth,Pe=ce==="scroll"||ce==="auto"&&ie.height<ie.element[0].scrollHeight;return{width:Pe?t.position.scrollbarWidth():0,height:ke?t.position.scrollbarWidth():0}},getWithinInfo:function(ie){var le=t(ie||window),ce=ge(le[0]),ke=!!le[0]&&le[0].nodeType===9,Pe=!ce&&!ke;return{element:le,isWindow:ce,isDocument:ke,offset:Pe?t(ie).offset():{left:0,top:0},scrollLeft:le.scrollLeft(),scrollTop:le.scrollTop(),width:le.outerWidth(),height:le.outerHeight()}}},t.fn.position=function(ie){if(!ie||!ie.of)return F.apply(this,arguments);ie=t.extend({},ie);var le,ce,ke,Pe,ze,je,q=typeof ie.of=="string"?t(document).find(ie.of):t(ie.of),he=t.position.getWithinInfo(ie.within),be=t.position.getScrollInfo(he),Ce=(ie.collision||"flip").split(" "),Te={};return je=Q(q),q[0].preventDefault&&(ie.at="left top"),ce=je.width,ke=je.height,Pe=je.offset,ze=t.extend({},Pe),t.each(["my","at"],function(){var Ie=(ie[this]||"").split(" "),Oe,Ae;Ie.length===1&&(Ie=s.test(Ie[0])?Ie.concat(["center"]):l.test(Ie[0])?["center"].concat(Ie):["center","center"]),Ie[0]=s.test(Ie[0])?Ie[0]:"center",Ie[1]=l.test(Ie[1])?Ie[1]:"center",Oe=h.exec(Ie[0]),Ae=h.exec(Ie[1]),Te[this]=[Oe?Oe[0]:0,Ae?Ae[0]:0],ie[this]=[v.exec(Ie[0])[0],v.exec(Ie[1])[0]]}),Ce.length===1&&(Ce[1]=Ce[0]),ie.at[0]==="right"?ze.left+=ce:ie.at[0]==="center"&&(ze.left+=ce/2),ie.at[1]==="bottom"?ze.top+=ke:ie.at[1]==="center"&&(ze.top+=ke/2),le=Z(Te.at,ce,ke),ze.left+=le[0],ze.top+=le[1],this.each(function(){var Ie,Oe,Ae=t(this),Ge=Ae.outerWidth(),Je=Ae.outerHeight(),Ct=ae(this,"marginLeft"),ct=ae(this,"marginTop"),$t=Ge+Ct+ae(this,"marginRight")+be.width,lt=Je+ct+ae(this,"marginBottom")+be.height,Qe=t.extend({},ze),Vt=Z(Te.my,Ae.outerWidth(),Ae.outerHeight());ie.my[0]==="right"?Qe.left-=Ge:ie.my[0]==="center"&&(Qe.left-=Ge/2),ie.my[1]==="bottom"?Qe.top-=Je:ie.my[1]==="center"&&(Qe.top-=Je/2),Qe.left+=Vt[0],Qe.top+=Vt[1],Ie={marginLeft:Ct,marginTop:ct},t.each(["left","top"],function(it,Tt){t.ui.position[Ce[it]]&&t.ui.position[Ce[it]][Tt](Qe,{targetWidth:ce,targetHeight:ke,elemWidth:Ge,elemHeight:Je,collisionPosition:Ie,collisionWidth:$t,collisionHeight:lt,offset:[le[0]+Vt[0],le[1]+Vt[1]],my:ie.my,at:ie.at,within:he,elem:Ae})}),ie.using&&(Oe=function(it){var Tt=Pe.left-Qe.left,Mt=Tt+ce-Ge,Gt=Pe.top-Qe.top,li=Gt+ke-Je,Yt={target:{element:q,left:Pe.left,top:Pe.top,width:ce,height:ke},element:{element:Ae,left:Qe.left,top:Qe.top,width:Ge,height:Je},horizontal:Mt<0?"left":Tt>0?"right":"center",vertical:li<0?"top":Gt>0?"bottom":"middle"};ce<Ge&&r(Tt+Mt)<ce&&(Yt.horizontal="center"),ke<Je&&r(Gt+li)<ke&&(Yt.vertical="middle"),n(r(Tt),r(Mt))>n(r(Gt),r(li))?Yt.important="horizontal":Yt.important="vertical",ie.using.call(this,it,Yt)}),Ae.offset(t.extend(Qe,{using:Oe}))})},t.ui.position={fit:{left:function(ie,le){var ce=le.within,ke=ce.isWindow?ce.scrollLeft:ce.offset.left,Pe=ce.width,ze=ie.left-le.collisionPosition.marginLeft,je=ke-ze,q=ze+le.collisionWidth-Pe-ke,he;le.collisionWidth>Pe?je>0&&q<=0?(he=ie.left+je+le.collisionWidth-Pe-ke,ie.left+=je-he):q>0&&je<=0?ie.left=ke:je>q?ie.left=ke+Pe-le.collisionWidth:ie.left=ke:je>0?ie.left+=je:q>0?ie.left-=q:ie.left=n(ie.left-ze,ie.left)},top:function(ie,le){var ce=le.within,ke=ce.isWindow?ce.scrollTop:ce.offset.top,Pe=le.within.height,ze=ie.top-le.collisionPosition.marginTop,je=ke-ze,q=ze+le.collisionHeight-Pe-ke,he;le.collisionHeight>Pe?je>0&&q<=0?(he=ie.top+je+le.collisionHeight-Pe-ke,ie.top+=je-he):q>0&&je<=0?ie.top=ke:je>q?ie.top=ke+Pe-le.collisionHeight:ie.top=ke:je>0?ie.top+=je:q>0?ie.top-=q:ie.top=n(ie.top-ze,ie.top)}},flip:{left:function(ie,le){var ce=le.within,ke=ce.offset.left+ce.scrollLeft,Pe=ce.width,ze=ce.isWindow?ce.scrollLeft:ce.offset.left,je=ie.left-le.collisionPosition.marginLeft,q=je-ze,he=je+le.collisionWidth-Pe-ze,be=le.my[0]==="left"?-le.elemWidth:le.my[0]==="right"?le.elemWidth:0,Ce=le.at[0]==="left"?le.targetWidth:le.at[0]==="right"?-le.targetWidth:0,Te=-2*le.offset[0],Ie,Oe;q<0?(Ie=ie.left+be+Ce+Te+le.collisionWidth-Pe-ke,(Ie<0||Ie<r(q))&&(ie.left+=be+Ce+Te)):he>0&&(Oe=ie.left-le.collisionPosition.marginLeft+be+Ce+Te-ze,(Oe>0||r(Oe)<he)&&(ie.left+=be+Ce+Te))},top:function(ie,le){var ce=le.within,ke=ce.offset.top+ce.scrollTop,Pe=ce.height,ze=ce.isWindow?ce.scrollTop:ce.offset.top,je=ie.top-le.collisionPosition.marginTop,q=je-ze,he=je+le.collisionHeight-Pe-ze,be=le.my[1]==="top",Ce=be?-le.elemHeight:le.my[1]==="bottom"?le.elemHeight:0,Te=le.at[1]==="top"?le.targetHeight:le.at[1]==="bottom"?-le.targetHeight:0,Ie=-2*le.offset[1],Oe,Ae;q<0?(Ae=ie.top+Ce+Te+Ie+le.collisionHeight-Pe-ke,(Ae<0||Ae<r(q))&&(ie.top+=Ce+Te+Ie)):he>0&&(Oe=ie.top-le.collisionPosition.marginTop+Ce+Te+Ie-ze,(Oe>0||r(Oe)<he)&&(ie.top+=Ce+Te+Ie))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}})(),t.ui.position;/*!
 * jQuery UI :data 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.extend(t.expr.pseudos,{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,r){return!!t.data(e,r[3])}});/*!
 * jQuery UI Disable Selection 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(n){n.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var z=t;/*!
 * jQuery Color Animations v2.2.0
 * https://github.com/jquery/jquery-color
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Sun May 10 09:02:36 2020 +0200
 */var a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",H={},b=H.toString,x=/^([\-+])=\s*(\d+\.?\d*)/,M=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1]*2.55,e[2]*2.55,e[3]*2.55,e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),e[4]?(parseInt(e[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),e[4]?(parseInt(e[4]+e[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],S=z.Color=function(e,n,r,s){return new z.Color.fn.parse(e,n,r,s)},A={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},T={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},R=S.support={},E=z("<p>")[0],u,k=z.each;E.style.cssText="background-color:rgba(1,1,1,.5)",R.rgba=E.style.backgroundColor.indexOf("rgba")>-1,k(A,function(e,n){n.cache="_"+e,n.props.alpha={idx:3,type:"percent",def:1}}),z.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,n){H["[object "+n+"]"]=n.toLowerCase()});function d(e){return e==null?e+"":typeof e=="object"?H[b.call(e)]||"object":typeof e}function c(e,n,r){var s=T[n.type]||{};return e==null?r||!n.def?null:n.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?n.def:s.mod?(e+s.mod)%s.mod:Math.min(s.max,Math.max(0,e)))}function g(e){var n=S(),r=n._rgba=[];return e=e.toLowerCase(),k(M,function(s,l){var h,v=l.re.exec(e),D=v&&l.parse(v),F=l.space||"rgba";if(D)return h=n[F](D),n[A[F].cache]=h[A[F].cache],r=n._rgba=h._rgba,!1}),r.length?(r.join()==="0,0,0,0"&&z.extend(r,u.transparent),n):u[e]}S.fn=z.extend(S.prototype,{parse:function(e,n,r,s){if(e===void 0)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=z(e).css(n),n=void 0);var l=this,h=d(e),v=this._rgba=[];if(n!==void 0&&(e=[e,n,r,s],h="array"),h==="string")return this.parse(g(e)||u._default);if(h==="array")return k(A.rgba.props,function(D,F){v[F.idx]=c(e[F.idx],F)}),this;if(h==="object")return e instanceof S?k(A,function(D,F){e[F.cache]&&(l[F.cache]=e[F.cache].slice())}):k(A,function(D,F){var Z=F.cache;k(F.props,function(ae,ge){if(!l[Z]&&F.to){if(ae==="alpha"||e[ae]==null)return;l[Z]=F.to(l._rgba)}l[Z][ge.idx]=c(e[ae],ge,!0)}),l[Z]&&z.inArray(null,l[Z].slice(0,3))<0&&(l[Z][3]==null&&(l[Z][3]=1),F.from&&(l._rgba=F.from(l[Z])))}),this},is:function(e){var n=S(e),r=!0,s=this;return k(A,function(l,h){var v,D=n[h.cache];return D&&(v=s[h.cache]||h.to&&h.to(s._rgba)||[],k(h.props,function(F,Z){if(D[Z.idx]!=null)return r=D[Z.idx]===v[Z.idx],r})),r}),r},_space:function(){var e=[],n=this;return k(A,function(r,s){n[s.cache]&&e.push(r)}),e.pop()},transition:function(e,n){var r=S(e),s=r._space(),l=A[s],h=this.alpha()===0?S("transparent"):this,v=h[l.cache]||l.to(h._rgba),D=v.slice();return r=r[l.cache],k(l.props,function(F,Z){var ae=Z.idx,ge=v[ae],Q=r[ae],ie=T[Z.type]||{};Q!==null&&(ge===null?D[ae]=Q:(ie.mod&&(Q-ge>ie.mod/2?ge+=ie.mod:ge-Q>ie.mod/2&&(ge-=ie.mod)),D[ae]=c((Q-ge)*n+ge,Z)))}),this[s](D)},blend:function(e){if(this._rgba[3]===1)return this;var n=this._rgba.slice(),r=n.pop(),s=S(e)._rgba;return S(z.map(n,function(l,h){return(1-r)*s[h]+r*l}))},toRgbaString:function(){var e="rgba(",n=z.map(this._rgba,function(r,s){return r!=null?r:s>2?1:0});return n[3]===1&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=z.map(this.hsla(),function(r,s){return r==null&&(r=s>2?1:0),s&&s<3&&(r=Math.round(r*100)+"%"),r});return n[3]===1&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),r=n.pop();return e&&n.push(~~(r*255)),"#"+z.map(n,function(s){return s=(s||0).toString(16),s.length===1?"0"+s:s}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),S.fn.parse.prototype=S.fn;function y(e,n,r){return r=(r+1)%1,r*6<1?e+(n-e)*r*6:r*2<1?n:r*3<2?e+(n-e)*(2/3-r)*6:e}A.hsla.to=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var n=e[0]/255,r=e[1]/255,s=e[2]/255,l=e[3],h=Math.max(n,r,s),v=Math.min(n,r,s),D=h-v,F=h+v,Z=F*.5,ae,ge;return v===h?ae=0:n===h?ae=60*(r-s)/D+360:r===h?ae=60*(s-n)/D+120:ae=60*(n-r)/D+240,D===0?ge=0:Z<=.5?ge=D/F:ge=D/(2-F),[Math.round(ae)%360,ge,Z,l==null?1:l]},A.hsla.from=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var n=e[0]/360,r=e[1],s=e[2],l=e[3],h=s<=.5?s*(1+r):s+r-s*r,v=2*s-h;return[Math.round(y(v,h,n+1/3)*255),Math.round(y(v,h,n)*255),Math.round(y(v,h,n-1/3)*255),l]},k(A,function(e,n){var r=n.props,s=n.cache,l=n.to,h=n.from;S.fn[e]=function(v){if(l&&!this[s]&&(this[s]=l(this._rgba)),v===void 0)return this[s].slice();var D,F=d(v),Z=F==="array"||F==="object"?v:arguments,ae=this[s].slice();return k(r,function(ge,Q){var ie=Z[F==="object"?ge:Q.idx];ie==null&&(ie=ae[Q.idx]),ae[Q.idx]=c(ie,Q)}),h?(D=S(h(ae)),D[s]=ae,D):S(ae)},k(r,function(v,D){S.fn[v]||(S.fn[v]=function(F){var Z,ae,ge,Q,ie=d(F);return v==="alpha"?Q=this._hsla?"hsla":"rgba":Q=e,Z=this[Q](),ae=Z[D.idx],ie==="undefined"?ae:(ie==="function"&&(F=F.call(this,ae),ie=d(F)),F==null&&D.empty?this:(ie==="string"&&(ge=x.exec(F),ge&&(F=ae+parseFloat(ge[2])*(ge[1]==="+"?1:-1))),Z[D.idx]=F,this[Q](Z)))})})}),S.hook=function(e){var n=e.split(" ");k(n,function(r,s){z.cssHooks[s]={set:function(l,h){var v,D,F="";if(h!=="transparent"&&(d(h)!=="string"||(v=g(h)))){if(h=S(v||h),!R.rgba&&h._rgba[3]!==1){for(D=s==="backgroundColor"?l.parentNode:l;(F===""||F==="transparent")&&D&&D.style;)try{F=z.css(D,"backgroundColor"),D=D.parentNode}catch{}h=h.blend(F&&F!=="transparent"?F:"_default")}h=h.toRgbaString()}try{l.style[s]=h}catch{}}},z.fx.step[s]=function(l){l.colorInit||(l.start=S(l.elem,s),l.end=S(l.end),l.colorInit=!0),z.cssHooks[s].set(l.elem,l.start.transition(l.end,l.pos))}})},S.hook(a),z.cssHooks.borderColor={expand:function(e){var n={};return k(["Top","Right","Bottom","Left"],function(r,s){n["border"+s+"Color"]=e}),n}},u=z.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};/*!
 * jQuery UI Effects 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var m="ui-effects-",U="ui-effects-style",K="ui-effects-animated";t.effects={effect:{}},function(){var e=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(h,v){t.fx.step[v]=function(D){(D.end!=="none"&&!D.setAttr||D.pos===1&&!D.setAttr)&&(z.style(D.elem,v,D.end),D.setAttr=!0)}});function r(h){return h.replace(/-([\da-z])/gi,function(v,D){return D.toUpperCase()})}function s(h){var v,D,F=h.ownerDocument.defaultView?h.ownerDocument.defaultView.getComputedStyle(h,null):h.currentStyle,Z={};if(F&&F.length&&F[0]&&F[F[0]])for(D=F.length;D--;)v=F[D],typeof F[v]=="string"&&(Z[r(v)]=F[v]);else for(v in F)typeof F[v]=="string"&&(Z[v]=F[v]);return Z}function l(h,v){var D={},F,Z;for(F in v)Z=v[F],h[F]!==Z&&(n[F]||(t.fx.step[F]||!isNaN(parseFloat(Z)))&&(D[F]=Z));return D}t.fn.addBack||(t.fn.addBack=function(h){return this.add(h==null?this.prevObject:this.prevObject.filter(h))}),t.effects.animateClass=function(h,v,D,F){var Z=t.speed(v,D,F);return this.queue(function(){var ae=t(this),ge=ae.attr("class")||"",Q,ie=Z.children?ae.find("*").addBack():ae;ie=ie.map(function(){var le=t(this);return{el:le,start:s(this)}}),Q=function(){t.each(e,function(le,ce){h[ce]&&ae[ce+"Class"](h[ce])})},Q(),ie=ie.map(function(){return this.end=s(this.el[0]),this.diff=l(this.start,this.end),this}),ae.attr("class",ge),ie=ie.map(function(){var le=this,ce=t.Deferred(),ke=t.extend({},Z,{queue:!1,complete:function(){ce.resolve(le)}});return this.el.animate(this.diff,ke),ce.promise()}),t.when.apply(t,ie.get()).done(function(){Q(),t.each(arguments,function(){var le=this.el;t.each(this.diff,function(ce){le.css(ce,"")})}),Z.complete.call(ae[0])})})},t.fn.extend({addClass:function(h){return function(v,D,F,Z){return D?t.effects.animateClass.call(this,{add:v},D,F,Z):h.apply(this,arguments)}}(t.fn.addClass),removeClass:function(h){return function(v,D,F,Z){return arguments.length>1?t.effects.animateClass.call(this,{remove:v},D,F,Z):h.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(h){return function(v,D,F,Z,ae){return typeof D=="boolean"||D===void 0?F?t.effects.animateClass.call(this,D?{add:v}:{remove:v},F,Z,ae):h.apply(this,arguments):t.effects.animateClass.call(this,{toggle:v},D,F,Z)}}(t.fn.toggleClass),switchClass:function(h,v,D,F,Z){return t.effects.animateClass.call(this,{add:v,remove:h},D,F,Z)}})}(),function(){t.expr&&t.expr.pseudos&&t.expr.pseudos.animated&&(t.expr.pseudos.animated=function(s){return function(l){return!!t(l).data(K)||s(l)}}(t.expr.pseudos.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(s,l){for(var h=0,v=l.length;h<v;h++)l[h]!==null&&s.data(m+l[h],s[0].style[l[h]])},restore:function(s,l){for(var h,v=0,D=l.length;v<D;v++)l[v]!==null&&(h=s.data(m+l[v]),s.css(l[v],h))},setMode:function(s,l){return l==="toggle"&&(l=s.is(":hidden")?"show":"hide"),l},createWrapper:function(s){if(s.parent().is(".ui-effects-wrapper"))return s.parent();var l={width:s.outerWidth(!0),height:s.outerHeight(!0),float:s.css("float")},h=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),v={width:s.width(),height:s.height()},D=document.activeElement;try{D.id}catch{D=document.body}return s.wrap(h),(s[0]===D||t.contains(s[0],D))&&t(D).trigger("focus"),h=s.parent(),s.css("position")==="static"?(h.css({position:"relative"}),s.css({position:"relative"})):(t.extend(l,{position:s.css("position"),zIndex:s.css("z-index")}),t.each(["top","left","bottom","right"],function(F,Z){l[Z]=s.css(Z),isNaN(parseInt(l[Z],10))&&(l[Z]="auto")}),s.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),s.css(v),h.css(l).show()},removeWrapper:function(s){var l=document.activeElement;return s.parent().is(".ui-effects-wrapper")&&(s.parent().replaceWith(s),(s[0]===l||t.contains(s[0],l))&&t(l).trigger("focus")),s}}),t.extend(t.effects,{version:"1.13.2",define:function(s,l,h){return h||(h=l,l="effect"),t.effects.effect[s]=h,t.effects.effect[s].mode=l,h},scaledDimensions:function(s,l,h){if(l===0)return{height:0,width:0,outerHeight:0,outerWidth:0};var v=h!=="horizontal"?(l||100)/100:1,D=h!=="vertical"?(l||100)/100:1;return{height:s.height()*D,width:s.width()*v,outerHeight:s.outerHeight()*D,outerWidth:s.outerWidth()*v}},clipToBox:function(s){return{width:s.clip.right-s.clip.left,height:s.clip.bottom-s.clip.top,left:s.clip.left,top:s.clip.top}},unshift:function(s,l,h){var v=s.queue();l>1&&v.splice.apply(v,[1,0].concat(v.splice(l,h))),s.dequeue()},saveStyle:function(s){s.data(U,s[0].style.cssText)},restoreStyle:function(s){s[0].style.cssText=s.data(U)||"",s.removeData(U)},mode:function(s,l){var h=s.is(":hidden");return l==="toggle"&&(l=h?"show":"hide"),(h?l==="hide":l==="show")&&(l="none"),l},getBaseline:function(s,l){var h,v;switch(s[0]){case"top":h=0;break;case"middle":h=.5;break;case"bottom":h=1;break;default:h=s[0]/l.height}switch(s[1]){case"left":v=0;break;case"center":v=.5;break;case"right":v=1;break;default:v=s[1]/l.width}return{x:v,y:h}},createPlaceholder:function(s){var l,h=s.css("position"),v=s.position();return s.css({marginTop:s.css("marginTop"),marginBottom:s.css("marginBottom"),marginLeft:s.css("marginLeft"),marginRight:s.css("marginRight")}).outerWidth(s.outerWidth()).outerHeight(s.outerHeight()),/^(static|relative)/.test(h)&&(h="absolute",l=t("<"+s[0].nodeName+">").insertAfter(s).css({display:/^(inline|ruby)/.test(s.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:s.css("marginTop"),marginBottom:s.css("marginBottom"),marginLeft:s.css("marginLeft"),marginRight:s.css("marginRight"),float:s.css("float")}).outerWidth(s.outerWidth()).outerHeight(s.outerHeight()).addClass("ui-effects-placeholder"),s.data(m+"placeholder",l)),s.css({position:h,left:v.left,top:v.top}),l},removePlaceholder:function(s){var l=m+"placeholder",h=s.data(l);h&&(h.remove(),s.removeData(l))},cleanUp:function(s){t.effects.restoreStyle(s),t.effects.removePlaceholder(s)},setTransition:function(s,l,h,v){return v=v||{},t.each(l,function(D,F){var Z=s.cssUnit(F);Z[0]>0&&(v[F]=Z[0]*h+Z[1])}),v}});function e(s,l,h,v){return t.isPlainObject(s)&&(l=s,s=s.effect),s={effect:s},l==null&&(l={}),typeof l=="function"&&(v=l,h=null,l={}),(typeof l=="number"||t.fx.speeds[l])&&(v=h,h=l,l={}),typeof h=="function"&&(v=h,h=null),l&&t.extend(s,l),h=h||l.duration,s.duration=t.fx.off?0:typeof h=="number"?h:h in t.fx.speeds?t.fx.speeds[h]:t.fx.speeds._default,s.complete=v||l.complete,s}function n(s){return!!(!s||typeof s=="number"||t.fx.speeds[s]||typeof s=="string"&&!t.effects.effect[s]||typeof s=="function"||typeof s=="object"&&!s.effect)}t.fn.extend({effect:function(){var s=e.apply(this,arguments),l=t.effects.effect[s.effect],h=l.mode,v=s.queue,D=v||"fx",F=s.complete,Z=s.mode,ae=[],ge=function(ie){var le=t(this),ce=t.effects.mode(le,Z)||h;le.data(K,!0),ae.push(ce),h&&(ce==="show"||ce===h&&ce==="hide")&&le.show(),(!h||ce!=="none")&&t.effects.saveStyle(le),typeof ie=="function"&&ie()};if(t.fx.off||!l)return Z?this[Z](s.duration,F):this.each(function(){F&&F.call(this)});function Q(ie){var le=t(this);function ce(){le.removeData(K),t.effects.cleanUp(le),s.mode==="hide"&&le.hide(),ke()}function ke(){typeof F=="function"&&F.call(le[0]),typeof ie=="function"&&ie()}s.mode=ae.shift(),t.uiBackCompat!==!1&&!h?(le.is(":hidden")?Z==="hide":Z==="show")?(le[Z](),ke()):l.call(le[0],s,ke):s.mode==="none"?(le[Z](),ke()):l.call(le[0],s,ce)}return v===!1?this.each(ge).each(Q):this.queue(D,ge).queue(D,Q)},show:function(s){return function(l){if(n(l))return s.apply(this,arguments);var h=e.apply(this,arguments);return h.mode="show",this.effect.call(this,h)}}(t.fn.show),hide:function(s){return function(l){if(n(l))return s.apply(this,arguments);var h=e.apply(this,arguments);return h.mode="hide",this.effect.call(this,h)}}(t.fn.hide),toggle:function(s){return function(l){if(n(l)||typeof l=="boolean")return s.apply(this,arguments);var h=e.apply(this,arguments);return h.mode="toggle",this.effect.call(this,h)}}(t.fn.toggle),cssUnit:function(s){var l=this.css(s),h=[];return t.each(["em","px","%","pt"],function(v,D){l.indexOf(D)>0&&(h=[parseFloat(l),D])}),h},cssClip:function(s){return s?this.css("clip","rect("+s.top+"px "+s.right+"px "+s.bottom+"px "+s.left+"px)"):r(this.css("clip"),this)},transfer:function(s,l){var h=t(this),v=t(s.to),D=v.css("position")==="fixed",F=t("body"),Z=D?F.scrollTop():0,ae=D?F.scrollLeft():0,ge=v.offset(),Q={top:ge.top-Z,left:ge.left-ae,height:v.innerHeight(),width:v.innerWidth()},ie=h.offset(),le=t("<div class='ui-effects-transfer'></div>");le.appendTo("body").addClass(s.className).css({top:ie.top-Z,left:ie.left-ae,height:h.innerHeight(),width:h.innerWidth(),position:D?"fixed":"absolute"}).animate(Q,s.duration,s.easing,function(){le.remove(),typeof l=="function"&&l()})}});function r(s,l){var h=l.outerWidth(),v=l.outerHeight(),D=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,F=D.exec(s)||["",0,h,v,0];return{top:parseFloat(F[1])||0,right:F[2]==="auto"?h:parseFloat(F[2]),bottom:F[3]==="auto"?v:parseFloat(F[3]),left:parseFloat(F[4])||0}}t.fx.step.clip=function(s){s.clipInit||(s.start=t(s.elem).cssClip(),typeof s.end=="string"&&(s.end=r(s.end,s.elem)),s.clipInit=!0),t(s.elem).cssClip({top:s.pos*(s.end.top-s.start.top)+s.start.top,right:s.pos*(s.end.right-s.start.right)+s.start.right,bottom:s.pos*(s.end.bottom-s.start.bottom)+s.start.bottom,left:s.pos*(s.end.left-s.start.left)+s.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,r){e[r]=function(s){return Math.pow(s,n+2)}}),t.extend(e,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return n===0||n===1?n:-Math.pow(2,8*(n-1))*Math.sin(((n-1)*80-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var r,s=4;n<((r=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((r*3-2)/22-n,2)}}),t.each(e,function(n,r){t.easing["easeIn"+n]=r,t.easing["easeOut"+n]=function(s){return 1-r(1-s)},t.easing["easeInOut"+n]=function(s){return s<.5?r(s*2)/2:1-r(s*-2+2)/2}})}(),t.effects;/*!
 * jQuery UI Effects Blind 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.effects.define("blind","hide",function(e,n){var r={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},s=t(this),l=e.direction||"up",h=s.cssClip(),v={clip:t.extend({},h)},D=t.effects.createPlaceholder(s);v.clip[r[l][0]]=v.clip[r[l][1]],e.mode==="show"&&(s.cssClip(v.clip),D&&D.css(t.effects.clipToBox(v)),v.clip=h),D&&D.animate(t.effects.clipToBox(v),e.duration,e.easing),s.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:n})});/*!
 * jQuery UI Effects Bounce 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.effects.define("bounce",function(e,n){var r,s,l,h=t(this),v=e.mode,D=v==="hide",F=v==="show",Z=e.direction||"up",ae=e.distance,ge=e.times||5,Q=ge*2+(F||D?1:0),ie=e.duration/Q,le=e.easing,ce=Z==="up"||Z==="down"?"top":"left",ke=Z==="up"||Z==="left",Pe=0,ze=h.queue().length;for(t.effects.createPlaceholder(h),l=h.css(ce),ae||(ae=h[ce==="top"?"outerHeight":"outerWidth"]()/3),F&&(s={opacity:1},s[ce]=l,h.css("opacity",0).css(ce,ke?-ae*2:ae*2).animate(s,ie,le)),D&&(ae=ae/Math.pow(2,ge-1)),s={},s[ce]=l;Pe<ge;Pe++)r={},r[ce]=(ke?"-=":"+=")+ae,h.animate(r,ie,le).animate(s,ie,le),ae=D?ae*2:ae/2;D&&(r={opacity:0},r[ce]=(ke?"-=":"+=")+ae,h.animate(r,ie,le)),h.queue(n),t.effects.unshift(h,ze,Q+1)});/*!
 * jQuery UI Effects Clip 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.effects.define("clip","hide",function(e,n){var r,s={},l=t(this),h=e.direction||"vertical",v=h==="both",D=v||h==="horizontal",F=v||h==="vertical";r=l.cssClip(),s.clip={top:F?(r.bottom-r.top)/2:r.top,right:D?(r.right-r.left)/2:r.right,bottom:F?(r.bottom-r.top)/2:r.bottom,left:D?(r.right-r.left)/2:r.left},t.effects.createPlaceholder(l),e.mode==="show"&&(l.cssClip(s.clip),s.clip=r),l.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:n})});/*!
 * jQuery UI Effects Drop 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.effects.define("drop","hide",function(e,n){var r,s=t(this),l=e.mode,h=l==="show",v=e.direction||"left",D=v==="up"||v==="down"?"top":"left",F=v==="up"||v==="left"?"-=":"+=",Z=F==="+="?"-=":"+=",ae={opacity:0};t.effects.createPlaceholder(s),r=e.distance||s[D==="top"?"outerHeight":"outerWidth"](!0)/2,ae[D]=F+r,h&&(s.css(ae),ae[D]=Z+r,ae.opacity=1),s.animate(ae,{queue:!1,duration:e.duration,easing:e.easing,complete:n})});/*!
 * jQuery UI Effects Explode 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.effects.define("explode","hide",function(e,n){var r,s,l,h,v,D,F=e.pieces?Math.round(Math.sqrt(e.pieces)):3,Z=F,ae=t(this),ge=e.mode,Q=ge==="show",ie=ae.show().css("visibility","hidden").offset(),le=Math.ceil(ae.outerWidth()/Z),ce=Math.ceil(ae.outerHeight()/F),ke=[];function Pe(){ke.push(this),ke.length===F*Z&&ze()}for(r=0;r<F;r++)for(h=ie.top+r*ce,D=r-(F-1)/2,s=0;s<Z;s++)l=ie.left+s*le,v=s-(Z-1)/2,ae.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*le,top:-r*ce}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:le,height:ce,left:l+(Q?v*le:0),top:h+(Q?D*ce:0),opacity:Q?0:1}).animate({left:l+(Q?0:v*le),top:h+(Q?0:D*ce),opacity:Q?1:0},e.duration||500,e.easing,Pe);function ze(){ae.css({visibility:"visible"}),t(ke).remove(),n()}});/*!
 * jQuery UI Effects Fade 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.effects.define("fade","toggle",function(e,n){var r=e.mode==="show";t(this).css("opacity",r?0:1).animate({opacity:r?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})});/*!
 * jQuery UI Effects Fold 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.effects.define("fold","hide",function(e,n){var r=t(this),s=e.mode,l=s==="show",h=s==="hide",v=e.size||15,D=/([0-9]+)%/.exec(v),F=!!e.horizFirst,Z=F?["right","bottom"]:["bottom","right"],ae=e.duration/2,ge=t.effects.createPlaceholder(r),Q=r.cssClip(),ie={clip:t.extend({},Q)},le={clip:t.extend({},Q)},ce=[Q[Z[0]],Q[Z[1]]],ke=r.queue().length;D&&(v=parseInt(D[1],10)/100*ce[h?0:1]),ie.clip[Z[0]]=v,le.clip[Z[0]]=v,le.clip[Z[1]]=0,l&&(r.cssClip(le.clip),ge&&ge.css(t.effects.clipToBox(le)),le.clip=Q),r.queue(function(Pe){ge&&ge.animate(t.effects.clipToBox(ie),ae,e.easing).animate(t.effects.clipToBox(le),ae,e.easing),Pe()}).animate(ie,ae,e.easing).animate(le,ae,e.easing).queue(n),t.effects.unshift(r,ke,4)});/*!
 * jQuery UI Effects Highlight 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.effects.define("highlight","show",function(e,n){var r=t(this),s={backgroundColor:r.css("backgroundColor")};e.mode==="hide"&&(s.opacity=0),t.effects.saveStyle(r),r.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:n})});/*!
 * jQuery UI Effects Size 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.effects.define("size",function(e,n){var r,s,l,h=t(this),v=["fontSize"],D=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],F=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],Z=e.mode,ae=Z!=="effect",ge=e.scale||"both",Q=e.origin||["middle","center"],ie=h.css("position"),le=h.position(),ce=t.effects.scaledDimensions(h),ke=e.from||ce,Pe=e.to||t.effects.scaledDimensions(h,0);t.effects.createPlaceholder(h),Z==="show"&&(l=ke,ke=Pe,Pe=l),s={from:{y:ke.height/ce.height,x:ke.width/ce.width},to:{y:Pe.height/ce.height,x:Pe.width/ce.width}},(ge==="box"||ge==="both")&&(s.from.y!==s.to.y&&(ke=t.effects.setTransition(h,D,s.from.y,ke),Pe=t.effects.setTransition(h,D,s.to.y,Pe)),s.from.x!==s.to.x&&(ke=t.effects.setTransition(h,F,s.from.x,ke),Pe=t.effects.setTransition(h,F,s.to.x,Pe))),(ge==="content"||ge==="both")&&s.from.y!==s.to.y&&(ke=t.effects.setTransition(h,v,s.from.y,ke),Pe=t.effects.setTransition(h,v,s.to.y,Pe)),Q&&(r=t.effects.getBaseline(Q,ce),ke.top=(ce.outerHeight-ke.outerHeight)*r.y+le.top,ke.left=(ce.outerWidth-ke.outerWidth)*r.x+le.left,Pe.top=(ce.outerHeight-Pe.outerHeight)*r.y+le.top,Pe.left=(ce.outerWidth-Pe.outerWidth)*r.x+le.left),delete ke.outerHeight,delete ke.outerWidth,h.css(ke),(ge==="content"||ge==="both")&&(D=D.concat(["marginTop","marginBottom"]).concat(v),F=F.concat(["marginLeft","marginRight"]),h.find("*[width]").each(function(){var ze=t(this),je=t.effects.scaledDimensions(ze),q={height:je.height*s.from.y,width:je.width*s.from.x,outerHeight:je.outerHeight*s.from.y,outerWidth:je.outerWidth*s.from.x},he={height:je.height*s.to.y,width:je.width*s.to.x,outerHeight:je.height*s.to.y,outerWidth:je.width*s.to.x};s.from.y!==s.to.y&&(q=t.effects.setTransition(ze,D,s.from.y,q),he=t.effects.setTransition(ze,D,s.to.y,he)),s.from.x!==s.to.x&&(q=t.effects.setTransition(ze,F,s.from.x,q),he=t.effects.setTransition(ze,F,s.to.x,he)),ae&&t.effects.saveStyle(ze),ze.css(q),ze.animate(he,e.duration,e.easing,function(){ae&&t.effects.restoreStyle(ze)})})),h.animate(Pe,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var ze=h.offset();Pe.opacity===0&&h.css("opacity",ke.opacity),ae||(h.css("position",ie==="static"?"relative":ie).offset(ze),t.effects.saveStyle(h)),n()}})});/*!
 * jQuery UI Effects Scale 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.effects.define("scale",function(e,n){var r=t(this),s=e.mode,l=parseInt(e.percent,10)||(parseInt(e.percent,10)===0||s!=="effect"?0:100),h=t.extend(!0,{from:t.effects.scaledDimensions(r),to:t.effects.scaledDimensions(r,l,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(h.from.opacity=1,h.to.opacity=0),t.effects.effect.size.call(this,h,n)});/*!
 * jQuery UI Effects Puff 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.effects.define("puff","hide",function(e,n){var r=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,r,n)});/*!
 * jQuery UI Effects Pulsate 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.effects.define("pulsate","show",function(e,n){var r=t(this),s=e.mode,l=s==="show",h=s==="hide",v=l||h,D=(e.times||5)*2+(v?1:0),F=e.duration/D,Z=0,ae=1,ge=r.queue().length;for((l||!r.is(":visible"))&&(r.css("opacity",0).show(),Z=1);ae<D;ae++)r.animate({opacity:Z},F,e.easing),Z=1-Z;r.animate({opacity:Z},F,e.easing),r.queue(n),t.effects.unshift(r,ge,D+1)});/*!
 * jQuery UI Effects Shake 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.effects.define("shake",function(e,n){var r=1,s=t(this),l=e.direction||"left",h=e.distance||20,v=e.times||3,D=v*2+1,F=Math.round(e.duration/D),Z=l==="up"||l==="down"?"top":"left",ae=l==="up"||l==="left",ge={},Q={},ie={},le=s.queue().length;for(t.effects.createPlaceholder(s),ge[Z]=(ae?"-=":"+=")+h,Q[Z]=(ae?"+=":"-=")+h*2,ie[Z]=(ae?"-=":"+=")+h*2,s.animate(ge,F,e.easing);r<v;r++)s.animate(Q,F,e.easing).animate(ie,F,e.easing);s.animate(Q,F,e.easing).animate(ge,F/2,e.easing).queue(n),t.effects.unshift(s,le,D+1)});/*!
 * jQuery UI Effects Slide 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.effects.define("slide","show",function(e,n){var r,s,l=t(this),h={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},v=e.mode,D=e.direction||"left",F=D==="up"||D==="down"?"top":"left",Z=D==="up"||D==="left",ae=e.distance||l[F==="top"?"outerHeight":"outerWidth"](!0),ge={};t.effects.createPlaceholder(l),r=l.cssClip(),s=l.position()[F],ge[F]=(Z?-1:1)*ae+s,ge.clip=l.cssClip(),ge.clip[h[D][1]]=ge.clip[h[D][0]],v==="show"&&(l.cssClip(ge.clip),l.css(F,ge[F]),ge.clip=r,ge[F]=s),l.animate(ge,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.uiBackCompat!==!1&&t.effects.define("transfer",function(e,n){t(this).transfer(e,n)});/*!
 * jQuery UI Focusable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.ui.focusable=function(e,n){var r,s,l,h,v,D=e.nodeName.toLowerCase();return D==="area"?(r=e.parentNode,s=r.name,!e.href||!s||r.nodeName.toLowerCase()!=="map"?!1:(l=t("img[usemap='#"+s+"']"),l.length>0&&l.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(D)?(h=!e.disabled,h&&(v=t(e).closest("fieldset")[0],v&&(h=!v.disabled))):D==="a"?h=e.href||n:h=n,h&&t(e).is(":visible")&&J(t(e)))};function J(e){for(var n=e.css("visibility");n==="inherit";)e=e.parent(),n=e.css("visibility");return n==="visible"}t.extend(t.expr.pseudos,{focusable:function(e){return t.ui.focusable(e,t.attr(e,"tabindex")!=null)}}),t.ui.focusable,t.fn._form=function(){return typeof this[0].form=="string"?this.closest("form"):t(this[0].form)};/*!
 * jQuery UI Form Reset Mixin 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element._form(),!!this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(!!this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};/*!
 * jQuery UI Support for jQuery core 1.8.x and newer 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 */if(t.expr.pseudos||(t.expr.pseudos=t.expr[":"]),t.uniqueSort||(t.uniqueSort=t.unique),!t.escapeSelector){var re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,C=function(e,n){return n?e==="\0"?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e};t.escapeSelector=function(e){return(e+"").replace(re,C)}}(!t.fn.even||!t.fn.odd)&&t.fn.extend({even:function(){return this.filter(function(e){return e%2===0})},odd:function(){return this.filter(function(e){return e%2===1})}});/*!
 * jQuery UI Keycode 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};/*!
 * jQuery UI Labels 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.fn.labels=function(){var e,n,r,s,l;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(s=this.eq(0).parents("label"),r=this.attr("id"),r&&(e=this.eq(0).parents().last(),l=e.add(e.length?e.siblings():this.siblings()),n="label[for='"+t.escapeSelector(r)+"']",s=s.add(l.find(n).addBack(n))),this.pushStack(s)):this.pushStack([])};/*!
 * jQuery UI Scroll Parent 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.fn.scrollParent=function(e){var n=this.css("position"),r=n==="absolute",s=e?/(auto|scroll|hidden)/:/(auto|scroll)/,l=this.parents().filter(function(){var h=t(this);return r&&h.css("position")==="static"?!1:s.test(h.css("overflow")+h.css("overflow-y")+h.css("overflow-x"))}).eq(0);return n==="fixed"||!l.length?t(this[0].ownerDocument||document):l};/*!
 * jQuery UI Tabbable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.extend(t.expr.pseudos,{tabbable:function(e){var n=t.attr(e,"tabindex"),r=n!=null;return(!r||n>=0)&&t.ui.focusable(e,r)}});/*!
 * jQuery UI Unique ID 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}});/*!
 * jQuery UI Accordion 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.accordion",{version:"1.13.2",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(e){return e.find("> li > :first-child").add(e.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),!e.collapsible&&(e.active===!1||e.active==null)&&(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,r=this.options.icons;r&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+r.header),e.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,r.header)._addClass(n,null,r.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),this.options.heightStyle!=="content"&&e.css("height","")},_setOption:function(e,n){if(e==="active"){this._activate(n);return}e==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(n)),this._super(e,n),e==="collapsible"&&!n&&this.options.active===!1&&this._activate(0),e==="icons"&&(this._destroyIcons(),n&&this._createIcons())},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(e){if(!(e.altKey||e.ctrlKey)){var n=t.ui.keyCode,r=this.headers.length,s=this.headers.index(e.target),l=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:l=this.headers[(s+1)%r];break;case n.LEFT:case n.UP:l=this.headers[(s-1+r)%r];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:l=this.headers[0];break;case n.END:l=this.headers[r-1];break}l&&(t(e.target).attr("tabIndex",-1),t(l).attr("tabIndex",0),t(l).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,n=this.panels;typeof this.options.header=="function"?this.headers=this.options.header(this.element):this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),n&&(this._off(e.not(this.headers)),this._off(n.not(this.panels)))},_refresh:function(){var e,n=this.options,r=n.heightStyle,s=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var l=t(this),h=l.uniqueId().attr("id"),v=l.next(),D=v.uniqueId().attr("id");l.attr("aria-controls",D),v.attr("aria-labelledby",h)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),r==="fill"?(e=s.height(),this.element.siblings(":visible").each(function(){var l=t(this),h=l.css("position");h==="absolute"||h==="fixed"||(e-=l.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):r==="auto"&&(e=0,this.headers.next().each(function(){var l=t(this).is(":visible");l||t(this).show(),e=Math.max(e,t(this).css("height","").height()),l||t(this).hide()}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return typeof e=="number"?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(r,s){n[s]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n,r,s=this.options,l=this.active,h=t(e.currentTarget),v=h[0]===l[0],D=v&&s.collapsible,F=D?t():h.next(),Z=l.next(),ae={oldHeader:l,oldPanel:Z,newHeader:D?t():h,newPanel:F};e.preventDefault(),!(v&&!s.collapsible||this._trigger("beforeActivate",e,ae)===!1)&&(s.active=D?!1:this.headers.index(h),this.active=v?t():h,this._toggle(ae),this._removeClass(l,"ui-accordion-header-active","ui-state-active"),s.icons&&(n=l.children(".ui-accordion-header-icon"),this._removeClass(n,null,s.icons.activeHeader)._addClass(n,null,s.icons.header)),v||(this._removeClass(h,"ui-accordion-header-collapsed")._addClass(h,"ui-accordion-header-active","ui-state-active"),s.icons&&(r=h.children(".ui-accordion-header-icon"),this._removeClass(r,null,s.icons.header)._addClass(r,null,s.icons.activeHeader)),this._addClass(h.next(),"ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,r=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=r,this.options.animate?this._animate(n,r,e):(r.hide(),n.show(),this._toggleComplete(e)),r.attr({"aria-hidden":"true"}),r.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&r.length?r.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return parseInt(t(this).attr("tabIndex"),10)===0}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,n,r){var s,l,h,v=this,D=0,F=e.css("box-sizing"),Z=e.length&&(!n.length||e.index()<n.index()),ae=this.options.animate||{},ge=Z&&ae.down||ae,Q=function(){v._toggleComplete(r)};if(typeof ge=="number"&&(h=ge),typeof ge=="string"&&(l=ge),l=l||ge.easing||ae.easing,h=h||ge.duration||ae.duration,!n.length)return e.animate(this.showProps,h,l,Q);if(!e.length)return n.animate(this.hideProps,h,l,Q);s=e.show().outerHeight(),n.animate(this.hideProps,{duration:h,easing:l,step:function(ie,le){le.now=Math.round(ie)}}),e.hide().animate(this.showProps,{duration:h,easing:l,complete:Q,step:function(ie,le){le.now=Math.round(ie),le.prop!=="height"?F==="content-box"&&(D+=le.now):v.options.heightStyle!=="content"&&(le.now=Math.round(s-n.outerHeight()-D),D=0)}})},_toggleComplete:function(e){var n=e.oldPanel,r=n.prev();this._removeClass(n,"ui-accordion-content-active"),this._removeClass(r,"ui-accordion-header-active")._addClass(r,"ui-accordion-header-collapsed"),n.length&&(n.parent()[0].className=n.parent()[0].className),this._trigger("activate",null,e)}}),t.ui.safeActiveElement=function(e){var n;try{n=e.activeElement}catch{n=e.body}return n||(n=e.body),n.nodeName||(n=e.body),n};/*!
 * jQuery UI Menu 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.menu",{version:"1.13.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault(),this._activateItem(e)},"click .ui-menu-item":function(e){var n=t(e.target),r=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&r.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,n){var r=this.active||this._menuItems().first();n||this.focus(e,r)},blur:function(e){this._delay(function(){var n=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));n&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e,!0),this.mouseHandled=!1}})},_activateItem:function(e){if(!this.previousFilter&&!(e.clientX===this.lastMousePosition.x&&e.clientY===this.lastMousePosition.y)){this.lastMousePosition={x:e.clientX,y:e.clientY};var n=t(e.target).closest(".ui-menu-item"),r=t(e.currentTarget);n[0]===r[0]&&(r.is(".ui-state-active")||(this._removeClass(r.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,r)))}},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),n=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),n.children().each(function(){var r=t(this);r.data("ui-menu-submenu-caret")&&r.remove()})},_keydown:function(e){var n,r,s,l,h=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:h=!1,r=this.previousFilter||"",l=!1,s=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),s===r?l=!0:s=r+s,n=this._filterMenuItems(s),n=l&&n.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):n,n.length||(s=String.fromCharCode(e.keyCode),n=this._filterMenuItems(s)),n.length?(this.focus(e,n),this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}h&&e.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,n,r,s,l,h=this,v=this.options.icons.submenu,D=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),r=D.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var F=t(this),Z=F.prev(),ae=t("<span>").data("ui-menu-submenu-caret",!0);h._addClass(ae,"ui-menu-icon","ui-icon "+v),Z.attr("aria-haspopup","true").prepend(ae),F.attr("aria-labelledby",Z.attr("id"))}),this._addClass(r,"ui-menu","ui-widget ui-widget-content ui-front"),e=D.add(this.element),n=e.find(this.options.items),n.not(".ui-menu-item").each(function(){var F=t(this);h._isDivider(F)&&h._addClass(F,"ui-menu-divider","ui-widget-content")}),s=n.not(".ui-menu-item, .ui-menu-divider"),l=s.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(s,"ui-menu-item")._addClass(l,"ui-menu-item-wrapper"),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,n){if(e==="icons"){var r=this.element.find(".ui-menu-icon");this._removeClass(r,null,this.options.icons.submenu)._addClass(r,null,n.submenu)}this._super(e,n)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,n){var r,s,l;this.blur(e,e&&e.type==="focus"),this._scrollIntoView(n),this.active=n.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),l=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(l,null,"ui-state-active"),e&&e.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),r=n.children(".ui-menu"),r.length&&e&&/^mouse/.test(e.type)&&this._startOpening(r),this.activeMenu=n.parent(),this._trigger("focus",e,{item:n})},_scrollIntoView:function(e){var n,r,s,l,h,v;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,s=e.offset().top-this.activeMenu.offset().top-n-r,l=this.activeMenu.scrollTop(),h=this.activeMenu.height(),v=e.outerHeight(),s<0?this.activeMenu.scrollTop(l+s):s+v>h&&this.activeMenu.scrollTop(l+s-h+v))},blur:function(e,n){n||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),e.attr("aria-hidden")==="true"&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var r=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(e),this._removeClass(r.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=r},n?0:this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var n=this.active&&this.active.parent().closest(".ui-menu-item",this.element);n&&n.length&&(this._close(),this.focus(e,n))},expand:function(e){var n=this.active&&this._menuItems(this.active.children(".ui-menu")).first();n&&n.length&&(this._open(n.parent()),this._delay(function(){this.focus(e,n)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(e){return(e||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(e,n,r){var s;this.active&&(e==="first"||e==="last"?s=this.active[e==="first"?"prevAll":"nextAll"](".ui-menu-item").last():s=this.active[e+"All"](".ui-menu-item").first()),(!s||!s.length||!this.active)&&(s=this._menuItems(this.activeMenu)[n]()),this.focus(r,s)},nextPage:function(e){var n,r,s;if(!this.active){this.next(e);return}this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,s=this.element.innerHeight(),t.fn.jquery.indexOf("3.2.")===0&&(s+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-r-s<0}),this.focus(e,n)):this.focus(e,this._menuItems(this.activeMenu)[this.active?"last":"first"]()))},previousPage:function(e){var n,r,s;if(!this.active){this.next(e);return}this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,s=this.element.innerHeight(),t.fn.jquery.indexOf("3.2.")===0&&(s+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-r+s>0}),this.focus(e,n)):this.focus(e,this._menuItems(this.activeMenu).first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return r.test(String.prototype.trim.call(t(this).children(".ui-menu-item-wrapper").text()))})}});/*!
 * jQuery UI Autocomplete 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.autocomplete",{version:"1.13.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var e,n,r,s=this.element[0].nodeName.toLowerCase(),l=s==="textarea",h=s==="input";this.isMultiLine=l||!h&&this._isContentEditable(this.element),this.valueMethod=this.element[l||h?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(v){if(this.element.prop("readOnly")){e=!0,r=!0,n=!0;return}e=!1,r=!1,n=!1;var D=t.ui.keyCode;switch(v.keyCode){case D.PAGE_UP:e=!0,this._move("previousPage",v);break;case D.PAGE_DOWN:e=!0,this._move("nextPage",v);break;case D.UP:e=!0,this._keyEvent("previous",v);break;case D.DOWN:e=!0,this._keyEvent("next",v);break;case D.ENTER:this.menu.active&&(e=!0,v.preventDefault(),this.menu.select(v));break;case D.TAB:this.menu.active&&this.menu.select(v);break;case D.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(v),v.preventDefault());break;default:n=!0,this._searchTimeout(v);break}},keypress:function(v){if(e){e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&v.preventDefault();return}if(!n){var D=t.ui.keyCode;switch(v.keyCode){case D.PAGE_UP:this._move("previousPage",v);break;case D.PAGE_DOWN:this._move("nextPage",v);break;case D.UP:this._keyEvent("previous",v);break;case D.DOWN:this._keyEvent("next",v);break}}},input:function(v){if(r){r=!1,v.preventDefault();return}this._searchTimeout(v)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(v){clearTimeout(this.searching),this.close(v),this._change(v)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(v){v.preventDefault()},menufocus:function(v,D){var F,Z;if(this.isNewMenu&&(this.isNewMenu=!1,v.originalEvent&&/^mouse/.test(v.originalEvent.type))){this.menu.blur(),this.document.one("mousemove",function(){t(v.target).trigger(v.originalEvent)});return}Z=D.item.data("ui-autocomplete-item"),this._trigger("focus",v,{item:Z})!==!1&&v.originalEvent&&/^key/.test(v.originalEvent.type)&&this._value(Z.value),F=D.item.attr("aria-label")||Z.value,F&&String.prototype.trim.call(F).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(F))},100))},menuselect:function(v,D){var F=D.item.data("ui-autocomplete-item"),Z=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=Z,this._delay(function(){this.previous=Z,this.selectedItem=F})),this._trigger("select",v,{item:F})!==!1&&this._value(F.value),this.term=this._value(),this.close(v),this.selectedItem=F}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,n){this._super(e,n),e==="source"&&this._initSource(),e==="appendTo"&&this.menu.element.appendTo(this._appendTo()),e==="disabled"&&n&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,r=this;Array.isArray(this.options.source)?(e=this.options.source,this.source=function(s,l){l(t.ui.autocomplete.filter(e,s.term))}):typeof this.options.source=="string"?(n=this.options.source,this.source=function(s,l){r.xhr&&r.xhr.abort(),r.xhr=t.ajax({url:n,data:s,dataType:"json",success:function(h){l(h)},error:function(){l([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var n=this.term===this._value(),r=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!n||n&&!r&&!s)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,n){if(e=e!=null?e:this._value(),this.term=this._value(),e.length<this.options.minLength)return this.close(n);if(this._trigger("search",n)!==!1)return this._search(e)},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return function(n){e===this.requestIndex&&this.__response(n),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(n){return typeof n=="string"?{label:n,value:n}:t.extend({},n,{label:n.label||n.value,value:n.value||n.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var r=this;t.each(n,function(s,l){r._renderItemData(e,l)})},_renderItemData:function(e,n){return this._renderItem(e,n).data("ui-autocomplete-item",n)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(e,n){if(!this.menu.element.is(":visible")){this.search(null,n);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this.isMultiLine||this._value(this.term),this.menu.blur();return}this.menu[e](n)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,n){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,n),n.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var n=e.prop("contentEditable");return n==="inherit"?this._isContentEditable(e.parent()):n==="true"}}),t.extend(t.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var r=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(s){return r.test(s.label||s.value||s)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),!(this.options.disabled||this.cancelSearch)&&(e&&e.length?n=this.options.messages.results(e.length):n=this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(n))},100))}}),t.ui.autocomplete;/*!
 * jQuery UI Controlgroup 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var G=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.13.2",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(r,s){var l,h={};if(!!s){if(r==="controlgroupLabel"){l=e.element.find(s),l.each(function(){var v=t(this);v.children(".ui-controlgroup-label-contents").length||v.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(l,null,"ui-widget ui-widget-content ui-state-default"),n=n.concat(l.get());return}!t.fn[r]||(e["_"+r+"Options"]?h=e["_"+r+"Options"]("middle"):h={classes:{}},e.element.find(s).each(function(){var v=t(this),D=v[r]("instance"),F=t.widget.extend({},h);if(!(r==="button"&&v.parent(".ui-spinner").length)){D||(D=v[r]()[r]("instance")),D&&(F.classes=e._resolveClassesValues(F.classes,D)),v[r](F);var Z=v[r]("widget");t.data(Z[0],"ui-controlgroup-data",D||v[r]("instance")),n.push(Z[0])}}))}}),this.childWidgets=t(t.uniqueSort(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this),r=n.data("ui-controlgroup-data");r&&r[e]&&r[e]()})},_updateCornerClass:function(e,n){var r="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",s=this._buildSimpleOptions(n,"label").classes.label;this._removeClass(e,null,r),this._addClass(e,null,s)},_buildSimpleOptions:function(e,n){var r=this.options.direction==="vertical",s={classes:{}};return s.classes[n]={middle:"",first:"ui-corner-"+(r?"top":"left"),last:"ui-corner-"+(r?"bottom":"right"),only:"ui-corner-all"}[e],s},_spinnerOptions:function(e){var n=this._buildSimpleOptions(e,"ui-spinner");return n.classes["ui-spinner-up"]="",n.classes["ui-spinner-down"]="",n},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var n=this.options.direction==="vertical";return{width:n?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(n?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(n?"top":"left")},last:{"ui-selectmenu-button-open":n?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(n?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(e,n){var r={};return t.each(e,function(s){var l=n.options.classes[s]||"";l=String.prototype.trim.call(l.replace(G,"")),r[s]=(l+" "+e[s]).replace(/\s+/g," ")}),r},_setOption:function(e,n){if(e==="direction"&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,n),e==="disabled"){this._callChildMethod(n?"disable":"enable");return}this.refresh()},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),this.options.direction==="horizontal"&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(r,s){var l=e[s]().data("ui-controlgroup-data");if(l&&n["_"+l.widgetName+"Options"]){var h=n["_"+l.widgetName+"Options"](e.length===1?"only":s);h.classes=n._resolveClassesValues(h.classes,l),l.element[l.widgetName](h)}else n._updateCornerClass(e[s](),s)}),this._callChildMethod("refresh"))}});/*!
 * jQuery UI Checkboxradio 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.13.2",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,r,s=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",r=this.label.contents().not(this.element[0]),r.length&&(this.originalLabel+=r.clone().wrapAll("<div></div>").parent().html()),this.originalLabel&&(s.label=this.originalLabel),e=this.element[0].disabled,e!=null&&(s.disabled=e),s},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),this.options.disabled==null&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),this.type==="radio"&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,(e!=="input"||!/radio|checkbox/.test(this.type))&&t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,n=this.element[0].name,r="input[name='"+t.escapeSelector(n)+"']";return n?(this.form.length?e=t(this.form[0].elements).filter(r):e=t(r).filter(function(){return t(this)._form().length===0}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&this.type==="checkbox"&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),this.type==="radio"&&this._getRadioGroup().each(function(){var n=t(this).checkboxradio("instance");n&&n._removeClass(n.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,n){if(!(e==="label"&&!n)){if(this._super(e,n),e==="disabled"){this._toggleClass(this.label,null,"ui-state-disabled",n),this.element[0].disabled=n;return}this.refresh()}},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),this.type==="checkbox"?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):this.icon!==void 0&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,n=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.label!==null&&this._updateLabel(),n!==this.options.disabled&&this._setOptions({disabled:n})}}]),t.ui.checkboxradio;/*!
 * jQuery UI Button 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.button",{version:"1.13.2",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,n=this._super()||{};return this.isInput=this.element.is("input"),e=this.element[0].disabled,e!=null&&(n.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(n.label=this.originalLabel),n},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),this.options.disabled==null&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),!this.options.showLabel&&!this.title&&this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var r=e!=="iconPosition",s=r?this.options.iconPosition:n,l=s==="top"||s==="bottom";this.icon?r&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),r&&this._addClass(this.icon,null,n),this._attachIcon(s),l?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(s))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var n=e.showLabel===void 0?this.options.showLabel:e.showLabel,r=e.icon===void 0?this.options.icon:e.icon;!n&&!r&&(e.showLabel=!0),this._super(e)},_setOption:function(e,n){e==="icon"&&(n?this._updateIcon(e,n):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),e==="iconPosition"&&this._updateIcon(e,n),e==="showLabel"&&(this._toggleClass("ui-button-icon-only",null,!n),this._updateTooltip()),e==="label"&&(this.isInput?this.element.val(n):(this.element.html(n),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,n),e==="disabled"&&(this._toggleClass(null,"ui-state-disabled",n),this.element[0].disabled=n,n&&this.element.trigger("blur"))},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),!this.options.icon&&(this.options.icons.primary||this.options.icons.secondary)?this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"):this.options.icon&&(this.options.icons.primary=this.options.icon),this._super()},_setOption:function(e,n){if(e==="text"){this._super("showLabel",n);return}e==="showLabel"&&(this.options.text=n),e==="icon"&&(this.options.icons.primary=n),e==="icons"&&(n.primary?(this._super("icon",n.primary),this._super("iconPosition","beginning")):n.secondary&&(this._super("icon",n.secondary),this._super("iconPosition","end"))),this._superApply(arguments)}}),t.fn.button=function(e){return function(n){var r=typeof n=="string",s=Array.prototype.slice.call(arguments,1),l=this;return r?!this.length&&n==="instance"?l=void 0:this.each(function(){var h,v=t(this).attr("type"),D=v!=="checkbox"&&v!=="radio"?"button":"checkboxradio",F=t.data(this,"ui-"+D);if(n==="instance")return l=F,!1;if(!F)return t.error("cannot call methods on button prior to initialization; attempted to call method '"+n+"'");if(typeof F[n]!="function"||n.charAt(0)==="_")return t.error("no such method '"+n+"' for button widget instance");if(h=F[n].apply(F,s),h!==F&&h!==void 0)return l=h&&h.jquery?l.pushStack(h.get()):h,!1}):(s.length&&(n=t.widget.extend.apply(null,[n].concat(s))),this.each(function(){var h=t(this).attr("type"),v=h!=="checkbox"&&h!=="radio"?"button":"checkboxradio",D=t.data(this,"ui-"+v);if(D)D.option(n||{}),D._init&&D._init();else{if(v==="button"){e.call(t(this),n);return}t(this).checkboxradio(t.extend({icon:!1},n))}})),l}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),arguments[0]==="option"&&arguments[1]==="items"&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):arguments[0]==="option"&&arguments[1]==="items"?this.controlgroup.apply(this,[arguments[0],"items.button"]):(typeof arguments[0]=="object"&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button;/*!
 * jQuery UI Datepicker 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.extend(t.ui,{datepicker:{version:"1.13.2"}});var N;function V(e){for(var n,r;e.length&&e[0]!==document;){if(n=e.css("position"),(n==="absolute"||n==="relative"||n==="fixed")&&(r=parseInt(e.css("zIndex"),10),!isNaN(r)&&r!==0))return r;e=e.parent()}return 0}function ne(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=oe(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}t.extend(ne.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return de(this._defaults,e||{}),this},_attachDatepicker:function(e,n){var r,s,l;r=e.nodeName.toLowerCase(),s=r==="div"||r==="span",e.id||(this.uuid+=1,e.id="dp"+this.uuid),l=this._newInst(t(e),s),l.settings=t.extend({},n||{}),r==="input"?this._connectDatepicker(e,l):s&&this._inlineDatepicker(e,l)},_newInst:function(e,n){var r=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?oe(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var r=t(e);n.append=t([]),n.trigger=t([]),!r.hasClass(this.markerClassName)&&(this._attachments(r,n),r.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var r,s,l,h=this._get(n,"appendText"),v=this._get(n,"isRTL");n.append&&n.append.remove(),h&&(n.append=t("<span>").addClass(this._appendClass).text(h),e[v?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),r=this._get(n,"showOn"),(r==="focus"||r==="both")&&e.on("focus",this._showDatepicker),(r==="button"||r==="both")&&(s=this._get(n,"buttonText"),l=this._get(n,"buttonImage"),this._get(n,"buttonImageOnly")?n.trigger=t("<img>").addClass(this._triggerClass).attr({src:l,alt:s,title:s}):(n.trigger=t("<button type='button'>").addClass(this._triggerClass),l?n.trigger.html(t("<img>").attr({src:l,alt:s,title:s})):n.trigger.text(s)),e[v?"before":"after"](n.trigger),n.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():(t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]&&t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var n,r,s,l,h=new Date(2009,11,20),v=this._get(e,"dateFormat");v.match(/[DM]/)&&(n=function(D){for(r=0,s=0,l=0;l<D.length;l++)D[l].length>r&&(r=D[l].length,s=l);return s},h.setMonth(n(this._get(e,v.match(/MM/)?"monthNames":"monthNamesShort"))),h.setDate(n(this._get(e,v.match(/DD/)?"dayNames":"dayNamesShort"))+20-h.getDay())),e.input.attr("size",this._formatDate(e,h).length)}},_inlineDatepicker:function(e,n){var r=t(e);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,r,s,l){var h,v,D,F,Z,ae=this._dialogInst;return ae||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),ae=this._dialogInst=this._newInst(this._dialogInput,!1),ae.settings={},t.data(this._dialogInput[0],"datepicker",ae)),de(ae.settings,s||{}),n=n&&n.constructor===Date?this._formatDate(ae,n):n,this._dialogInput.val(n),this._pos=l?l.length?l:[l.pageX,l.pageY]:null,this._pos||(v=document.documentElement.clientWidth,D=document.documentElement.clientHeight,F=document.documentElement.scrollLeft||document.body.scrollLeft,Z=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[v/2-100+F,D/2-150+Z]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),ae.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",ae),this},_destroyDatepicker:function(e){var n,r=t(e),s=t.data(e,"datepicker");!r.hasClass(this.markerClassName)||(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),n==="input"?(s.append.remove(),s.trigger.remove(),r.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):(n==="div"||n==="span")&&r.removeClass(this.markerClassName).empty(),N===s&&(N=null,this._curInst=null))},_enableDatepicker:function(e){var n,r,s=t(e),l=t.data(e,"datepicker");!s.hasClass(this.markerClassName)||(n=e.nodeName.toLowerCase(),n==="input"?(e.disabled=!1,l.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(n==="div"||n==="span")&&(r=s.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(h){return h===e?null:h}))},_disableDatepicker:function(e){var n,r,s=t(e),l=t.data(e,"datepicker");!s.hasClass(this.markerClassName)||(n=e.nodeName.toLowerCase(),n==="input"?(e.disabled=!0,l.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(n==="div"||n==="span")&&(r=s.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(h){return h===e?null:h}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var n=0;n<this._disabledInputs.length;n++)if(this._disabledInputs[n]===e)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch{throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,r){var s,l,h,v,D=this._getInst(e);if(arguments.length===2&&typeof n=="string")return n==="defaults"?t.extend({},t.datepicker._defaults):D?n==="all"?t.extend({},D.settings):this._get(D,n):null;s=n||{},typeof n=="string"&&(s={},s[n]=r),D&&(this._curInst===D&&this._hideDatepicker(),l=this._getDateDatepicker(e,!0),h=this._getMinMaxDate(D,"min"),v=this._getMinMaxDate(D,"max"),de(D.settings,s),h!==null&&s.dateFormat!==void 0&&s.minDate===void 0&&(D.settings.minDate=this._formatDate(D,h)),v!==null&&s.dateFormat!==void 0&&s.maxDate===void 0&&(D.settings.maxDate=this._formatDate(D,v)),"disabled"in s&&(s.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),D),this._autoSize(D),this._setDate(D,l),this._updateAlternate(D),this._updateDatepicker(D))},_changeDatepicker:function(e,n,r){this._optionDatepicker(e,n,r)},_refreshDatepicker:function(e){var n=this._getInst(e);n&&this._updateDatepicker(n)},_setDateDatepicker:function(e,n){var r=this._getInst(e);r&&(this._setDate(r,n),this._updateDatepicker(r),this._updateAlternate(r))},_getDateDatepicker:function(e,n){var r=this._getInst(e);return r&&!r.inline&&this._setDateFromField(r,n),r?this._getDate(r):null},_doKeyDown:function(e){var n,r,s,l=t.datepicker._getInst(e.target),h=!0,v=l.dpDiv.is(".ui-datepicker-rtl");if(l._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),h=!1;break;case 13:return s=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",l.dpDiv),s[0]&&t.datepicker._selectDay(e.target,l.selectedMonth,l.selectedYear,s[0]),n=t.datepicker._get(l,"onSelect"),n?(r=t.datepicker._formatDate(l),n.apply(l.input?l.input[0]:null,[r,l])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(l,"stepBigMonths"):-t.datepicker._get(l,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(l,"stepBigMonths"):+t.datepicker._get(l,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),h=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),h=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,v?1:-1,"D"),h=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(l,"stepBigMonths"):-t.datepicker._get(l,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),h=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,v?-1:1,"D"),h=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(l,"stepBigMonths"):+t.datepicker._get(l,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),h=e.ctrlKey||e.metaKey;break;default:h=!1}else e.keyCode===36&&e.ctrlKey?t.datepicker._showDatepicker(this):h=!1;h&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,r,s=t.datepicker._getInst(e.target);if(t.datepicker._get(s,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(s,"dateFormat")),r=String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||r<" "||!n||n.indexOf(r)>-1},_doKeyUp:function(e){var n,r=t.datepicker._getInst(e.target);if(r.input.val()!==r.lastVal)try{n=t.datepicker.parseDate(t.datepicker._get(r,"dateFormat"),r.input?r.input.val():null,t.datepicker._getFormatConfig(r)),n&&(t.datepicker._setDateFromField(r),t.datepicker._updateAlternate(r),t.datepicker._updateDatepicker(r))}catch{}return!0},_showDatepicker:function(e){if(e=e.target||e,e.nodeName.toLowerCase()!=="input"&&(e=t("input",e.parentNode)[0]),!(t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)){var n,r,s,l,h,v,D;n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),r=t.datepicker._get(n,"beforeShow"),s=r?r.apply(e,[e,n]):{},s!==!1&&(de(n.settings,s),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),l=!1,t(e).parents().each(function(){return l|=t(this).css("position")==="fixed",!l}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),h=t.datepicker._checkOffset(n,h,l),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":l?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),n.inline||(v=t.datepicker._get(n,"showAnim"),D=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",V(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[v]?n.dpDiv.show(v,t.datepicker._get(n,"showOptions"),D):n.dpDiv[v||"show"](v?D:null),t.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),t.datepicker._curInst=n))}},_updateDatepicker:function(e){this.maxRows=4,N=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,r=this._getNumberOfMonths(e),s=r[1],l=17,h=e.dpDiv.find("."+this._dayOverClass+" a"),v=t.datepicker._get(e,"onUpdateDatepicker");h.length>0&&ve.apply(h.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",l*s+"em"),e.dpDiv[(r[0]!==1||r[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year").first().replaceWith(e.yearshtml),n=e.yearshtml=null},0)),v&&v.apply(e.input?e.input[0]:null,[e])},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,n,r){var s=e.dpDiv.outerWidth(),l=e.dpDiv.outerHeight(),h=e.input?e.input.outerWidth():0,v=e.input?e.input.outerHeight():0,D=document.documentElement.clientWidth+(r?0:t(document).scrollLeft()),F=document.documentElement.clientHeight+(r?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?s-h:0,n.left-=r&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=r&&n.top===e.input.offset().top+v?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+s>D&&D>s?Math.abs(n.left+s-D):0),n.top-=Math.min(n.top,n.top+l>F&&F>l?Math.abs(l+v):0),n},_findPos:function(e){for(var n,r=this._getInst(e),s=this._get(r,"isRTL");e&&(e.type==="hidden"||e.nodeType!==1||t.expr.pseudos.hidden(e));)e=e[s?"previousSibling":"nextSibling"];return n=t(e).offset(),[n.left,n.top]},_hideDatepicker:function(e){var n,r,s,l,h=this._curInst;!h||e&&h!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(h,"showAnim"),r=this._get(h,"duration"),s=function(){t.datepicker._tidyDialog(h)},t.effects&&(t.effects.effect[n]||t.effects[n])?h.dpDiv.hide(n,t.datepicker._get(h,"showOptions"),r,s):h.dpDiv[n==="slideDown"?"slideUp":n==="fadeIn"?"fadeOut":"hide"](n?r:null,s),n||s(),this._datepickerShowing=!1,l=this._get(h,"onClose"),l&&l.apply(h.input?h.input[0]:null,[h.input?h.input.val():"",h]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(!!t.datepicker._curInst){var n=t(e.target),r=t.datepicker._getInst(n[0]);(n[0].id!==t.datepicker._mainDivId&&n.parents("#"+t.datepicker._mainDivId).length===0&&!n.hasClass(t.datepicker.markerClassName)&&!n.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&!(t.datepicker._inDialog&&t.blockUI)||n.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==r)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,r){var s=t(e),l=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(l,n,r),this._updateDatepicker(l))},_gotoToday:function(e){var n,r=t(e),s=this._getInst(r[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(n=new Date,s.selectedDay=n.getDate(),s.drawMonth=s.selectedMonth=n.getMonth(),s.drawYear=s.selectedYear=n.getFullYear()),this._notifyChange(s),this._adjustDate(r)},_selectMonthYear:function(e,n,r){var s=t(e),l=this._getInst(s[0]);l["selected"+(r==="M"?"Month":"Year")]=l["draw"+(r==="M"?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(l),this._adjustDate(s)},_selectDay:function(e,n,r,s){var l,h=t(e);t(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(h[0])||(l=this._getInst(h[0]),l.selectedDay=l.currentDay=parseInt(t("a",s).attr("data-date")),l.selectedMonth=l.currentMonth=n,l.selectedYear=l.currentYear=r,this._selectDate(e,this._formatDate(l,l.currentDay,l.currentMonth,l.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var r,s=t(e),l=this._getInst(s[0]);n=n!=null?n:this._formatDate(l),l.input&&l.input.val(n),this._updateAlternate(l),r=this._get(l,"onSelect"),r?r.apply(l.input?l.input[0]:null,[n,l]):l.input&&l.input.trigger("change"),l.inline?this._updateDatepicker(l):(this._hideDatepicker(),this._lastInput=l.input[0],typeof l.input[0]!="object"&&l.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,r,s,l=this._get(e,"altField");l&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),r=this._getDate(e),s=this.formatDate(n,r,this._getFormatConfig(e)),t(document).find(l).val(s))},noWeekends:function(e){var n=e.getDay();return[n>0&&n<6,""]},iso8601Week:function(e){var n,r=new Date(e.getTime());return r.setDate(r.getDate()+4-(r.getDay()||7)),n=r.getTime(),r.setMonth(0),r.setDate(1),Math.floor(Math.round((n-r)/864e5)/7)+1},parseDate:function(e,n,r){if(e==null||n==null)throw"Invalid arguments";if(n=typeof n=="object"?n.toString():n+"",n==="")return null;var s,l,h,v=0,D=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,F=typeof D!="string"?D:new Date().getFullYear()%100+parseInt(D,10),Z=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,ae=(r?r.dayNames:null)||this._defaults.dayNames,ge=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,Q=(r?r.monthNames:null)||this._defaults.monthNames,ie=-1,le=-1,ce=-1,ke=-1,Pe=!1,ze,je=function(Ce){var Te=s+1<e.length&&e.charAt(s+1)===Ce;return Te&&s++,Te},q=function(Ce){var Te=je(Ce),Ie=Ce==="@"?14:Ce==="!"?20:Ce==="y"&&Te?4:Ce==="o"?3:2,Oe=Ce==="y"?Ie:1,Ae=new RegExp("^\\d{"+Oe+","+Ie+"}"),Ge=n.substring(v).match(Ae);if(!Ge)throw"Missing number at position "+v;return v+=Ge[0].length,parseInt(Ge[0],10)},he=function(Ce,Te,Ie){var Oe=-1,Ae=t.map(je(Ce)?Ie:Te,function(Ge,Je){return[[Je,Ge]]}).sort(function(Ge,Je){return-(Ge[1].length-Je[1].length)});if(t.each(Ae,function(Ge,Je){var Ct=Je[1];if(n.substr(v,Ct.length).toLowerCase()===Ct.toLowerCase())return Oe=Je[0],v+=Ct.length,!1}),Oe!==-1)return Oe+1;throw"Unknown name at position "+v},be=function(){if(n.charAt(v)!==e.charAt(s))throw"Unexpected literal at position "+v;v++};for(s=0;s<e.length;s++)if(Pe)e.charAt(s)==="'"&&!je("'")?Pe=!1:be();else switch(e.charAt(s)){case"d":ce=q("d");break;case"D":he("D",Z,ae);break;case"o":ke=q("o");break;case"m":le=q("m");break;case"M":le=he("M",ge,Q);break;case"y":ie=q("y");break;case"@":ze=new Date(q("@")),ie=ze.getFullYear(),le=ze.getMonth()+1,ce=ze.getDate();break;case"!":ze=new Date((q("!")-this._ticksTo1970)/1e4),ie=ze.getFullYear(),le=ze.getMonth()+1,ce=ze.getDate();break;case"'":je("'")?be():Pe=!0;break;default:be()}if(v<n.length&&(h=n.substr(v),!/^\s+/.test(h)))throw"Extra/unparsed characters found in date: "+h;if(ie===-1?ie=new Date().getFullYear():ie<100&&(ie+=new Date().getFullYear()-new Date().getFullYear()%100+(ie<=F?0:-100)),ke>-1){le=1,ce=ke;do{if(l=this._getDaysInMonth(ie,le-1),ce<=l)break;le++,ce-=l}while(!0)}if(ze=this._daylightSavingAdjust(new Date(ie,le-1,ce)),ze.getFullYear()!==ie||ze.getMonth()+1!==le||ze.getDate()!==ce)throw"Invalid date";return ze},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7,formatDate:function(e,n,r){if(!n)return"";var s,l=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,h=(r?r.dayNames:null)||this._defaults.dayNames,v=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,D=(r?r.monthNames:null)||this._defaults.monthNames,F=function(ie){var le=s+1<e.length&&e.charAt(s+1)===ie;return le&&s++,le},Z=function(ie,le,ce){var ke=""+le;if(F(ie))for(;ke.length<ce;)ke="0"+ke;return ke},ae=function(ie,le,ce,ke){return F(ie)?ke[le]:ce[le]},ge="",Q=!1;if(n)for(s=0;s<e.length;s++)if(Q)e.charAt(s)==="'"&&!F("'")?Q=!1:ge+=e.charAt(s);else switch(e.charAt(s)){case"d":ge+=Z("d",n.getDate(),2);break;case"D":ge+=ae("D",n.getDay(),l,h);break;case"o":ge+=Z("o",Math.round((new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime()-new Date(n.getFullYear(),0,0).getTime())/864e5),3);break;case"m":ge+=Z("m",n.getMonth()+1,2);break;case"M":ge+=ae("M",n.getMonth(),v,D);break;case"y":ge+=F("y")?n.getFullYear():(n.getFullYear()%100<10?"0":"")+n.getFullYear()%100;break;case"@":ge+=n.getTime();break;case"!":ge+=n.getTime()*1e4+this._ticksTo1970;break;case"'":F("'")?ge+="'":Q=!0;break;default:ge+=e.charAt(s)}return ge},_possibleChars:function(e){var n,r="",s=!1,l=function(h){var v=n+1<e.length&&e.charAt(n+1)===h;return v&&n++,v};for(n=0;n<e.length;n++)if(s)e.charAt(n)==="'"&&!l("'")?s=!1:r+=e.charAt(n);else switch(e.charAt(n)){case"d":case"m":case"y":case"@":r+="0123456789";break;case"D":case"M":return null;case"'":l("'")?r+="'":s=!0;break;default:r+=e.charAt(n)}return r},_get:function(e,n){return e.settings[n]!==void 0?e.settings[n]:this._defaults[n]},_setDateFromField:function(e,n){if(e.input.val()!==e.lastVal){var r=this._get(e,"dateFormat"),s=e.lastVal=e.input?e.input.val():null,l=this._getDefaultDate(e),h=l,v=this._getFormatConfig(e);try{h=this.parseDate(r,s,v)||l}catch{s=n?"":s}e.selectedDay=h.getDate(),e.drawMonth=e.selectedMonth=h.getMonth(),e.drawYear=e.selectedYear=h.getFullYear(),e.currentDay=s?h.getDate():0,e.currentMonth=s?h.getMonth():0,e.currentYear=s?h.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,n,r){var s=function(v){var D=new Date;return D.setDate(D.getDate()+v),D},l=function(v){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),v,t.datepicker._getFormatConfig(e))}catch{}for(var D=(v.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,F=D.getFullYear(),Z=D.getMonth(),ae=D.getDate(),ge=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,Q=ge.exec(v);Q;){switch(Q[2]||"d"){case"d":case"D":ae+=parseInt(Q[1],10);break;case"w":case"W":ae+=parseInt(Q[1],10)*7;break;case"m":case"M":Z+=parseInt(Q[1],10),ae=Math.min(ae,t.datepicker._getDaysInMonth(F,Z));break;case"y":case"Y":F+=parseInt(Q[1],10),ae=Math.min(ae,t.datepicker._getDaysInMonth(F,Z));break}Q=ge.exec(v)}return new Date(F,Z,ae)},h=n==null||n===""?r:typeof n=="string"?l(n):typeof n=="number"?isNaN(n)?r:s(n):new Date(n.getTime());return h=h&&h.toString()==="Invalid Date"?r:h,h&&(h.setHours(0),h.setMinutes(0),h.setSeconds(0),h.setMilliseconds(0)),this._daylightSavingAdjust(h)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,n,r){var s=!n,l=e.selectedMonth,h=e.selectedYear,v=this._restrictMinMax(e,this._determineDate(e,n,new Date));e.selectedDay=e.currentDay=v.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=v.getMonth(),e.drawYear=e.selectedYear=e.currentYear=v.getFullYear(),(l!==e.selectedMonth||h!==e.selectedYear)&&!r&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){var n=!e.currentYear||e.input&&e.input.val()===""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return n},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),r="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var s={prev:function(){t.datepicker._adjustDate(r,-n,"M")},next:function(){t.datepicker._adjustDate(r,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(r)},selectDay:function(){return t.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(r,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),s[this.getAttribute("data-handler")])})},_generateHTML:function(e){var n,r,s,l,h,v,D,F,Z,ae,ge,Q,ie,le,ce,ke,Pe,ze,je,q,he,be,Ce,Te,Ie,Oe,Ae,Ge,Je,Ct,ct,$t,lt,Qe,Vt,it,Tt,Mt,Gt,li=new Date,Yt=this._daylightSavingAdjust(new Date(li.getFullYear(),li.getMonth(),li.getDate())),Kt=this._get(e,"isRTL"),xi=this._get(e,"showButtonPanel"),pi=this._get(e,"hideIfNoPrevNext"),Ci=this._get(e,"navigationAsDateFormat"),At=this._getNumberOfMonths(e),I=this._get(e,"showCurrentAtPos"),se=this._get(e,"stepMonths"),te=At[0]!==1||At[1]!==1,we=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),De=this._getMinMaxDate(e,"min"),xe=this._getMinMaxDate(e,"max"),Fe=e.drawMonth-I,Ke=e.drawYear;if(Fe<0&&(Fe+=12,Ke--),xe)for(n=this._daylightSavingAdjust(new Date(xe.getFullYear(),xe.getMonth()-At[0]*At[1]+1,xe.getDate())),n=De&&n<De?De:n;this._daylightSavingAdjust(new Date(Ke,Fe,1))>n;)Fe--,Fe<0&&(Fe=11,Ke--);for(e.drawMonth=Fe,e.drawYear=Ke,r=this._get(e,"prevText"),r=Ci?this.formatDate(r,this._daylightSavingAdjust(new Date(Ke,Fe-se,1)),this._getFormatConfig(e)):r,this._canAdjustMonth(e,-1,Ke,Fe)?s=t("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:r}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Kt?"e":"w")).text(r))[0].outerHTML:pi?s="":s=t("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:r}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Kt?"e":"w")).text(r))[0].outerHTML,l=this._get(e,"nextText"),l=Ci?this.formatDate(l,this._daylightSavingAdjust(new Date(Ke,Fe+se,1)),this._getFormatConfig(e)):l,this._canAdjustMonth(e,1,Ke,Fe)?h=t("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:l}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Kt?"w":"e")).text(l))[0].outerHTML:pi?h="":h=t("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:l}).append(t("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(Kt?"w":"e")).text(l))[0].outerHTML,v=this._get(e,"currentText"),D=this._get(e,"gotoCurrent")&&e.currentDay?we:Yt,v=Ci?this.formatDate(v,D,this._getFormatConfig(e)):v,F="",e.inline||(F=t("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(e,"closeText"))[0].outerHTML),Z="",xi&&(Z=t("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(Kt?F:"").append(this._isInRange(e,D)?t("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(v):"").append(Kt?"":F)[0].outerHTML),ae=parseInt(this._get(e,"firstDay"),10),ae=isNaN(ae)?0:ae,ge=this._get(e,"showWeek"),Q=this._get(e,"dayNames"),ie=this._get(e,"dayNamesMin"),le=this._get(e,"monthNames"),ce=this._get(e,"monthNamesShort"),ke=this._get(e,"beforeShowDay"),Pe=this._get(e,"showOtherMonths"),ze=this._get(e,"selectOtherMonths"),je=this._getDefaultDate(e),q="",be=0;be<At[0];be++){for(Ce="",this.maxRows=4,Te=0;Te<At[1];Te++){if(Ie=this._daylightSavingAdjust(new Date(Ke,Fe,e.selectedDay)),Oe=" ui-corner-all",Ae="",te){if(Ae+="<div class='ui-datepicker-group",At[1]>1)switch(Te){case 0:Ae+=" ui-datepicker-group-first",Oe=" ui-corner-"+(Kt?"right":"left");break;case At[1]-1:Ae+=" ui-datepicker-group-last",Oe=" ui-corner-"+(Kt?"left":"right");break;default:Ae+=" ui-datepicker-group-middle",Oe="";break}Ae+="'>"}for(Ae+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+Oe+"'>"+(/all|left/.test(Oe)&&be===0?Kt?h:s:"")+(/all|right/.test(Oe)&&be===0?Kt?s:h:"")+this._generateMonthYearHeader(e,Fe,Ke,De,xe,be>0||Te>0,le,ce)+"</div><table class='ui-datepicker-calendar'><thead><tr>",Ge=ge?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",he=0;he<7;he++)Je=(he+ae)%7,Ge+="<th scope='col'"+((he+ae+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+Q[Je]+"'>"+ie[Je]+"</span></th>";for(Ae+=Ge+"</tr></thead><tbody>",Ct=this._getDaysInMonth(Ke,Fe),Ke===e.selectedYear&&Fe===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,Ct)),ct=(this._getFirstDayOfMonth(Ke,Fe)-ae+7)%7,$t=Math.ceil((ct+Ct)/7),lt=te&&this.maxRows>$t?this.maxRows:$t,this.maxRows=lt,Qe=this._daylightSavingAdjust(new Date(Ke,Fe,1-ct)),Vt=0;Vt<lt;Vt++){for(Ae+="<tr>",it=ge?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(Qe)+"</td>":"",he=0;he<7;he++)Tt=ke?ke.apply(e.input?e.input[0]:null,[Qe]):[!0,""],Mt=Qe.getMonth()!==Fe,Gt=Mt&&!ze||!Tt[0]||De&&Qe<De||xe&&Qe>xe,it+="<td class='"+((he+ae+6)%7>=5?" ui-datepicker-week-end":"")+(Mt?" ui-datepicker-other-month":"")+(Qe.getTime()===Ie.getTime()&&Fe===e.selectedMonth&&e._keyEvent||je.getTime()===Qe.getTime()&&je.getTime()===Ie.getTime()?" "+this._dayOverClass:"")+(Gt?" "+this._unselectableClass+" ui-state-disabled":"")+(Mt&&!Pe?"":" "+Tt[1]+(Qe.getTime()===we.getTime()?" "+this._currentClass:"")+(Qe.getTime()===Yt.getTime()?" ui-datepicker-today":""))+"'"+((!Mt||Pe)&&Tt[2]?" title='"+Tt[2].replace(/'/g,"&#39;")+"'":"")+(Gt?"":" data-handler='selectDay' data-event='click' data-month='"+Qe.getMonth()+"' data-year='"+Qe.getFullYear()+"'")+">"+(Mt&&!Pe?"&#xa0;":Gt?"<span class='ui-state-default'>"+Qe.getDate()+"</span>":"<a class='ui-state-default"+(Qe.getTime()===Yt.getTime()?" ui-state-highlight":"")+(Qe.getTime()===we.getTime()?" ui-state-active":"")+(Mt?" ui-priority-secondary":"")+"' href='#' aria-current='"+(Qe.getTime()===we.getTime()?"true":"false")+"' data-date='"+Qe.getDate()+"'>"+Qe.getDate()+"</a>")+"</td>",Qe.setDate(Qe.getDate()+1),Qe=this._daylightSavingAdjust(Qe);Ae+=it+"</tr>"}Fe++,Fe>11&&(Fe=0,Ke++),Ae+="</tbody></table>"+(te?"</div>"+(At[0]>0&&Te===At[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),Ce+=Ae}q+=Ce}return q+=Z,e._keyEvent=!1,q},_generateMonthYearHeader:function(e,n,r,s,l,h,v,D){var F,Z,ae,ge,Q,ie,le,ce,ke=this._get(e,"changeMonth"),Pe=this._get(e,"changeYear"),ze=this._get(e,"showMonthAfterYear"),je=this._get(e,"selectMonthLabel"),q=this._get(e,"selectYearLabel"),he="<div class='ui-datepicker-title'>",be="";if(h||!ke)be+="<span class='ui-datepicker-month'>"+v[n]+"</span>";else{for(F=s&&s.getFullYear()===r,Z=l&&l.getFullYear()===r,be+="<select class='ui-datepicker-month' aria-label='"+je+"' data-handler='selectMonth' data-event='change'>",ae=0;ae<12;ae++)(!F||ae>=s.getMonth())&&(!Z||ae<=l.getMonth())&&(be+="<option value='"+ae+"'"+(ae===n?" selected='selected'":"")+">"+D[ae]+"</option>");be+="</select>"}if(ze||(he+=be+(h||!(ke&&Pe)?"&#xa0;":"")),!e.yearshtml)if(e.yearshtml="",h||!Pe)he+="<span class='ui-datepicker-year'>"+r+"</span>";else{for(ge=this._get(e,"yearRange").split(":"),Q=new Date().getFullYear(),ie=function(Ce){var Te=Ce.match(/c[+\-].*/)?r+parseInt(Ce.substring(1),10):Ce.match(/[+\-].*/)?Q+parseInt(Ce,10):parseInt(Ce,10);return isNaN(Te)?Q:Te},le=ie(ge[0]),ce=Math.max(le,ie(ge[1]||"")),le=s?Math.max(le,s.getFullYear()):le,ce=l?Math.min(ce,l.getFullYear()):ce,e.yearshtml+="<select class='ui-datepicker-year' aria-label='"+q+"' data-handler='selectYear' data-event='change'>";le<=ce;le++)e.yearshtml+="<option value='"+le+"'"+(le===r?" selected='selected'":"")+">"+le+"</option>";e.yearshtml+="</select>",he+=e.yearshtml,e.yearshtml=null}return he+=this._get(e,"yearSuffix"),ze&&(he+=(h||!(ke&&Pe)?"&#xa0;":"")+be),he+="</div>",he},_adjustInstDate:function(e,n,r){var s=e.selectedYear+(r==="Y"?n:0),l=e.selectedMonth+(r==="M"?n:0),h=Math.min(e.selectedDay,this._getDaysInMonth(s,l))+(r==="D"?n:0),v=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,l,h)));e.selectedDay=v.getDate(),e.drawMonth=e.selectedMonth=v.getMonth(),e.drawYear=e.selectedYear=v.getFullYear(),(r==="M"||r==="Y")&&this._notifyChange(e)},_restrictMinMax:function(e,n){var r=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),l=r&&n<r?r:n;return s&&l>s?s:l},_notifyChange:function(e){var n=this._get(e,"onChangeMonthYear");n&&n.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var n=this._get(e,"numberOfMonths");return n==null?[1,1]:typeof n=="number"?[1,n]:n},_getMinMaxDate:function(e,n){return this._determineDate(e,this._get(e,n+"Date"),null)},_getDaysInMonth:function(e,n){return 32-this._daylightSavingAdjust(new Date(e,n,32)).getDate()},_getFirstDayOfMonth:function(e,n){return new Date(e,n,1).getDay()},_canAdjustMonth:function(e,n,r,s){var l=this._getNumberOfMonths(e),h=this._daylightSavingAdjust(new Date(r,s+(n<0?n:l[0]*l[1]),1));return n<0&&h.setDate(this._getDaysInMonth(h.getFullYear(),h.getMonth())),this._isInRange(e,h)},_isInRange:function(e,n){var r,s,l=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),v=null,D=null,F=this._get(e,"yearRange");return F&&(r=F.split(":"),s=new Date().getFullYear(),v=parseInt(r[0],10),D=parseInt(r[1],10),r[0].match(/[+\-].*/)&&(v+=s),r[1].match(/[+\-].*/)&&(D+=s)),(!l||n.getTime()>=l.getTime())&&(!h||n.getTime()<=h.getTime())&&(!v||n.getFullYear()>=v)&&(!D||n.getFullYear()<=D)},_getFormatConfig:function(e){var n=this._get(e,"shortYearCutoff");return n=typeof n!="string"?n:new Date().getFullYear()%100+parseInt(n,10),{shortYearCutoff:n,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,n,r,s){n||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var l=n?typeof n=="object"?n:this._daylightSavingAdjust(new Date(s,r,n)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),l,this._getFormatConfig(e))}});function oe(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,ve)}function ve(){t.datepicker._isDisabledDatepicker(N.inline?N.dpDiv.parent()[0]:N.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).addClass("ui-datepicker-next-hover"))}function de(e,n){t.extend(e,n);for(var r in n)n[r]==null&&(e[r]=n[r]);return e}t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),t("#"+t.datepicker._mainDivId).length===0&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return typeof e=="string"&&(e==="isDisabled"||e==="getDate"||e==="widget")?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):e==="option"&&arguments.length===2&&typeof arguments[1]=="string"?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){typeof e=="string"?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)})},t.datepicker=new ne,t.datepicker.initialized=!1,t.datepicker.uuid=new Date().getTime(),t.datepicker.version="1.13.2",t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());/*!
 * jQuery UI Mouse 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var fe=!1;t(document).on("mouseup",function(){fe=!1}),t.widget("ui.mouse",{version:"1.13.2",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(n){return e._mouseDown(n)}).on("click."+this.widgetName,function(n){if(t.data(n.target,e.widgetName+".preventClickEvent")===!0)return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!fe){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,r=e.which===1,s=typeof this.options.cancel=="string"&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return!r||s||!this._mouseCapture(e)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(t.data(e.target,this.widgetName+".preventClickEvent")===!0&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(l){return n._mouseMove(l)},this._mouseUpDelegate=function(l){return n._mouseUp(l)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),fe=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which){if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,fe=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,r){var s,l=t.ui[e].prototype;for(s in r)l.plugins[s]=l.plugins[s]||[],l.plugins[s].push([n,r[s]])},call:function(e,n,r,s){var l,h=e.plugins[n];if(!!h&&!(!s&&(!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)))for(l=0;l<h.length;l++)e.options[h[l][0]]&&h[l][1].apply(e.element,r)}},t.ui.safeBlur=function(e){e&&e.nodeName.toLowerCase()!=="body"&&t(e).trigger("blur")};/*!
 * jQuery UI Draggable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.draggable",t.ui.mouse,{version:"1.13.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper==="original"&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,n){this._super(e,n),e==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=!0;return}this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(e){var n=this.options;return this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle)?!1:(this._blurActiveElement(e),this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var n=t(this);return t("<div>").css("position","absolute").appendTo(n.parent()).outerWidth(n.outerWidth()).outerHeight(n.outerHeight()).offset(n.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]),r=t(e.target);r.closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return t(this).css("position")==="fixed"}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(this._trigger("drag",e,r)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,r=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(r=t.ui.ddmanager.drop(this,e)),this.dropped&&(r=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!r||this.options.revert==="valid"&&r||this.options.revert===!0||typeof this.options.revert=="function"&&this.options.revert.call(this.element,r)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,r=typeof n.helper=="function",s=r?t(n.helper.apply(this.element[0],[e])):n.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo(n.appendTo==="parent"?this.element[0].parentNode:n.appendTo),r&&s[0]===this.element[0]&&this._setPositionRelative(),s[0]!==this.element[0]&&!/(fixed|absolute)/.test(s.css("position"))&&s.css("position","absolute"),s},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){typeof e=="string"&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var e=this.element.position(),n=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(n?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(n?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,r,s=this.options,l=this.document[0];if(this.relativeContainer=null,!s.containment){this.containment=null;return}if(s.containment==="window"){this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||l.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(s.containment==="document"){this.containment=[0,0,t(l).width()-this.helperProportions.width-this.margins.left,(t(l).height()||l.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(s.containment.constructor===Array){this.containment=s.containment;return}s.containment==="parent"&&(s.containment=this.helper[0].parentNode),n=t(s.containment),r=n[0],r&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)},_convertPositionTo:function(e,n){n||(n=this.position);var r=e==="absolute"?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.offset.scroll.top:s?0:this.offset.scroll.top)*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.offset.scroll.left:s?0:this.offset.scroll.left)*r}},_generatePosition:function(e,n){var r,s,l,h,v=this.options,D=this._isRootNode(this.scrollParent[0]),F=e.pageX,Z=e.pageY;return(!D||!this.offset.scroll)&&(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),n&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),r=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):r=this.containment,e.pageX-this.offset.click.left<r[0]&&(F=r[0]+this.offset.click.left),e.pageY-this.offset.click.top<r[1]&&(Z=r[1]+this.offset.click.top),e.pageX-this.offset.click.left>r[2]&&(F=r[2]+this.offset.click.left),e.pageY-this.offset.click.top>r[3]&&(Z=r[3]+this.offset.click.top)),v.grid&&(l=v.grid[1]?this.originalPageY+Math.round((Z-this.originalPageY)/v.grid[1])*v.grid[1]:this.originalPageY,Z=r?l-this.offset.click.top>=r[1]||l-this.offset.click.top>r[3]?l:l-this.offset.click.top>=r[1]?l-v.grid[1]:l+v.grid[1]:l,h=v.grid[0]?this.originalPageX+Math.round((F-this.originalPageX)/v.grid[0])*v.grid[0]:this.originalPageX,F=r?h-this.offset.click.left>=r[0]||h-this.offset.click.left>r[2]?h:h-this.offset.click.left>=r[0]?h-v.grid[0]:h+v.grid[0]:h),v.axis==="y"&&(F=this.originalPageX),v.axis==="x"&&(Z=this.originalPageY)),{top:Z-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:D?0:this.offset.scroll.top),left:F-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:D?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,r){return r=r||this._uiHash(),t.ui.plugin.call(this,e,[n,r,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,r){var s=t.extend({},n,{item:r.element});r.sortables=[],t(r.options.connectToSortable).each(function(){var l=t(this).sortable("instance");l&&!l.options.disabled&&(r.sortables.push(l),l.refreshPositions(),l._trigger("activate",e,s))})},stop:function(e,n,r){var s=t.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,t.each(r.sortables,function(){var l=this;l.isOver?(l.isOver=0,r.cancelHelperRemoval=!0,l.cancelHelperRemoval=!1,l._storedCSS={position:l.placeholder.css("position"),top:l.placeholder.css("top"),left:l.placeholder.css("left")},l._mouseStop(e),l.options.helper=l.options._helper):(l.cancelHelperRemoval=!0,l._trigger("deactivate",e,s))})},drag:function(e,n,r){t.each(r.sortables,function(){var s=!1,l=this;l.positionAbs=r.positionAbs,l.helperProportions=r.helperProportions,l.offset.click=r.offset.click,l._intersectsWith(l.containerCache)&&(s=!0,t.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==l&&this._intersectsWith(this.containerCache)&&t.contains(l.element[0],this.element[0])&&(s=!1),s})),s?(l.isOver||(l.isOver=1,r._parent=n.helper.parent(),l.currentItem=n.helper.appendTo(l.element).data("ui-sortable-item",!0),l.options._helper=l.options.helper,l.options.helper=function(){return n.helper[0]},e.target=l.currentItem[0],l._mouseCapture(e,!0),l._mouseStart(e,!0,!0),l.offset.click.top=r.offset.click.top,l.offset.click.left=r.offset.click.left,l.offset.parent.left-=r.offset.parent.left-l.offset.parent.left,l.offset.parent.top-=r.offset.parent.top-l.offset.parent.top,r._trigger("toSortable",e),r.dropped=l.element,t.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,l.fromOutside=r),l.currentItem&&(l._mouseDrag(e),n.position=l.position)):l.isOver&&(l.isOver=0,l.cancelHelperRemoval=!0,l.options._revert=l.options.revert,l.options.revert=!1,l._trigger("out",e,l._uiHash(l)),l._mouseStop(e,!0),l.options.revert=l.options._revert,l.options.helper=l.options._helper,l.placeholder&&l.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(e),n.position=r._generatePosition(e,!0),r._trigger("fromSortable",e),r.dropped=!1,t.each(r.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,r){var s=t("body"),l=r.options;s.css("cursor")&&(l._cursor=s.css("cursor")),s.css("cursor",l.cursor)},stop:function(e,n,r){var s=r.options;s._cursor&&t("body").css("cursor",s._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,r){var s=t(n.helper),l=r.options;s.css("opacity")&&(l._opacity=s.css("opacity")),s.css("opacity",l.opacity)},stop:function(e,n,r){var s=r.options;s._opacity&&t(n.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(e,n,r){r.scrollParentNotHidden||(r.scrollParentNotHidden=r.helper.scrollParent(!1)),r.scrollParentNotHidden[0]!==r.document[0]&&r.scrollParentNotHidden[0].tagName!=="HTML"&&(r.overflowOffset=r.scrollParentNotHidden.offset())},drag:function(e,n,r){var s=r.options,l=!1,h=r.scrollParentNotHidden[0],v=r.document[0];h!==v&&h.tagName!=="HTML"?((!s.axis||s.axis!=="x")&&(r.overflowOffset.top+h.offsetHeight-e.pageY<s.scrollSensitivity?h.scrollTop=l=h.scrollTop+s.scrollSpeed:e.pageY-r.overflowOffset.top<s.scrollSensitivity&&(h.scrollTop=l=h.scrollTop-s.scrollSpeed)),(!s.axis||s.axis!=="y")&&(r.overflowOffset.left+h.offsetWidth-e.pageX<s.scrollSensitivity?h.scrollLeft=l=h.scrollLeft+s.scrollSpeed:e.pageX-r.overflowOffset.left<s.scrollSensitivity&&(h.scrollLeft=l=h.scrollLeft-s.scrollSpeed))):((!s.axis||s.axis!=="x")&&(e.pageY-t(v).scrollTop()<s.scrollSensitivity?l=t(v).scrollTop(t(v).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(v).scrollTop())<s.scrollSensitivity&&(l=t(v).scrollTop(t(v).scrollTop()+s.scrollSpeed))),(!s.axis||s.axis!=="y")&&(e.pageX-t(v).scrollLeft()<s.scrollSensitivity?l=t(v).scrollLeft(t(v).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(v).scrollLeft())<s.scrollSensitivity&&(l=t(v).scrollLeft(t(v).scrollLeft()+s.scrollSpeed)))),l!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(r,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,r){var s=r.options;r.snapElements=[],t(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var l=t(this),h=l.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:l.outerWidth(),height:l.outerHeight(),top:h.top,left:h.left})})},drag:function(e,n,r){var s,l,h,v,D,F,Z,ae,ge,Q,ie=r.options,le=ie.snapTolerance,ce=n.offset.left,ke=ce+r.helperProportions.width,Pe=n.offset.top,ze=Pe+r.helperProportions.height;for(ge=r.snapElements.length-1;ge>=0;ge--){if(D=r.snapElements[ge].left-r.margins.left,F=D+r.snapElements[ge].width,Z=r.snapElements[ge].top-r.margins.top,ae=Z+r.snapElements[ge].height,ke<D-le||ce>F+le||ze<Z-le||Pe>ae+le||!t.contains(r.snapElements[ge].item.ownerDocument,r.snapElements[ge].item)){r.snapElements[ge].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,e,t.extend(r._uiHash(),{snapItem:r.snapElements[ge].item})),r.snapElements[ge].snapping=!1;continue}ie.snapMode!=="inner"&&(s=Math.abs(Z-ze)<=le,l=Math.abs(ae-Pe)<=le,h=Math.abs(D-ke)<=le,v=Math.abs(F-ce)<=le,s&&(n.position.top=r._convertPositionTo("relative",{top:Z-r.helperProportions.height,left:0}).top),l&&(n.position.top=r._convertPositionTo("relative",{top:ae,left:0}).top),h&&(n.position.left=r._convertPositionTo("relative",{top:0,left:D-r.helperProportions.width}).left),v&&(n.position.left=r._convertPositionTo("relative",{top:0,left:F}).left)),Q=s||l||h||v,ie.snapMode!=="outer"&&(s=Math.abs(Z-Pe)<=le,l=Math.abs(ae-ze)<=le,h=Math.abs(D-ce)<=le,v=Math.abs(F-ke)<=le,s&&(n.position.top=r._convertPositionTo("relative",{top:Z,left:0}).top),l&&(n.position.top=r._convertPositionTo("relative",{top:ae-r.helperProportions.height,left:0}).top),h&&(n.position.left=r._convertPositionTo("relative",{top:0,left:D}).left),v&&(n.position.left=r._convertPositionTo("relative",{top:0,left:F-r.helperProportions.width}).left)),!r.snapElements[ge].snapping&&(s||l||h||v||Q)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,e,t.extend(r._uiHash(),{snapItem:r.snapElements[ge].item})),r.snapElements[ge].snapping=s||l||h||v||Q}}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,r){var s,l=r.options,h=t.makeArray(t(l.stack)).sort(function(v,D){return(parseInt(t(v).css("zIndex"),10)||0)-(parseInt(t(D).css("zIndex"),10)||0)});!h.length||(s=parseInt(t(h[0]).css("zIndex"),10)||0,t(h).each(function(v){t(this).css("zIndex",s+v)}),this.css("zIndex",s+h.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,r){var s=t(n.helper),l=r.options;s.css("zIndex")&&(l._zIndex=s.css("zIndex")),s.css("zIndex",l.zIndex)},stop:function(e,n,r){var s=r.options;s._zIndex&&t(n.helper).css("zIndex",s._zIndex)}}),t.ui.draggable;/*!
 * jQuery UI Resizable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.resizable",t.ui.mouse,{version:"1.13.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(e,n){if(t(e).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",s=!1;if(e[r]>0)return!0;try{e[r]=1,s=e[r]>0,e[r]=0}catch{}return s},_create:function(){var e,n=this.options,r=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(r._removeClass("ui-resizable-autohide"),r._handles.show())}).on("mouseleave",function(){n.disabled||r.resizing||(r._addClass("ui-resizable-autohide"),r._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var e,n=function(r){t(r).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(e,n){switch(this._super(e,n),e){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!n;break}},_setupHandles:function(){var e=this.options,n,r,s,l,h,v=this;if(this.handles=e.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this._addedHandles=t(),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},r=0;r<s.length;r++)n=String.prototype.trim.call(s[r]),l="ui-resizable-"+n,h=t("<div>"),this._addClass(h,"ui-resizable-handle "+l),h.css({zIndex:e.zIndex}),this.handles[n]=".ui-resizable-"+n,this.element.children(this.handles[n]).length||(this.element.append(h),this._addedHandles=this._addedHandles.add(h));this._renderAxis=function(D){var F,Z,ae,ge;D=D||this.element;for(F in this.handles)this.handles[F].constructor===String?this.handles[F]=this.element.children(this.handles[F]).first().show():(this.handles[F].jquery||this.handles[F].nodeType)&&(this.handles[F]=t(this.handles[F]),this._on(this.handles[F],{mousedown:v._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(Z=t(this.handles[F],this.element),ge=/sw|ne|nw|se|n|s/.test(F)?Z.outerHeight():Z.outerWidth(),ae=["padding",/ne|nw|n/.test(F)?"Top":/se|sw|s/.test(F)?"Bottom":/^e$/.test(F)?"Right":"Left"].join(""),D.css(ae,ge),this._proportionallyResize()),this._handles=this._handles.add(this.handles[F])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){v.resizing||(this.className&&(h=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),v.axis=h&&h[1]?h[1]:"se")}),e.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(e){var n,r,s=!1;for(n in this.handles)r=t(this.handles[n])[0],(r===e.target||t.contains(r,e.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(e){var n,r,s,l=this.options,h=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),l.containment&&(n+=t(l.containment).scrollLeft()||0,r+=t(l.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()},this.originalPosition={left:n,top:r},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio=typeof l.aspectRatio=="number"?l.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor",s==="auto"?this.axis+"-resize":s),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,r,s=this.originalMousePosition,l=this.axis,h=e.pageX-s.left||0,v=e.pageY-s.top||0,D=this._change[l];return this._updatePrevProperties(),D&&(n=D.apply(this,[e,h,v]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var n,r,s,l,h,v,D,F=this.options,Z=this;return this._helper&&(n=this._proportionallyResizeElements,r=n.length&&/textarea/i.test(n[0].nodeName),s=r&&this._hasScroll(n[0],"left")?0:Z.sizeDiff.height,l=r?0:Z.sizeDiff.width,h={width:Z.helper.width()-l,height:Z.helper.height()-s},v=parseFloat(Z.element.css("left"))+(Z.position.left-Z.originalPosition.left)||null,D=parseFloat(Z.element.css("top"))+(Z.position.top-Z.originalPosition.top)||null,F.animate||this.element.css(t.extend(h,{top:D,left:v})),Z.helper.height(Z.size.height),Z.helper.width(Z.size.width),this._helper&&!F.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var n,r,s,l,h,v=this.options;h={minWidth:this._isNumber(v.minWidth)?v.minWidth:0,maxWidth:this._isNumber(v.maxWidth)?v.maxWidth:1/0,minHeight:this._isNumber(v.minHeight)?v.minHeight:0,maxHeight:this._isNumber(v.maxHeight)?v.maxHeight:1/0},(this._aspectRatio||e)&&(n=h.minHeight*this.aspectRatio,s=h.minWidth/this.aspectRatio,r=h.maxHeight*this.aspectRatio,l=h.maxWidth/this.aspectRatio,n>h.minWidth&&(h.minWidth=n),s>h.minHeight&&(h.minHeight=s),r<h.maxWidth&&(h.maxWidth=r),l<h.maxHeight&&(h.maxHeight=l)),this._vBoundaries=h},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var n=this.position,r=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),s==="sw"&&(e.left=n.left+(r.width-e.width),e.top=null),s==="nw"&&(e.top=n.top+(r.height-e.height),e.left=n.left+(r.width-e.width)),e},_respectSize:function(e){var n=this._vBoundaries,r=this.axis,s=this._isNumber(e.width)&&n.maxWidth&&n.maxWidth<e.width,l=this._isNumber(e.height)&&n.maxHeight&&n.maxHeight<e.height,h=this._isNumber(e.width)&&n.minWidth&&n.minWidth>e.width,v=this._isNumber(e.height)&&n.minHeight&&n.minHeight>e.height,D=this.originalPosition.left+this.originalSize.width,F=this.originalPosition.top+this.originalSize.height,Z=/sw|nw|w/.test(r),ae=/nw|ne|n/.test(r);return h&&(e.width=n.minWidth),v&&(e.height=n.minHeight),s&&(e.width=n.maxWidth),l&&(e.height=n.maxHeight),h&&Z&&(e.left=D-n.minWidth),s&&Z&&(e.left=D-n.maxWidth),v&&ae&&(e.top=F-n.minHeight),l&&ae&&(e.top=F-n.maxHeight),!e.width&&!e.height&&!e.left&&e.top?e.top=null:!e.width&&!e.height&&!e.top&&e.left&&(e.left=null),e},_getPaddingPlusBorderDimensions:function(e){for(var n=0,r=[],s=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],l=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];n<4;n++)r[n]=parseFloat(s[n])||0,r[n]+=parseFloat(l[n])||0;return{height:r[0]+r[2],width:r[1]+r[3]}},_proportionallyResize:function(){if(!!this._proportionallyResizeElements.length)for(var e,n=0,r=this.helper||this.element;n<this._proportionallyResizeElements.length;n++)e=this._proportionallyResizeElements[n],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:r.height()-this.outerDimensions.height||0,width:r.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,n){return{width:this.originalSize.width+n}},w:function(e,n){var r=this.originalSize,s=this.originalPosition;return{left:s.left+n,width:r.width-n}},n:function(e,n,r){var s=this.originalSize,l=this.originalPosition;return{top:l.top+r,height:s.height-r}},s:function(e,n,r){return{height:this.originalSize.height+r}},se:function(e,n,r){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,r]))},sw:function(e,n,r){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,r]))},ne:function(e,n,r){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,r]))},nw:function(e,n,r){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,r]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),e!=="resize"&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),r=n.options,s=n._proportionallyResizeElements,l=s.length&&/textarea/i.test(s[0].nodeName),h=l&&n._hasScroll(s[0],"left")?0:n.sizeDiff.height,v=l?0:n.sizeDiff.width,D={width:n.size.width-v,height:n.size.height-h},F=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,Z=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(D,Z&&F?{top:Z,left:F}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var ae={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};s&&s.length&&t(s[0]).css({width:ae.width,height:ae.height}),n._updateCache(ae),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,r,s,l,h,v,D=t(this).resizable("instance"),F=D.options,Z=D.element,ae=F.containment,ge=ae instanceof t?ae.get(0):/parent/.test(ae)?Z.parent().get(0):ae;!ge||(D.containerElement=t(ge),/document/.test(ae)||ae===document?(D.containerOffset={left:0,top:0},D.containerPosition={left:0,top:0},D.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(ge),n=[],t(["Top","Right","Left","Bottom"]).each(function(Q,ie){n[Q]=D._num(e.css("padding"+ie))}),D.containerOffset=e.offset(),D.containerPosition=e.position(),D.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},r=D.containerOffset,s=D.containerSize.height,l=D.containerSize.width,h=D._hasScroll(ge,"left")?ge.scrollWidth:l,v=D._hasScroll(ge)?ge.scrollHeight:s,D.parentData={element:ge,left:r.left,top:r.top,width:h,height:v}))},resize:function(e){var n,r,s,l,h=t(this).resizable("instance"),v=h.options,D=h.containerOffset,F=h.position,Z=h._aspectRatio||e.shiftKey,ae={top:0,left:0},ge=h.containerElement,Q=!0;ge[0]!==document&&/static/.test(ge.css("position"))&&(ae=D),F.left<(h._helper?D.left:0)&&(h.size.width=h.size.width+(h._helper?h.position.left-D.left:h.position.left-ae.left),Z&&(h.size.height=h.size.width/h.aspectRatio,Q=!1),h.position.left=v.helper?D.left:0),F.top<(h._helper?D.top:0)&&(h.size.height=h.size.height+(h._helper?h.position.top-D.top:h.position.top),Z&&(h.size.width=h.size.height*h.aspectRatio,Q=!1),h.position.top=h._helper?D.top:0),s=h.containerElement.get(0)===h.element.parent().get(0),l=/relative|absolute/.test(h.containerElement.css("position")),s&&l?(h.offset.left=h.parentData.left+h.position.left,h.offset.top=h.parentData.top+h.position.top):(h.offset.left=h.element.offset().left,h.offset.top=h.element.offset().top),n=Math.abs(h.sizeDiff.width+(h._helper?h.offset.left-ae.left:h.offset.left-D.left)),r=Math.abs(h.sizeDiff.height+(h._helper?h.offset.top-ae.top:h.offset.top-D.top)),n+h.size.width>=h.parentData.width&&(h.size.width=h.parentData.width-n,Z&&(h.size.height=h.size.width/h.aspectRatio,Q=!1)),r+h.size.height>=h.parentData.height&&(h.size.height=h.parentData.height-r,Z&&(h.size.width=h.size.height*h.aspectRatio,Q=!1)),Q||(h.position.left=h.prevPosition.left,h.position.top=h.prevPosition.top,h.size.width=h.prevSize.width,h.size.height=h.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,r=e.containerOffset,s=e.containerPosition,l=e.containerElement,h=t(e.helper),v=h.offset(),D=h.outerWidth()-e.sizeDiff.width,F=h.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(l.css("position"))&&t(this).css({left:v.left-s.left-r.left,width:D,height:F}),e._helper&&!n.animate&&/static/.test(l.css("position"))&&t(this).css({left:v.left-s.left-r.left,width:D,height:F})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options;t(n.alsoResize).each(function(){var r=t(this);r.data("ui-resizable-alsoresize",{width:parseFloat(r.width()),height:parseFloat(r.height()),left:parseFloat(r.css("left")),top:parseFloat(r.css("top"))})})},resize:function(e,n){var r=t(this).resizable("instance"),s=r.options,l=r.originalSize,h=r.originalPosition,v={height:r.size.height-l.height||0,width:r.size.width-l.width||0,top:r.position.top-h.top||0,left:r.position.left-h.left||0};t(s.alsoResize).each(function(){var D=t(this),F=t(this).data("ui-resizable-alsoresize"),Z={},ae=D.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(ae,function(ge,Q){var ie=(F[Q]||0)+(v[Q]||0);ie&&ie>=0&&(Z[Q]=ie||null)}),D.css(Z)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&typeof e.options.ghost=="string"&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),r=n.options,s=n.size,l=n.originalSize,h=n.originalPosition,v=n.axis,D=typeof r.grid=="number"?[r.grid,r.grid]:r.grid,F=D[0]||1,Z=D[1]||1,ae=Math.round((s.width-l.width)/F)*F,ge=Math.round((s.height-l.height)/Z)*Z,Q=l.width+ae,ie=l.height+ge,le=r.maxWidth&&r.maxWidth<Q,ce=r.maxHeight&&r.maxHeight<ie,ke=r.minWidth&&r.minWidth>Q,Pe=r.minHeight&&r.minHeight>ie;r.grid=D,ke&&(Q+=F),Pe&&(ie+=Z),le&&(Q-=F),ce&&(ie-=Z),/^(se|s|e)$/.test(v)?(n.size.width=Q,n.size.height=ie):/^(ne)$/.test(v)?(n.size.width=Q,n.size.height=ie,n.position.top=h.top-ge):/^(sw)$/.test(v)?(n.size.width=Q,n.size.height=ie,n.position.left=h.left-ae):((ie-Z<=0||Q-F<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),ie-Z>0?(n.size.height=ie,n.position.top=h.top-ge):(ie=Z-e.height,n.size.height=ie,n.position.top=h.top+l.height-ie),Q-F>0?(n.size.width=Q,n.position.left=h.left-ae):(Q=F-e.width,n.size.width=Q,n.position.left=h.left+l.width-Q))}}),t.ui.resizable;/*!
 * jQuery UI Dialog 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.dialog",{version:"1.13.2",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title==null&&this.originalTitle!=null&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,n=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=n.parent.children().eq(n.index),e.length&&e[0]!==this.element[0]?e.before(this.element):n.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;!this._isOpen||this._trigger("beforeClose",e)===!1||(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var r=!1,s=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),l=Math.max.apply(null,s);return l>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",l+1),r=!0),r&&!n&&this._trigger("focus",e),r},open:function(){var e=this;if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open")},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_restoreTabbableFocus:function(){var e=t.ui.safeActiveElement(this.document[0]),n=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);n||this._focusTabbable()},_keepFocus:function(e){e.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE){e.preventDefault(),this.close(e);return}if(!(e.keyCode!==t.ui.keyCode.TAB||e.isDefaultPrevented())){var n=this.uiDialog.find(":tabbable"),r=n.first(),s=n.last();(e.target===s[0]||e.target===this.uiDialog[0])&&!e.shiftKey?(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(e.target===r[0]||e.target===this.uiDialog[0])&&e.shiftKey&&(this._delay(function(){s.trigger("focus")}),e.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(n){t(n.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(n){n.preventDefault(),this.close(n)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||Array.isArray(n)&&!n.length){this._removeClass(this.uiDialog,"ui-dialog-buttons");return}t.each(n,function(r,s){var l,h;s=typeof s=="function"?{click:s,text:r}:s,s=t.extend({type:"button"},s),l=s.click,h={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,typeof s.text=="boolean"&&delete s.text,t("<button></button>",s).button(h).appendTo(e.uiButtonSet).on("click",function(){l.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var e=this,n=this.options;function r(s){return{position:s.position,offset:s.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,l){e._addClass(t(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",s,r(l))},drag:function(s,l){e._trigger("drag",s,r(l))},stop:function(s,l){var h=l.offset.left-e.document.scrollLeft(),v=l.offset.top-e.document.scrollTop();n.position={my:"left top",at:"left"+(h>=0?"+":"")+h+" top"+(v>=0?"+":"")+v,of:e.window},e._removeClass(t(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",s,r(l))}})},_makeResizable:function(){var e=this,n=this.options,r=n.resizable,s=this.uiDialog.css("position"),l=typeof r=="string"?r:"n,e,s,w,se,sw,ne,nw";function h(v){return{originalPosition:v.originalPosition,originalSize:v.originalSize,position:v.position,size:v.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:l,start:function(v,D){e._addClass(t(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",v,h(D))},resize:function(v,D){e._trigger("resize",v,h(D))},stop:function(v,D){var F=e.uiDialog.offset(),Z=F.left-e.document.scrollLeft(),ae=F.top-e.document.scrollTop();n.height=e.uiDialog.height(),n.width=e.uiDialog.width(),n.position={my:"left top",at:"left"+(Z>=0?"+":"")+Z+" top"+(ae>=0?"+":"")+ae,of:e.window},e._removeClass(t(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",v,h(D))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);n!==-1&&e.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var n=this,r=!1,s={};t.each(e,function(l,h){n._setOption(l,h),l in n.sizeRelatedOptions&&(r=!0),l in n.resizableRelatedOptions&&(s[l]=h)}),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(e,n){var r,s,l=this.uiDialog;e!=="disabled"&&(this._super(e,n),e==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),e==="buttons"&&this._createButtons(),e==="closeText"&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),e==="draggable"&&(r=l.is(":data(ui-draggable)"),r&&!n&&l.draggable("destroy"),!r&&n&&this._makeDraggable()),e==="position"&&this._position(),e==="resizable"&&(s=l.is(":data(ui-resizable)"),s&&!n&&l.resizable("destroy"),s&&typeof n=="string"&&l.resizable("option","handles",n),!s&&n!==!1&&this._makeResizable()),e==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,n,r,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),e=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),n=Math.max(0,s.minHeight-e),r=typeof s.maxHeight=="number"?Math.max(0,s.maxHeight-e):"none",s.height==="auto"?this.element.css({minHeight:n,maxHeight:r,height:"auto"}):this.element.height(Math.max(0,s.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!!this.options.modal){var e=t.fn.jquery.substring(0,4),n=!0;this._delay(function(){n=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(r){if(!n){var s=this._trackingInstances()[0];s._allowInteraction(r)||(r.preventDefault(),s._focusTabbable(),(e==="3.4."||e==="3.5.")&&s._delay(s._restoreTabbableFocus))}}.bind(this)),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(!!this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,n){e==="dialogClass"&&this.uiDialog.removeClass(this.options.dialogClass).addClass(n),this._superApply(arguments)}}),t.ui.dialog;/*!
 * jQuery UI Droppable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.droppable",{version:"1.13.2",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=typeof r=="function"?r:function(s){return s.is(r)},this.proportions=function(){if(arguments.length)e=arguments[0];else return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var n=0;n<e.length;n++)e[n]===this&&e.splice(n,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if(e==="accept")this.accept=typeof n=="function"?n:function(s){return s.is(n)};else if(e==="scope"){var r=t.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;!n||(n.currentItem||n.element)[0]===this.element[0]||this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;!n||(n.currentItem||n.element)[0]===this.element[0]||this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var r=n||t.ui.ddmanager.current,s=!1;return!r||(r.currentItem||r.element)[0]===this.element[0]||(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var l=t(this).droppable("instance");if(l.options.greedy&&!l.options.disabled&&l.options.scope===r.options.scope&&l.accept.call(l.element[0],r.currentItem||r.element)&&t.ui.intersect(r,t.extend(l,{offset:l.element.offset()}),l.options.tolerance,e))return s=!0,!1}),s)?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(r)),this.element):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),t.ui.intersect=function(){function e(n,r,s){return n>=r&&n<r+s}return function(n,r,s,l){if(!r.offset)return!1;var h=(n.positionAbs||n.position.absolute).left+n.margins.left,v=(n.positionAbs||n.position.absolute).top+n.margins.top,D=h+n.helperProportions.width,F=v+n.helperProportions.height,Z=r.offset.left,ae=r.offset.top,ge=Z+r.proportions().width,Q=ae+r.proportions().height;switch(s){case"fit":return Z<=h&&D<=ge&&ae<=v&&F<=Q;case"intersect":return Z<h+n.helperProportions.width/2&&D-n.helperProportions.width/2<ge&&ae<v+n.helperProportions.height/2&&F-n.helperProportions.height/2<Q;case"pointer":return e(l.pageY,ae,r.proportions().height)&&e(l.pageX,Z,r.proportions().width);case"touch":return(v>=ae&&v<=Q||F>=ae&&F<=Q||v<ae&&F>Q)&&(h>=Z&&h<=ge||D>=Z&&D<=ge||h<Z&&D>ge);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var r,s,l=t.ui.ddmanager.droppables[e.options.scope]||[],h=n?n.type:null,v=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<l.length;r++)if(!(l[r].options.disabled||e&&!l[r].accept.call(l[r].element[0],e.currentItem||e.element))){for(s=0;s<v.length;s++)if(v[s]===l[r].element[0]){l[r].proportions().height=0;continue e}l[r].visible=l[r].element.css("display")!=="none",l[r].visible&&(h==="mousedown"&&l[r]._activate.call(l[r],n),l[r].offset=l[r].element.offset(),l[r].proportions({width:l[r].element[0].offsetWidth,height:l[r].element[0].offsetHeight}))}},drop:function(e,n){var r=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){!this.options||(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,n)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),r},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var r,s,l,h=t.ui.intersect(e,this,this.options.tolerance,n),v=!h&&this.isover?"isout":h&&!this.isover?"isover":null;!v||(this.options.greedy&&(s=this.options.scope,l=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===s}),l.length&&(r=t(l[0]).droppable("instance"),r.greedyChild=v==="isover")),r&&v==="isover"&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[v]=!0,this[v==="isout"?"isover":"isout"]=!1,this[v==="isover"?"_over":"_out"].call(this,n),r&&v==="isout"&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable;/*!
 * jQuery UI Progressbar 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.progressbar",{version:"1.13.2",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(e===void 0)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return e===void 0&&(e=this.options.value),this.indeterminate=e===!1,typeof e!="number"&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var n=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(n),this._refreshValue()},_setOption:function(e,n){e==="max"&&(n=Math.max(this.min,n)),this._super(e,n)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}});/*!
 * jQuery UI Selectable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.selectable",t.ui.mouse,{version:"1.13.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var n=t(this),r=n.offset(),s={left:r.left-e.elementPos.left,top:r.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:s.left,top:s.top,right:s.left+n.outerWidth(),bottom:s.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,r=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),!this.options.disabled&&(this.selectees=t(r.filter,this.element[0]),this._trigger("start",e),t(r.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,!e.metaKey&&!e.ctrlKey&&(n._removeClass(s.$element,"ui-selected"),s.selected=!1,n._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,n._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,l=t.data(this,"selectable-item");if(l)return s=!e.metaKey&&!e.ctrlKey||!l.$element.hasClass("ui-selected"),n._removeClass(l.$element,s?"ui-unselecting":"ui-selected")._addClass(l.$element,s?"ui-selecting":"ui-unselecting"),l.unselecting=!s,l.selecting=s,l.selected=s,s?n._trigger("selecting",e,{selecting:l.element}):n._trigger("unselecting",e,{unselecting:l.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,r=this,s=this.options,l=this.opos[0],h=this.opos[1],v=e.pageX,D=e.pageY;return l>v&&(n=v,v=l,l=n),h>D&&(n=D,D=h,h=n),this.helper.css({left:l,top:h,width:v-l,height:D-h}),this.selectees.each(function(){var F=t.data(this,"selectable-item"),Z=!1,ae={};!F||F.element===r.element[0]||(ae.left=F.left+r.elementPos.left,ae.right=F.right+r.elementPos.left,ae.top=F.top+r.elementPos.top,ae.bottom=F.bottom+r.elementPos.top,s.tolerance==="touch"?Z=!(ae.left>v||ae.right<l||ae.top>D||ae.bottom<h):s.tolerance==="fit"&&(Z=ae.left>l&&ae.right<v&&ae.top>h&&ae.bottom<D),Z?(F.selected&&(r._removeClass(F.$element,"ui-selected"),F.selected=!1),F.unselecting&&(r._removeClass(F.$element,"ui-unselecting"),F.unselecting=!1),F.selecting||(r._addClass(F.$element,"ui-selecting"),F.selecting=!0,r._trigger("selecting",e,{selecting:F.element}))):(F.selecting&&((e.metaKey||e.ctrlKey)&&F.startselected?(r._removeClass(F.$element,"ui-selecting"),F.selecting=!1,r._addClass(F.$element,"ui-selected"),F.selected=!0):(r._removeClass(F.$element,"ui-selecting"),F.selecting=!1,F.startselected&&(r._addClass(F.$element,"ui-unselecting"),F.unselecting=!0),r._trigger("unselecting",e,{unselecting:F.element}))),F.selected&&!e.metaKey&&!e.ctrlKey&&!F.startselected&&(r._removeClass(F.$element,"ui-selected"),F.selected=!1,r._addClass(F.$element,"ui-unselecting"),F.unselecting=!0,r._trigger("unselecting",e,{unselecting:F.element}))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var r=t.data(this,"selectable-item");n._removeClass(r.$element,"ui-unselecting"),r.unselecting=!1,r.startselected=!1,n._trigger("unselected",e,{unselected:r.element})}),t(".ui-selecting",this.element[0]).each(function(){var r=t.data(this,"selectable-item");n._removeClass(r.$element,"ui-selecting")._addClass(r.$element,"ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,n._trigger("selected",e,{selected:r.element})}),this._trigger("stop",e),this.helper.remove(),!1}});/*!
 * jQuery UI Selectmenu 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.13.2",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,n=this,r=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(s){this.button.trigger("focus"),s.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(r).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(n,r){n.preventDefault(),e._setSelection(),e._select(r.item.data("ui-selectmenu-item"),n)},focus:function(n,r){var s=r.item.data("ui-selectmenu-item");e.focusIndex!=null&&s.index!==e.focusIndex&&(e._trigger("focus",n,{item:s}),e.isOpen||e._select(s,n)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),this.options.width===null&&this._resizeButton()},_refreshMenu:function(){var e,n=this.element.find("option");this.menu.empty(),this._parseOptions(n),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,n.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(e){!this.isOpen||(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");return this._setText(n,e.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(e,n){var r=this,s="";t.each(n,function(l,h){var v;h.optgroup!==s&&(v=t("<li>",{text:h.optgroup}),r._addClass(v,"ui-selectmenu-optgroup","ui-menu-divider"+(h.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),v.appendTo(e),s=h.optgroup),r._renderItemData(e,h)})},_renderItemData:function(e,n){return this._renderItem(e,n).data("ui-selectmenu-item",n)},_renderItem:function(e,n){var r=t("<li>"),s=t("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(r,null,"ui-state-disabled"),this._setText(s,n.label),r.append(s).appendTo(e)},_setText:function(e,n){n?e.text(n):e.html("&#160;")},_move:function(e,n){var r,s,l=".ui-menu-item";this.isOpen?r=this.menuItems.eq(this.focusIndex).parent("li"):(r=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),l+=":not(.ui-state-disabled)"),e==="first"||e==="last"?s=r[e==="first"?"prevAll":"nextAll"](l).eq(-1):s=r[e+"All"](l).eq(0),s.length&&this.menuInstance.focus(n,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;!this.range||(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.trigger("focus"))},_documentClick:{mousedown:function(e){!this.isOpen||t(e.target).closest(".ui-selectmenu-menu, #"+t.escapeSelector(this.ids.button)).length||this.close(e)}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(e){var n=this.menuItems.eq(this.focusIndex).parent("li");n.hasClass("ui-state-disabled")||this._select(n.data("ui-selectmenu-item"),e)},_select:function(e,n){var r=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",n,{item:e}),e.index!==r&&this._trigger("change",n,{item:e}),this.close(n)},_setAria:function(e){var n=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":n,"aria-activedescendant":n}),this.menu.attr("aria-activedescendant",n)},_setOption:function(e,n){if(e==="icons"){var r=this.button.find("span.ui-icon");this._removeClass(r,null,this.options.icons.button)._addClass(r,null,n.button)}this._super(e,n),e==="appendTo"&&this.menuWrap.appendTo(this._appendTo()),e==="width"&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;if(e===!1){this.button.css("width","");return}e===null&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(e){var n=this,r=[];e.each(function(s,l){l.hidden||r.push(n._parseOption(t(l),s))}),this.items=r},_parseOption:function(e,n){var r=e.parent("optgroup");return{element:e,index:n,value:e.val(),label:e.text(),optgroup:r.attr("label")||"",disabled:r.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]);/*!
 * jQuery UI Slider 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.slider",t.ui.mouse,{version:"1.13.2",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,r=this.options,s=this.element.find(".ui-slider-handle"),l="<span tabindex='0'></span>",h=[];for(n=r.values&&r.values.length||1,s.length>n&&(s.slice(n).remove(),s=s.slice(0,n)),e=s.length;e<n;e++)h.push(l);this.handles=s.add(t(h.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(v){t(this).data("ui-slider-handle-index",v).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&e.values.length!==2?e.values=[e.values[0],e.values[0]]:Array.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),!this.range||!this.range.length?(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")):(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})),(e.range==="min"||e.range==="max")&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,r,s,l,h,v,D,F,Z=this,ae=this.options;return ae.disabled||(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},r=this._normValueFromMouse(n),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(ge){var Q=Math.abs(r-Z.values(ge));(s>Q||s===Q&&(ge===Z._lastChangedValue||Z.values(ge)===ae.min))&&(s=Q,l=t(this),h=ge)}),v=this._start(e,h),v===!1)?!1:(this._mouseSliding=!0,this._handleIndex=h,this._addClass(l,null,"ui-state-active"),l.trigger("focus"),D=l.offset(),F=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=F?{left:0,top:0}:{left:e.pageX-D.left-l.width()/2,top:e.pageY-D.top-l.height()/2-(parseInt(l.css("borderTopWidth"),10)||0)-(parseInt(l.css("borderBottomWidth"),10)||0)+(parseInt(l.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,h,r),this._animateOff=!0,!0)},_mouseStart:function(){return!0},_mouseDrag:function(e){var n={x:e.pageX,y:e.pageY},r=this._normValueFromMouse(n);return this._slide(e,this._handleIndex,r),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(e){var n,r,s,l,h;return this.orientation==="horizontal"?(n=this.elementSize.width,r=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(n=this.elementSize.height,r=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=r/n,s>1&&(s=1),s<0&&(s=0),this.orientation==="vertical"&&(s=1-s),l=this._valueMax()-this._valueMin(),h=this._valueMin()+s*l,this._trimAlignValue(h)},_uiHash:function(e,n,r){var s={handle:this.handles[e],handleIndex:e,value:n!==void 0?n:this.value()};return this._hasMultipleValues()&&(s.value=n!==void 0?n:this.values(e),s.values=r||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,n){return this._trigger("start",e,this._uiHash(n))},_slide:function(e,n,r){var s,l,h=this.value(),v=this.values();this._hasMultipleValues()&&(l=this.values(n?0:1),h=this.values(n),this.options.values.length===2&&this.options.range===!0&&(r=n===0?Math.min(l,r):Math.max(l,r)),v[n]=r),r!==h&&(s=this._trigger("slide",e,this._uiHash(n,r,v)),s!==!1&&(this._hasMultipleValues()?this.values(n,r):this.value(r)))},_stop:function(e,n){this._trigger("stop",e,this._uiHash(n))},_change:function(e,n){!this._keySliding&&!this._mouseSliding&&(this._lastChangedValue=n,this._trigger("change",e,this._uiHash(n)))},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(e,n){var r,s,l;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),this._change(null,e);return}if(arguments.length)if(Array.isArray(arguments[0])){for(r=this.options.values,s=arguments[0],l=0;l<r.length;l+=1)r[l]=this._trimAlignValue(s[l]),this._change(null,l);this._refreshValue()}else return this._hasMultipleValues()?this._values(e):this.value();else return this._values()},_setOption:function(e,n){var r,s=0;switch(e==="range"&&this.options.range===!0&&(n==="min"?(this.options.value=this._values(0),this.options.values=null):n==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(s=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css(n==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=s-1;r>=0;r--)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1;break}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e),e},_values:function(e){var n,r,s;if(arguments.length)return n=this.options.values[e],n=this._trimAlignValue(n),n;if(this._hasMultipleValues()){for(r=this.options.values.slice(),s=0;s<r.length;s+=1)r[s]=this._trimAlignValue(r[s]);return r}else return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var n=this.options.step>0?this.options.step:1,r=(e-this._valueMin())%n,s=e-r;return Math.abs(r)*2>=n&&(s+=r>0?n:-n),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,n=this._valueMin(),r=this.options.step,s=Math.round((e-n)/r)*r;e=s+n,e>this.options.max&&(e-=r),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return this.options.min!==null&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var n=e.toString(),r=n.indexOf(".");return r===-1?0:n.length-r-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){e==="vertical"&&this.range.css({width:"",left:""}),e==="horizontal"&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,r,s,l,h=this.options.range,v=this.options,D=this,F=this._animateOff?!1:v.animate,Z={};this._hasMultipleValues()?this.handles.each(function(ae){n=(D.values(ae)-D._valueMin())/(D._valueMax()-D._valueMin())*100,Z[D.orientation==="horizontal"?"left":"bottom"]=n+"%",t(this).stop(1,1)[F?"animate":"css"](Z,v.animate),D.options.range===!0&&(D.orientation==="horizontal"?(ae===0&&D.range.stop(1,1)[F?"animate":"css"]({left:n+"%"},v.animate),ae===1&&D.range[F?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:v.animate})):(ae===0&&D.range.stop(1,1)[F?"animate":"css"]({bottom:n+"%"},v.animate),ae===1&&D.range[F?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:v.animate}))),e=n}):(r=this.value(),s=this._valueMin(),l=this._valueMax(),n=l!==s?(r-s)/(l-s)*100:0,Z[this.orientation==="horizontal"?"left":"bottom"]=n+"%",this.handle.stop(1,1)[F?"animate":"css"](Z,v.animate),h==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[F?"animate":"css"]({width:n+"%"},v.animate),h==="max"&&this.orientation==="horizontal"&&this.range.stop(1,1)[F?"animate":"css"]({width:100-n+"%"},v.animate),h==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[F?"animate":"css"]({height:n+"%"},v.animate),h==="max"&&this.orientation==="vertical"&&this.range.stop(1,1)[F?"animate":"css"]({height:100-n+"%"},v.animate))},_handleEvents:{keydown:function(e){var n,r,s,l,h=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),n=this._start(e,h),n===!1))return;break}switch(l=this.options.step,this._hasMultipleValues()?r=s=this.values(h):r=s=this.value(),e.keyCode){case t.ui.keyCode.HOME:s=this._valueMin();break;case t.ui.keyCode.END:s=this._valueMax();break;case t.ui.keyCode.PAGE_UP:s=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(r===this._valueMax())return;s=this._trimAlignValue(r+l);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(r===this._valueMin())return;s=this._trimAlignValue(r-l);break}this._slide(e,h,s)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}});/*!
 * jQuery UI Sortable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.sortable",t.ui.mouse,{version:"1.13.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,n,r){return e>=n&&e<n+r},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,n){this._super(e,n),e==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var r=null,s=!1,l=this;return this.reverting||this.options.disabled||this.options.type==="static"||(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,l.widgetName+"-item")===l)return r=t(this),!1}),t.data(e.target,l.widgetName+"-item")===l&&(r=t(e.target)),!r)||this.options.handle&&!n&&(t(this.options.handle,r).find("*").addBack().each(function(){this===e.target&&(s=!0)}),!s)?!1:(this.currentItem=r,this._removeCurrentsFromItems(),!0)},_mouseStart:function(e,n,r){var s,l,h=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=t(h.appendTo!=="parent"?h.appendTo:this.currentItem.parent()),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),h.cursorAt&&this._adjustOffsetFromHelper(h.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),t.extend(this.offset,{parent:this._getParentOffset()}),h.containment&&this._setContainment(),h.cursor&&h.cursor!=="auto"&&(l=this.document.find("body"),this.storedCursor=l.css("cursor"),l.css("cursor",h.cursor),this.storedStylesheet=t("<style>*{ cursor: "+h.cursor+" !important; }</style>").appendTo(l)),h.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",h.zIndex)),h.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",h.opacity)),this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!h.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(e),!0},_scroll:function(e){var n=this.options,r=!1;return this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(e.pageY-this.document.scrollTop()<n.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-n.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<n.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+n.scrollSpeed)),e.pageX-this.document.scrollLeft()<n.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-n.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<n.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+n.scrollSpeed))),r},_mouseDrag:function(e){var n,r,s,l,h=this.options;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),(!this.options.axis||this.options.axis!=="y")&&(this.helper[0].style.left=this.position.left+"px"),(!this.options.axis||this.options.axis!=="x")&&(this.helper[0].style.top=this.position.top+"px"),h.scroll&&this._scroll(e)!==!1&&(this._refreshItemPositions(!0),t.ui.ddmanager&&!h.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},n=this.items.length-1;n>=0;n--)if(r=this.items[n],s=r.item[0],l=this._intersectsWithPointer(r),!!l&&r.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[l===1?"next":"prev"]()[0]!==s&&!t.contains(this.placeholder[0],s)&&(this.options.type==="semi-dynamic"?!t.contains(this.element[0],s):!0)){if(this.direction=l===1?"down":"up",this.options.tolerance==="pointer"||this._intersectsWithSides(r))this._rearrange(e,r);else break;this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(!!e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var r=this,s=this.placeholder.offset(),l=this.options.axis,h={};(!l||l==="x")&&(h.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),(!l||l==="y")&&(h.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(h,parseInt(this.options.revert,10)||500,function(){r._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),this.options.helper==="original"?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),r=[];return e=e||{},t(n).each(function(){var s=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);s&&r.push((e.key||s[1]+"[]")+"="+(e.key&&e.expression?s[1]:s[2]))}),!r.length&&e.key&&r.push(e.key+"="),r.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),r=[];return e=e||{},n.each(function(){r.push(t(e.item||this).attr(e.attribute||"id")||"")}),r},_intersectsWith:function(e){var n=this.positionAbs.left,r=n+this.helperProportions.width,s=this.positionAbs.top,l=s+this.helperProportions.height,h=e.left,v=h+e.width,D=e.top,F=D+e.height,Z=this.offset.click.top,ae=this.offset.click.left,ge=this.options.axis==="x"||s+Z>D&&s+Z<F,Q=this.options.axis==="y"||n+ae>h&&n+ae<v,ie=ge&&Q;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?ie:h<n+this.helperProportions.width/2&&r-this.helperProportions.width/2<v&&D<s+this.helperProportions.height/2&&l-this.helperProportions.height/2<F},_intersectsWithPointer:function(e){var n,r,s=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),l=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),h=s&&l;return h?(n=this.dragDirection.vertical,r=this.dragDirection.horizontal,this.floating?r==="right"||n==="down"?2:1:n&&(n==="down"?2:1)):!1},_intersectsWithSides:function(e){var n=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),r=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this.dragDirection.vertical,l=this.dragDirection.horizontal;return this.floating&&l?l==="right"&&r||l==="left"&&!r:s&&(s==="down"&&n||s==="up"&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var n,r,s,l,h=[],v=[],D=this._connectWith();if(D&&e)for(n=D.length-1;n>=0;n--)for(s=t(D[n],this.document[0]),r=s.length-1;r>=0;r--)l=t.data(s[r],this.widgetFullName),l&&l!==this&&!l.options.disabled&&v.push([typeof l.options.items=="function"?l.options.items.call(l.element):t(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l]);v.push([typeof this.options.items=="function"?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function F(){h.push(this)}for(n=v.length-1;n>=0;n--)v[n][0].each(F);return t(h)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(n){for(var r=0;r<e.length;r++)if(e[r]===n.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,r,s,l,h,v,D,F,Z=this.items,ae=[[typeof this.options.items=="function"?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],ge=this._connectWith();if(ge&&this.ready)for(n=ge.length-1;n>=0;n--)for(s=t(ge[n],this.document[0]),r=s.length-1;r>=0;r--)l=t.data(s[r],this.widgetFullName),l&&l!==this&&!l.options.disabled&&(ae.push([typeof l.options.items=="function"?l.options.items.call(l.element[0],e,{item:this.currentItem}):t(l.options.items,l.element),l]),this.containers.push(l));for(n=ae.length-1;n>=0;n--)for(h=ae[n][1],v=ae[n][0],r=0,F=v.length;r<F;r++)D=t(v[r]),D.data(this.widgetName+"-item",h),Z.push({item:D,instance:h,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(e){var n,r,s,l;for(n=this.items.length-1;n>=0;n--)r=this.items[n],!(this.currentContainer&&r.instance!==this.currentContainer&&r.item[0]!==this.currentItem[0])&&(s=this.options.toleranceElement?t(this.options.toleranceElement,r.item):r.item,e||(r.width=s.outerWidth(),r.height=s.outerHeight()),l=s.offset(),r.left=l.left,r.top=l.top)},refreshPositions:function(e){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(e);var n,r;if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)r=this.containers[n].element.offset(),this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,r,s=e.options;(!s.placeholder||s.placeholder.constructor===String)&&(n=s.placeholder,r=e.currentItem[0].nodeName.toLowerCase(),s.placeholder={element:function(){var l=t("<"+r+">",e.document[0]);return e._addClass(l,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(l,"ui-sortable-helper"),r==="tbody"?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(l)):r==="tr"?e._createTrPlaceholder(e.currentItem,l):r==="img"&&l.attr("src",e.currentItem.attr("src")),n||l.css("visibility","hidden"),l},update:function(l,h){n&&!s.forcePlaceholderSize||((!h.height()||s.forcePlaceholderSize&&(r==="tbody"||r==="tr"))&&h.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),h.width()||h.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var r=this;e.children().each(function(){t("<td>&#160;</td>",r.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,r,s,l,h,v,D,F,Z,ae,ge=null,Q=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(ge&&t.contains(this.containers[n].element[0],ge.element[0]))continue;ge=this.containers[n],Q=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(!!ge)if(this.containers.length===1)this.containers[Q].containerCache.over||(this.containers[Q]._trigger("over",e,this._uiHash(this)),this.containers[Q].containerCache.over=1);else{for(s=1e4,l=null,Z=ge.floating||this._isFloating(this.currentItem),h=Z?"left":"top",v=Z?"width":"height",ae=Z?"pageX":"pageY",r=this.items.length-1;r>=0;r--)!t.contains(this.containers[Q].element[0],this.items[r].item[0])||this.items[r].item[0]!==this.currentItem[0]&&(D=this.items[r].item.offset()[h],F=!1,e[ae]-D>this.items[r][v]/2&&(F=!0),Math.abs(e[ae]-D)<s&&(s=Math.abs(e[ae]-D),l=this.items[r],this.direction=F?"up":"down"));if(!l&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[Q]){this.currentContainer.containerCache.over||(this.containers[Q]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1);return}l?this._rearrange(e,l,null,!0):this._rearrange(e,null,this.containers[Q].element,!0),this._trigger("change",e,this._uiHash()),this.containers[Q]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[Q],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this.containers[Q]._trigger("over",e,this._uiHash(this)),this.containers[Q].containerCache.over=1}},_createHelper:function(e){var n=this.options,r=typeof n.helper=="function"?t(n.helper.apply(this.element[0],[e,this.currentItem])):n.helper==="clone"?this.currentItem.clone():this.currentItem;return r.parents("body").length||this.appendTo[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(e){typeof e=="string"&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,r,s=this.options;s.containment==="parent"&&(s.containment=this.helper[0].parentNode),(s.containment==="document"||s.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,s.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(s.containment==="document"?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(e=t(s.containment)[0],n=t(s.containment).offset(),r=t(e).css("overflow")!=="hidden",this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var r=e==="absolute"?1:-1,s=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():l?0:s.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())*r}},_generatePosition:function(e){var n,r,s=this.options,l=e.pageX,h=e.pageY,v=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,D=/(html|body)/i.test(v[0].tagName);return this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(l=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(h=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(l=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(h=this.containment[3]+this.offset.click.top)),s.grid&&(n=this.originalPageY+Math.round((h-this.originalPageY)/s.grid[1])*s.grid[1],h=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-s.grid[1]:n+s.grid[1]:n,r=this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0],l=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-s.grid[0]:r+s.grid[0]:r)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():D?0:v.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():D?0:v.scrollLeft())}},_rearrange:function(e,n,r,s){r?r[0].appendChild(this.placeholder[0]):n.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?n.item[0]:n.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var l=this.counter;this._delay(function(){l===this.counter&&this.refreshPositions(!s)})},_clear:function(e,n){this.reverting=!1;var r,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)(this._storedCSS[r]==="auto"||this._storedCSS[r]==="static")&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!n&&s.push(function(h){this._trigger("receive",h,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!n&&s.push(function(h){this._trigger("update",h,this._uiHash())}),this!==this.currentContainer&&(n||(s.push(function(h){this._trigger("remove",h,this._uiHash())}),s.push(function(h){return function(v){h._trigger("receive",v,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(h){return function(v){h._trigger("update",v,this._uiHash(this))}}.call(this,this.currentContainer))));function l(h,v,D){return function(F){D._trigger(h,F,v._uiHash(v))}}for(r=this.containers.length-1;r>=0;r--)n||s.push(l("deactivate",this,this.containers[r])),this.containers[r].containerCache.over&&(s.push(l("out",this,this.containers[r])),this.containers[r].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,n||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!n){for(r=0;r<s.length;r++)s[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}});/*!
 * jQuery UI Spinner 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */function ye(e){return function(){var n=this.element.val();e.apply(this,arguments),this._refresh(),n!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.13.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this.value()!==""&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),n=this.element;return t.each(["min","max","step"],function(r,s){var l=n.attr(s);l!=null&&l.length&&(e[s]=l)}),e},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e)},mousewheel:function(e,n){var r=t.ui.safeActiveElement(this.document[0]),s=this.element[0]===r;if(!(!s||!n)){if(!this.spinning&&!this._start(e))return!1;this._spin((n>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){var n;n=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();function r(){var s=this.element[0]===t.ui.safeActiveElement(this.document[0]);s||(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n}))}e.preventDefault(),r.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,r.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(!!t(e.currentTarget).hasClass("ui-state-active")){if(this._start(e)===!1)return!1;this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)}},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(this.uiSpinner.height()*.5)&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,r=t.ui.keyCode;switch(e.keyCode){case r.UP:return this._repeat(null,1,e),!0;case r.DOWN:return this._repeat(null,-1,e),!0;case r.PAGE_UP:return this._repeat(null,n.page,e),!0;case r.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_start:function(e){return!this.spinning&&this._trigger("start",e)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,n,r){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,n,r)},e),this._spin(n*this.options.step,r)},_spin:function(e,n){var r=this.value()||0;this.counter||(this.counter=1),r=this._adjustValue(r+e*this._increment(this.counter)),(!this.spinning||this._trigger("spin",n,{value:r})!==!1)&&(this._value(r),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?typeof n=="function"?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return this.options.min!==null&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var n=e.toString(),r=n.indexOf(".");return r===-1?0:n.length-r-1},_adjustValue:function(e){var n,r,s=this.options;return n=s.min!==null?s.min:0,r=e-n,r=Math.round(r/s.step)*s.step,e=n+r,e=parseFloat(e.toFixed(this._precision())),s.max!==null&&e>s.max?s.max:s.min!==null&&e<s.min?s.min:e},_stop:function(e){!this.spinning||(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,n){var r,s,l;if(e==="culture"||e==="numberFormat"){r=this._parse(this.element.val()),this.options[e]=n,this.element.val(this._format(r));return}(e==="max"||e==="min"||e==="step")&&typeof n=="string"&&(n=this._parse(n)),e==="icons"&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,n.up),l=this.buttons.last().find(".ui-icon"),this._removeClass(l,null,this.options.icons.down),this._addClass(l,null,n.down)),this._super(e,n)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:ye(function(e){this._super(e)}),_parse:function(e){return typeof e=="string"&&e!==""&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),e===""||isNaN(e)?null:e},_format:function(e){return e===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return e===null?!1:e===this._adjustValue(e)},_value:function(e,n){var r;e!==""&&(r=this._parse(e),r!==null&&(n||(r=this._adjustValue(r)),e=this._format(r))),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:ye(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:ye(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:ye(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:ye(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());ye(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner;/*!
 * jQuery UI Tabs 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.tabs",{version:"1.13.2",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(n){var r,s;r=n.href.replace(e,""),s=location.href.replace(e,"");try{r=decodeURIComponent(r)}catch{}try{s=decodeURIComponent(s)}catch{}return n.hash.length>1&&r===s}}(),_create:function(){var e=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),Array.isArray(n.disabled)&&(n.disabled=t.uniqueSort(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(r){return e.tabs.index(r)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(n.active):this.active=t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,r=location.hash.substring(1);return e===null&&(r&&this.tabs.each(function(s,l){if(t(l).attr("aria-controls")===r)return e=s,!1}),e===null&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(e===null||e===-1)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),e===-1&&(e=n?!1:0)),!n&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),r=this.tabs.index(n),s=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:r++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:s=!1,r--;break;case t.ui.keyCode.END:r=this.anchors.length-1;break;case t.ui.keyCode.HOME:r=0;break;case t.ui.keyCode.SPACE:e.preventDefault(),clearTimeout(this.activating),this._activate(r);return;case t.ui.keyCode.ENTER:e.preventDefault(),clearTimeout(this.activating),this._activate(r===this.options.active?!1:r);return;default:return}e.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,s),!e.ctrlKey&&!e.metaKey&&(n.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){if(e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(e,n){var r=this.tabs.length-1;function s(){return e>r&&(e=0),e<0&&(e=r),e}for(;t.inArray(s(),this.options.disabled)!==-1;)e=n?e+1:e-1;return e},_focusNextTab:function(e,n){return e=this._findNextTab(e,n),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,n){if(e==="active"){this._activate(n);return}this._super(e,n),e==="collapsible"&&(this._toggleClass("ui-tabs-collapsible",null,n),!n&&this.options.active===!1&&this._activate(0)),e==="event"&&this._setupEvents(n),e==="heightStyle"&&this._setupHeightStyle(n)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(r){return n.index(r)}),this._processTabs(),e.active===!1||!this.anchors.length?(e.active=!1,this.active=t()):this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,r=this.anchors,s=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(l){t(this).is(".ui-state-disabled")&&l.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(l,h){var v,D,F,Z=t(h).uniqueId().attr("id"),ae=t(h).closest("li"),ge=ae.attr("aria-controls");e._isLocal(h)?(v=h.hash,F=v.substring(1),D=e.element.find(e._sanitizeSelector(v))):(F=ae.attr("aria-controls")||t({}).uniqueId()[0].id,v="#"+F,D=e.element.find(v),D.length||(D=e._createPanel(F),D.insertAfter(e.panels[l-1]||e.tablist)),D.attr("aria-live","polite")),D.length&&(e.panels=e.panels.add(D)),ge&&ae.data("ui-tabs-aria-controls",ge),ae.attr({"aria-controls":F,"aria-labelledby":Z}),D.attr("aria-labelledby",Z)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(r.not(this.anchors)),this._off(s.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var n,r,s;for(Array.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),s=0;r=this.tabs[s];s++)n=t(r),e===!0||t.inArray(s,e)!==-1?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(r,s){n[s]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(r){r.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,r=this.element.parent();e==="fill"?(n=r.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var s=t(this),l=s.css("position");l==="absolute"||l==="fixed"||(n-=s.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):e==="auto"&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,r=this.active,s=t(e.currentTarget),l=s.closest("li"),h=l[0]===r[0],v=h&&n.collapsible,D=v?t():this._getPanelForTab(l),F=r.length?this._getPanelForTab(r):t(),Z={oldTab:r,oldPanel:F,newTab:v?t():l,newPanel:D};e.preventDefault(),!(l.hasClass("ui-state-disabled")||l.hasClass("ui-tabs-loading")||this.running||h&&!n.collapsible||this._trigger("beforeActivate",e,Z)===!1)&&(n.active=v?!1:this.tabs.index(l),this.active=h?t():l,this.xhr&&this.xhr.abort(),!F.length&&!D.length&&t.error("jQuery UI Tabs: Mismatching fragment identifier."),D.length&&this.load(this.tabs.index(l),e),this._toggle(e,Z))},_toggle:function(e,n){var r=this,s=n.newPanel,l=n.oldPanel;this.running=!0;function h(){r.running=!1,r._trigger("activate",e,n)}function v(){r._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&r.options.show?r._show(s,r.options.show,h):(s.show(),h())}l.length&&this.options.hide?this._hide(l,this.options.hide,function(){r._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),v()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),l.hide(),v()),l.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&l.length?n.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return t(this).attr("tabIndex")===0}).attr("tabIndex",-1),s.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,r=this._findActive(e);r[0]!==this.active[0]&&(r.length||(r=this.active),n=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return typeof e=="string"&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;n!==!1&&(e===void 0?n=!1:(e=this._getIndex(e),Array.isArray(n)?n=t.map(n,function(r){return r!==e?r:null}):n=t.map(this.tabs,function(r,s){return s!==e?s:null})),this._setOptionDisabled(n))},disable:function(e){var n=this.options.disabled;if(n!==!0){if(e===void 0)n=!0;else{if(e=this._getIndex(e),t.inArray(e,n)!==-1)return;Array.isArray(n)?n=t.merge([e],n).sort():n=[e]}this._setOptionDisabled(n)}},load:function(e,n){e=this._getIndex(e);var r=this,s=this.tabs.eq(e),l=s.find(".ui-tabs-anchor"),h=this._getPanelForTab(s),v={tab:s,panel:h},D=function(F,Z){Z==="abort"&&r.panels.stop(!1,!0),r._removeClass(s,"ui-tabs-loading"),h.removeAttr("aria-busy"),F===r.xhr&&delete r.xhr};this._isLocal(l[0])||(this.xhr=t.ajax(this._ajaxSettings(l,n,v)),this.xhr&&this.xhr.statusText!=="canceled"&&(this._addClass(s,"ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.done(function(F,Z,ae){setTimeout(function(){h.html(F),r._trigger("load",n,v),D(ae,Z)},1)}).fail(function(F,Z){setTimeout(function(){D(F,Z)},1)})))},_ajaxSettings:function(e,n,r){var s=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(l,h){return s._trigger("beforeLoad",n,t.extend({jqXHR:l,ajaxSettings:h},r))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs;/*!
 * jQuery UI Tooltip 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.widget("ui.tooltip",{version:"1.13.2",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title");return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var r=(e.attr("aria-describedby")||"").split(/\s+/);r.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",String.prototype.trim.call(r.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),r=(e.attr("aria-describedby")||"").split(/\s+/),s=t.inArray(n,r);s!==-1&&r.splice(s,1),e.removeData("ui-tooltip-id"),r=String.prototype.trim.call(r.join(" ")),r?e.attr("aria-describedby",r):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var r=this;this._super(e,n),e==="content"&&t.each(this.tooltips,function(s,l){r._updateContent(l.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(n,r){var s=t.Event("blur");s.target=s.currentTarget=r.element[0],e.close(s,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var n=t(this);if(n.is("[title]"))return n.data("ui-tooltip-title",n.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var n=this,r=t(e?e.target:this.element).closest(this.options.items);!r.length||r.data("ui-tooltip-id")||(r.attr("title")&&r.data("ui-tooltip-title",r.attr("title")),r.data("ui-tooltip-open",!0),e&&e.type==="mouseover"&&r.parents().each(function(){var s=t(this),l;s.data("ui-tooltip-open")&&(l=t.Event("blur"),l.target=l.currentTarget=this,n.close(l,!0)),s.attr("title")&&(s.uniqueId(),n.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(e,r),this._updateContent(r,e))},_updateContent:function(e,n){var r,s=this.options.content,l=this,h=n?n.type:null;if(typeof s=="string"||s.nodeType||s.jquery)return this._open(n,e,s);r=s.call(e[0],function(v){l._delay(function(){!e.data("ui-tooltip-open")||(n&&(n.type=h),this._open(n,e,v))})}),r&&this._open(n,e,r)},_open:function(e,n,r){var s,l,h,v,D=t.extend({},this.options.position);if(!r)return;if(s=this._find(n),s){s.tooltip.find(".ui-tooltip-content").html(r);return}n.is("[title]")&&(e&&e.type==="mouseover"?n.attr("title",""):n.removeAttr("title")),s=this._tooltip(n),l=s.tooltip,this._addDescribedBy(n,l.attr("id")),l.find(".ui-tooltip-content").html(r),this.liveRegion.children().hide(),v=t("<div>").html(l.find(".ui-tooltip-content").html()),v.removeAttr("name").find("[name]").removeAttr("name"),v.removeAttr("id").find("[id]").removeAttr("id"),v.appendTo(this.liveRegion);function F(Z){D.of=Z,!l.is(":hidden")&&l.position(D)}this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:F}),F(e)):l.position(t.extend({of:n},this.options.position)),l.hide(),this._show(l,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){l.is(":visible")&&(F(D.of),clearInterval(h))},13)),this._trigger("open",e,{tooltip:l})},_registerCloseHandlers:function(e,n){var r={keyup:function(s){if(s.keyCode===t.ui.keyCode.ESCAPE){var l=t.Event(s);l.currentTarget=n[0],this.close(l,!0)}}};n[0]!==this.element[0]&&(r.remove=function(){var s=this._find(n);s&&this._removeTooltip(s.tooltip)}),(!e||e.type==="mouseover")&&(r.mouseleave="close"),(!e||e.type==="focusin")&&(r.focusout="close"),this._on(!0,n,r)},close:function(e){var n,r=this,s=t(e?e.currentTarget:this.element),l=this._find(s);if(!l){s.removeData("ui-tooltip-open");return}n=l.tooltip,!l.closing&&(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&!s.attr("title")&&s.attr("title",s.data("ui-tooltip-title")),this._removeDescribedBy(s),l.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){r._removeTooltip(t(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),e&&e.type==="mouseleave"&&t.each(this.parents,function(h,v){t(v.element).attr("title",v.title),delete r.parents[h]}),l.closing=!0,this._trigger("close",e,{tooltip:n}),l.hiding||(l.closing=!1))},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),r=t("<div>").appendTo(n),s=n.uniqueId().attr("id");return this._addClass(r,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[s]={element:e,tooltip:n}},_find:function(e){var n=e.data("ui-tooltip-id");return n?this.tooltips[n]:null},_removeTooltip:function(e){clearInterval(this.delayedShow),e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var n=e.closest(".ui-front, dialog");return n.length||(n=this.document[0].body),n},_destroy:function(){var e=this;t.each(this.tooltips,function(n,r){var s=t.Event("blur"),l=r.element;s.target=s.currentTarget=l[0],e.close(s,!0),t("#"+n).remove(),l.data("ui-tooltip-title")&&(l.attr("title")||l.attr("title",l.data("ui-tooltip-title")),l.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}}),t.ui.tooltip});var leaflet_polylineoffset={exports:{}};(function(t,B){(function(O,p){t.exports=O(leafletSrc.exports),typeof p<"u"&&p.L&&(p.L.PolylineOffset=O(L))})(function(O){function p(x,M){if(!(!x||x.length<1))for(var S=1,A=x.length;S<A;S++)M(x[S-1],x[S])}function z(x,M){if(x.x===M.x)return x.y===M.y?null:{x:x.x};var S=(M.y-x.y)/(M.x-x.x);return{a:S,b:x.y-S*x.x}}function a(x,M,S,A){var T=z(x,M),R=z(S,A);if(T===null||R===null)return null;if(T.hasOwnProperty("x"))return R.hasOwnProperty("x")?null:{x:T.x,y:R.a*T.x+R.b};if(R.hasOwnProperty("x"))return{x:R.x,y:T.a*R.x+T.b};if(T.a===R.a)return null;var E=(R.b-T.b)/(T.a-R.a);return{x:E,y:T.a*E+T.b}}function H(x,M,S){return{x:x.x+M*Math.cos(S),y:x.y+M*Math.sin(S)}}var b={offsetPointLine:function(x,M){var S=[];return p(x,O.bind(function(A,T){if(!(A.x===T.x&&A.y===T.y)){var R=Math.atan2(A.y-T.y,A.x-T.x),E=R-Math.PI/2;S.push({offsetAngle:E,original:[A,T],offset:[H(A,M,E),H(T,M,E)]})}},this)),S},offsetPoints:function(x,M){var S=this.offsetPointLine(x,M);return this.joinLineSegments(S,M)},joinSegments:function(x,M,S){return this.circularArc(x,M,S).filter(function(A){return A})},joinLineSegments:function(x,M){var S=[],A=x[0],T=x[x.length-1];return A&&T&&(S.push(A.offset[0]),p(x,O.bind(function(R,E){S=S.concat(this.joinSegments(R,E,M))},this)),S.push(T.offset[1])),S},segmentAsVector:function(x){return{x:x[1].x-x[0].x,y:x[1].y-x[0].y}},getSignedAngle:function(x,M){const S=this.segmentAsVector(x),A=this.segmentAsVector(M);return Math.atan2(S.x*A.y-S.y*A.x,S.x*A.x+S.y*A.y)},circularArc:function(x,M,S){if(x.offsetAngle===M.offsetAngle)return[x.offset[1]];const A=this.getSignedAngle(x.offset,M.offset);if(A*S>0&&A*this.getSignedAngle(x.offset,[x.offset[0],M.offset[1]])>0)return[a(x.offset[0],x.offset[1],M.offset[0],M.offset[1])];var T=[],R=x.original[1],E=S>0,u=E?M.offsetAngle:x.offsetAngle,k=E?x.offsetAngle:M.offsetAngle;k<u&&(k+=Math.PI*2);for(var d=Math.PI/8,c=u;c<k;c+=d)T.push(H(R,S,c));return T.push(H(R,S,k)),E?T.reverse():T}};return O.Polyline.include({_projectLatlngs:function(x,M,S){var A=x.length>0&&x[0]instanceof O.LatLng;if(A){var T=x.map(O.bind(function(R){var E=this._map.latLngToLayerPoint(R);return S&&S.extend(E),E},this));this.options.offset&&(T=O.PolylineOffset.offsetPoints(T,this.options.offset)),M.push(T.map(function(R){return O.point(R.x,R.y)}))}else x.forEach(O.bind(function(R){this._projectLatlngs(R,M,S)},this))}}),O.Polyline.include({setOffset:function(x){return this.options.offset=x,this.redraw(),this}}),b},window)})(leaflet_polylineoffset);L.LatLngBounds.prototype.modify=function(t,B){var O=this.getSouthWest(),p=this.getNorthEast(),z=t.latLngToLayerPoint(O),a=t.latLngToLayerPoint(p);return O=t.layerPointToLatLng(new L.Point(z.x-B,z.y+B)),p=t.layerPointToLatLng(new L.Point(a.x+B,a.y-B)),new L.LatLngBounds(O,p)};L.Control.Button=L.Class.extend({initialize:function(t){L.Util.setOptions(this,t)},addTo:function(t){return t.addButton(this),this},onAdd:function(t){this._buttonContainer=t,this._button=L.DomUtil.create("a",this.options.className,this._buttonContainer.getContainer()),this._button.href="#",this.setText(this.options.text);var B=this;this._onClick=function(O){B.options.onClick.call(B,O)},L.DomEvent.on(this._button,"click",L.DomEvent.stopPropagation).on(this._button,"mousedown",L.DomEvent.stopPropagation).on(this._button,"dblclick",L.DomEvent.stopPropagation).on(this._button,"click",L.DomEvent.preventDefault).on(this._button,"click",this._onClick,this)},remove:function(){L.DomEvent.off(this._button,"click",this._onClick),this._buttonContainer.getContainer().removeChild(this._button)},setText:function(t){this._button.title=t,this._button.innerHTML=t}});L.Control.ButtonContainer=L.Control.extend({options:{position:"topleft"},getContainer:function(){return this._container||(this._container=L.DomUtil.create("div",this.options.className)),this._container},onAdd:function(t){return this._map=t,this.getContainer()},addButton:function(t){t.onAdd(this)},addClass:function(t){L.DomUtil.addClass(this.getContainer(),t)},removeClass:function(t){L.DomUtil.removeClass(this.getContainer(),t)}});L.LocationFilter=L.Class.extend({includes:L.Mixin.Events,options:{enableButton:{enableText:"Select area",disableText:"Remove selection"},adjustButton:{text:"Select area within current zoom"},buttonPosition:"topleft"},initialize:function(t){L.Util.setOptions(this,t)},addTo:function(t){return t.addLayer(this),this},onAdd:function(t){this._map=t,(this.options.enableButton||this.options.adjustButton)&&this._initializeButtonContainer(),this.options.enable&&this.enable()},onRemove:function(t){this.disable(),this._buttonContainer&&this._buttonContainer.removeFrom(t)},getBounds:function(){return new L.LatLngBounds(this._sw,this._ne)},setBounds:function(t){this._nw=t.getNorthWest(),this._ne=t.getNorthEast(),this._sw=t.getSouthWest(),this._se=t.getSouthEast(),this.isEnabled()&&(this._draw(),this.fire("change",{bounds:t}))},isEnabled:function(){return this._enabled},_drawRectangle:function(t,B){B=B||{};var O={stroke:!1,fill:!0,fillColor:"black",fillOpacity:.3,clickable:!1};B=L.Util.extend(O,B);var p=new L.Rectangle(t,B);return p.addTo(this._layer),p},_drawImageMarker:function(t,B){var O=new L.Marker(t,{icon:new L.DivIcon({iconAnchor:B.anchor,iconSize:B.size,className:B.className}),draggable:!0});return O.addTo(this._layer),O},_drawMoveMarker:function(t){var B=this;return this._moveMarker=this._drawImageMarker(t,{className:"location-filter move-marker",anchor:[-10,-10],size:[13,13]}),this._moveMarker.on("drag",function(O){var p=B._moveMarker.getLatLng(),z=p.lat-B._nw.lat,a=p.lng-B._nw.lng;B._nw=new L.LatLng(B._nw.lat+z,B._nw.lng+a,!0),B._ne=new L.LatLng(B._ne.lat+z,B._ne.lng+a,!0),B._sw=new L.LatLng(B._sw.lat+z,B._sw.lng+a,!0),B._se=new L.LatLng(B._se.lat+z,B._se.lng+a,!0),B._draw()}),this._setupDragendListener(this._moveMarker),this._moveMarker},_drawResizeMarker:function(t,B,O,p){return this._drawImageMarker(t,{className:"location-filter resize-marker",anchor:[7,6],size:[13,12]})},_setupResizeMarkerTracking:function(t,B){var O=this;t.on("drag",function(p){var z=t.getLatLng(),a=B.moveAlong.lat,H=B.moveAlong.lng;a.setLatLng(new L.LatLng(z.lat,a.getLatLng().lng,!0)),H.setLatLng(new L.LatLng(H.getLatLng().lat,z.lng,!0));var b=[O._nwMarker.getLatLng(),O._neMarker.getLatLng(),O._swMarker.getLatLng(),O._seMarker.getLatLng()];b.sort(function(x,M){return x.lat!=M.lat?M.lat-x.lat:x.lng-M.lng}),O._nw=b[0],O._ne=b[1],O._sw=b[2],O._se=b[3],O._draw({repositionResizeMarkers:!1})}),this._setupDragendListener(t)},_setupDragendListener:function(t){var B=this;t.on("dragend",function(O){B.fire("change",{bounds:B.getBounds()})})},_calculateBounds:function(){var t=this._map.getBounds(),B=new L.LatLngBounds(new L.LatLng(t.getSouthWest().lat-.1,t.getSouthWest().lng-.1,!0),new L.LatLng(t.getNorthEast().lat+.1,t.getNorthEast().lng+.1,!0));this._osw=B.getSouthWest(),this._one=B.getNorthEast(),this._northBounds=new L.LatLngBounds(new L.LatLng(this._ne.lat,this._osw.lng,!0),this._one),this._westBounds=new L.LatLngBounds(new L.LatLng(this._sw.lat,this._osw.lng,!0),this._nw),this._eastBounds=new L.LatLngBounds(this._se,new L.LatLng(this._ne.lat,this._one.lng,!0)),this._southBounds=new L.LatLngBounds(this._osw,new L.LatLng(this._sw.lat,this._one.lng,!0))},_initialDraw:function(){this._initialDrawCalled||(this._layer=new L.LayerGroup,this._calculateBounds(),this._northRect=this._drawRectangle(this._northBounds),this._westRect=this._drawRectangle(this._westBounds),this._eastRect=this._drawRectangle(this._eastBounds),this._southRect=this._drawRectangle(this._southBounds),this._innerRect=this._drawRectangle(this.getBounds(),{fillOpacity:0,stroke:!0,color:"white",weight:1,opacity:.9}),this._nwMarker=this._drawResizeMarker(this._nw),this._neMarker=this._drawResizeMarker(this._ne),this._swMarker=this._drawResizeMarker(this._sw),this._seMarker=this._drawResizeMarker(this._se),this._setupResizeMarkerTracking(this._nwMarker,{moveAlong:{lat:this._neMarker,lng:this._swMarker}}),this._setupResizeMarkerTracking(this._neMarker,{moveAlong:{lat:this._nwMarker,lng:this._seMarker}}),this._setupResizeMarkerTracking(this._swMarker,{moveAlong:{lat:this._seMarker,lng:this._nwMarker}}),this._setupResizeMarkerTracking(this._seMarker,{moveAlong:{lat:this._swMarker,lng:this._neMarker}}),this._moveMarker=this._drawMoveMarker(this._nw),this._initialDrawCalled=!0)},_draw:function(t){t=L.Util.extend({repositionResizeMarkers:!0},t),this._calculateBounds(),this._northRect.setBounds(this._northBounds),this._westRect.setBounds(this._westBounds),this._eastRect.setBounds(this._eastBounds),this._southRect.setBounds(this._southBounds),this._innerRect.setBounds(this.getBounds()),t.repositionResizeMarkers&&(this._nwMarker.setLatLng(this._nw),this._neMarker.setLatLng(this._ne),this._swMarker.setLatLng(this._sw),this._seMarker.setLatLng(this._se)),this._moveMarker.setLatLng(this._nw)},_adjustToMap:function(){this.setBounds(this._map.getBounds()),this._map.zoomOut()},enable:function(){if(!this._enabled){var t;this._sw&&this._ne?t=new L.LatLngBounds(this._sw,this._ne):this.options.bounds?t=this.options.bounds:t=this._map.getBounds(),this._map.invalidateSize(),this._nw=t.getNorthWest(),this._ne=t.getNorthEast(),this._sw=t.getSouthWest(),this._se=t.getSouthEast(),this._buttonContainer&&this._buttonContainer.addClass("enabled"),this._enableButton&&this._enableButton.setText(this.options.enableButton.disableText),this.options.adjustButton&&this._createAdjustButton(),this._initialDraw(),this._draw();var B=this;this._moveHandler=function(){B._draw()},this._map.on("move",this._moveHandler),this._layer.addTo(this._map);var O=this._map.getBounds();t=new L.LatLngBounds(this._sw,this._ne).modify(this._map,10),(!O.contains(t.getSouthWest())||!O.contains(t.getNorthEast()))&&this._map.fitBounds(t),this._enabled=!0,this.fire("enabled")}},disable:function(){!this._enabled||(this._buttonContainer&&this._buttonContainer.removeClass("enabled"),this._enableButton&&this._enableButton.setText(this.options.enableButton.enableText),this._adjustButton&&this._adjustButton.remove(),this._map.off("move",this._moveHandler),this._map.removeLayer(this._layer),this._enabled=!1,this.fire("disabled"))},_createAdjustButton:function(){var t=this;this._adjustButton=new L.Control.Button({className:"adjust-button",text:this.options.adjustButton.text,onClick:function(B){t._adjustToMap(),t.fire("adjustToZoomClick")}}).addTo(this._buttonContainer)},_initializeButtonContainer:function(){var t=this;this._buttonContainer=new L.Control.ButtonContainer({className:"location-filter button-container",position:this.options.buttonPosition}),this.options.enableButton&&(this._enableButton=new L.Control.Button({className:"enable-button",text:this.options.enableButton.enableText,onClick:function(B){t._enabled?(t.disable(),t.fire("disableClick")):(t.enable(),t.fire("enableClick"))}}).addTo(this._buttonContainer)),this._buttonContainer.addTo(this._map)}});window.CodeMirror=function(){function t(I,se){var te={},we=t.defaults;for(var De in we)we.hasOwnProperty(De)&&(te[De]=(se&&se.hasOwnProperty(De)?se:we)[De]);var xe=it("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em");xe.setAttribute("wrap","off"),xe.setAttribute("autocorrect","off"),xe.setAttribute("autocapitalize","off");var Fe=it("div",[xe],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),Ke=it("div",null,"CodeMirror-scrollbar-inner"),Ye=it("div",[Ke],"CodeMirror-scrollbar"),Ze=it("div"),mt=it("div",null,null,"position: relative; z-index: -1"),ft=it("pre","\xA0","CodeMirror-cursor"),ri=it("pre","\xA0","CodeMirror-cursor","visibility: hidden"),Rt=it("div",null,null,"position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden;"),ht=it("div",[Rt,ft,ri,mt,Ze],null,"position: relative; z-index: 0"),gi=it("div",null,"CodeMirror-gutter-text"),St=it("div",[gi],"CodeMirror-gutter"),mi=it("div",[St,it("div",[ht],"CodeMirror-lines")],null,"position: relative"),qt=it("div",[mi],null,"position: relative"),qe=it("div",[qt],"CodeMirror-scroll");qe.setAttribute("tabIndex","-1");var Ft=it("div",[Fe,Ye,qe],"CodeMirror"+(te.lineWrapping?" CodeMirror-wrap":""));I.appendChild?I.appendChild(Ft):I(Ft),Yn(),Kn(),B&&(xe.style.width="0px"),c||(qe.draggable=!0),ht.style.outline="none",te.tabindex!=null&&(xe.tabIndex=te.tabindex),te.autofocus&&ai(),!te.gutter&&!te.lineNumbers&&(St.style.display="none"),K&&(Fe.style.height="1px",Fe.style.position="absolute"),J?(Ye.style.zIndex=-2,Ye.style.visibility="hidden"):u&&(Ye.style.minWidth="18px");var Jt=new be,ui=new be,vi,kt,Ue=new D([new v([new h("")])]),Xt=0,Pt;Gn();var Me={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},Ot,ti,Ut,vt=0,dt,Bt=!1,Dt=!1,wt=!1,Wt,si,Qt,ii,hi,ni,Di,Ti=0,It=0,Ht=0,Fi=0,fi,ci=at(0),Li=!1,Hi=!0,Pi=!1,ki=null;st(function(){Be(te.value||""),Wt=!1})();var Nt=new Q;he(qe,"mousedown",st(Tn)),he(qe,"dblclick",st(Pn)),he(ht,"selectstart",ce),R||he(qe,"contextmenu",$n),he(qe,"scroll",ji),he(Ye,"scroll",rt),he(Ye,"mousedown",function(){Pt&&setTimeout(ai,0)});var Dn=he(window,"resize",function(){Ft.parentNode?me(!0):Dn()},!0);he(xe,"keyup",st(ln)),he(xe,"input",Ai),he(xe,"keydown",st(bi)),he(xe,"keypress",st(Qi)),he(xe,"focus",Mi),he(xe,"blur",Ji);function Yi(w){te.onDragEvent&&te.onDragEvent(W,le(w))||Pe(w)}te.dragDrop&&(he(qe,"dragstart",sn),he(qe,"dragenter",Yi),he(qe,"dragover",Yi),he(qe,"drop",st(Ki))),he(qe,"paste",function(){ai(),Ai()}),he(xe,"paste",function(){wt=!0,Ai()}),he(xe,"cut",st(function(){te.readOnly||Bi("")})),K&&he(qt,"mouseup",function(){document.activeElement==xe&&xe.blur(),ai()});var rn;try{rn=document.activeElement==xe}catch{}rn||te.autofocus?setTimeout(Mi,20):Ji();function Ei(w){return w>=0&&w<Ue.size}var W=Ft.CodeMirror={getValue:Vi,setValue:st(Be),getSelection:qi,replaceSelection:st(Bi),focus:function(){window.focus(),ai(),Mi(),Ai()},setOption:function(w,Y){var ee=te[w];te[w]=Y,w=="mode"||w=="indentUnit"?Gn():w=="readOnly"&&Y=="nocursor"?(Ji(),xe.blur()):w=="readOnly"&&!Y?_i(!0):w=="theme"?Yn():w=="lineWrapping"&&ee!=Y?st(fr)():w=="tabSize"?me(!0):w=="keyMap"?Kn():w=="tabindex"?xe.tabIndex=Y:w=="showCursorWhenSelecting"&&Xe(),(w=="lineNumbers"||w=="gutter"||w=="firstLineNumber"||w=="theme"||w=="lineNumberFormatter")&&(hr(),me(!0))},getOption:function(w){return te[w]},getMode:function(){return kt},undo:st(Mn),redo:st(An),indentLine:st(function(w,Y){typeof Y!="string"&&(Y==null?Y=te.smartIndent?"smart":"prev":Y=Y?"add":"subtract"),Ei(w)&&vn(w,Y)}),indentSelection:st(ur),historySize:function(){return{undo:Nt.done.length,redo:Nt.undone.length}},clearHistory:function(){Nt=new Q},setHistory:function(w){Nt=new Q,Nt.done=w.done,Nt.undone=w.undone},getHistory:function(){function w(Y){for(var ee=0,pe=[],_e;ee<Y.length;++ee){pe.push(_e=[]);for(var Ee=0,Ne=Y[ee];Ee<Ne.length;++Ee){var We=[],Ve=Ne[Ee];_e.push({start:Ve.start,added:Ve.added,old:We});for(var Re=0;Re<Ve.old.length;++Re)We.push(ye(Ve.old[Re]))}}return pe}return{done:w(Nt.done),undone:w(Nt.undone)}},matchBrackets:st(function(){er(!0)}),getTokenAt:st(function(w){return w=_t(w),at(w.line).getTokenAt(kt,tn(w.line),te.tabSize,w.ch)}),getStateAfter:function(w){return w=mn(w==null?Ue.size-1:w),tn(w+1)},cursorCoords:function(w,Y){return w==null&&(w=Me.inverted),this.charCoords(w?Me.from:Me.to,Y)},charCoords:function(w,Y){return w=_t(w),Y=="local"?wi(w,!1):Y=="div"?wi(w,!0):yr(w)},coordsChar:function(w){var Y=Ae(ht);return bn(w.x-Y.left,w.y-Y.top)},defaultTextHeight:function(){return yi()},markText:st(Ln),setBookmark:cr,findMarksAt:dr,setMarker:st(pr),clearMarker:st(gr),setLineClass:st(mr),hideLine:st(function(w){return On(w,!0)}),showLine:st(function(w){return On(w,!1)}),onDeleteLine:function(w,Y){if(typeof w=="number"){if(!Ei(w))return null;w=at(w)}return(w.handlers||(w.handlers=[])).push(Y),w},lineInfo:vr,getViewport:function(){return{from:It,to:Ht}},addWidget:function(w,Y,ee,pe,_e){w=wi(_t(w));var Ee=w.yBot,Ne=w.x;if(Y.style.position="absolute",qt.appendChild(Y),pe=="over")Ee=w.y;else if(pe=="near"){var We=Math.max(qe.offsetHeight,Ue.height*yi()),Ve=Math.max(qt.clientWidth,ht.clientWidth)-Rn();w.yBot+Y.offsetHeight>We&&w.y>Y.offsetHeight&&(Ee=w.y-Y.offsetHeight),Ne+Y.offsetWidth>Ve&&(Ne=Ve-Y.offsetWidth)}Y.style.top=Ee+_n()+"px",Y.style.left=Y.style.right="",_e=="right"?(Ne=qt.clientWidth-Y.offsetWidth,Y.style.right="0px"):(_e=="left"?Ne=0:_e=="middle"&&(Ne=(qt.clientWidth-Y.offsetWidth)/2),Y.style.left=Ne+Rn()+"px"),ee&&$e(Ne,Ee,Ne+Y.offsetWidth,Ee+Y.offsetHeight)},lineCount:function(){return Ue.size},clipPos:_t,getCursor:function(w){return(w==null||w=="head")&&(w=Me.inverted),w=="anchor"&&(w=!Me.inverted),w=="end"&&(w=!1),Vt(w?Me.from:Me.to)},somethingSelected:function(){return!lt(Me.from,Me.to)},setCursor:st(function(w,Y,ee){Y==null&&typeof w.line=="number"?Ii(w.line,w.ch,ee):Ii(w,Y,ee)}),setSelection:st(function(w,Y,ee){(ee?pt:$i)(_t(w),_t(Y||w))}),getLine:function(w){if(Ei(w))return at(w).text},getLineHandle:function(w){if(Ei(w))return at(w)},setLine:st(function(w,Y){Ei(w)&&di(Y,{line:w,ch:0},{line:w,ch:at(w).text.length})}),removeLine:st(function(w){Ei(w)&&di("",{line:w,ch:0},_t({line:w+1,ch:0}))}),replaceRange:st(di),getRange:function(w,Y,ee){return zt(_t(w),_t(Y),ee)},triggerOnKeyDown:st(bi),execCommand:function(w){return x[w](W)},moveH:st(sr),deleteH:st(ar),moveV:st(or),toggleOverwrite:function(){Bt?(Bt=!1,ft.className=ft.className.replace(" CodeMirror-overwrite","")):(Bt=!0,ft.className+=" CodeMirror-overwrite")},posFromIndex:function(w){var Y=0,ee;return Ue.iter(0,Ue.size,function(pe){var _e=pe.text.length+1;if(_e>w)return ee=w,!0;w-=_e,++Y}),_t({line:Y,ch:ee})},indexFromPos:function(w){if(w.line<0||w.ch<0)return 0;var Y=w.ch;return Ue.iter(0,w.line,function(ee){Y+=ee.text.length+1}),Y},scrollTo:function(w,Y){w!=null&&(qe.scrollLeft=w),Y!=null&&(Ye.scrollTop=qe.scrollTop=Y),me([])},getScrollInfo:function(){return{x:qe.scrollLeft,y:Ye.scrollTop,height:Ye.scrollHeight,width:qe.scrollWidth}},scrollIntoView:function(w){var Y=wi(w?_t(w):Me.inverted?Me.from:Me.to);$e(Y.x,Y.y,Y.x,Y.yBot)},setSize:function(w,Y){function ee(pe){return pe=String(pe),/^\d+$/.test(pe)?pe+"px":pe}w!=null&&(Ft.style.width=ee(w)),Y!=null&&(qe.style.height=ee(Y)),W.refresh()},operation:function(w){return st(w)()},compoundChange:function(w){return nr(w)},refresh:function(){me(!0,null,vt),Ye.scrollHeight>vt&&(Ye.scrollTop=vt)},getInputField:function(){return xe},getWrapperElement:function(){return Ft},getScrollerElement:function(){return qe},getGutterElement:function(){return St}};function at(w){return F(Ue,w)}function Zt(w,Y){ni=!0;for(var ee=Y-w.height,pe=w;pe;pe=pe.parent)pe.height+=ee}function Wi(w,Y){return w.styles||w.highlight(kt,w.stateAfter=tn(Z(w)),te.tabSize),w.getContent(te.tabSize,Y,te.lineWrapping)}function Be(w){var Y={line:0,ch:0};un(Y,{line:Ue.size-1,ch:at(Ue.size-1).text.length},pi(w),Y,Y),Wt=!0}function Vi(w){var Y=[];return Ue.iter(0,Ue.size,function(ee){Y.push(ee.text)}),Y.join(w||`
`)}function rt(w){Math.abs(Ye.scrollTop-vt)>1&&(vt=qe.scrollTop=Ye.scrollTop,me([]))}function ji(w){te.fixedGutter&&St.style.left!=qe.scrollLeft+"px"&&(St.style.left=qe.scrollLeft+"px"),Math.abs(qe.scrollTop-vt)>1&&(vt=qe.scrollTop,Ye.scrollTop!=vt&&(Ye.scrollTop=vt),me([])),te.onScroll&&te.onScroll(W)}function Tn(w){jt(q(w,"shiftKey"));for(var Y=ze(w);Y!=Ft;Y=Y.parentNode)if(Y.parentNode==qt&&Y!=mi)return;for(var Y=ze(w);Y!=Ft;Y=Y.parentNode)if(Y.parentNode==gi)return te.onGutterClick&&te.onGutterClick(W,Yt(gi.childNodes,Y)+It,w),ce(w);var ee=en(w);switch(je(w)){case 3:R&&$n(w);return;case 2:ee&&Ii(ee.line,ee.ch,!0),setTimeout(ai,20),ce(w);return}if(!ee){ze(w)==qe&&ce(w);return}Pt||Mi();var pe=+new Date,_e="single";if(Ut&&Ut.time>pe-400&&lt(Ut.pos,ee))_e="triple",ce(w),setTimeout(ai,20),lr(ee.line);else if(ti&&ti.time>pe-400&&lt(ti.pos,ee)){_e="double",Ut={time:pe,pos:ee},ce(w);var Ee=Un(ee);pt(Ee.from,Ee.to)}else ti={time:pe,pos:ee};function Ne(ot){c&&(qe.draggable=!1),dt=!1,Et(),Re(),Math.abs(w.clientX-ot.clientX)+Math.abs(w.clientY-ot.clientY)<10&&(ce(ot),Ii(ee.line,ee.ch,!0),ai())}var We=ee,Ve;if(te.dragDrop&&Te&&!te.readOnly&&!lt(Me.from,Me.to)&&!Qe(ee,Me.from)&&!Qe(Me.to,ee)&&_e=="single"){c&&(qe.draggable=!0);var Et=he(document,"mouseup",st(Ne),!0),Re=he(qe,"drop",st(Ne),!0);dt=!0,qe.dragDrop&&qe.dragDrop();return}ce(w),_e=="single"&&Ii(ee.line,ee.ch,!0);var nt=Me.from,et=Me.to;function tt(ot){if(_e=="single"){pt(_t(ee),ot);return}if(nt=_t(nt),et=_t(et),_e=="double"){var Lt=Un(ot);Qe(ot,nt)?pt(Lt.from,et):pt(nt,Lt.to)}else _e=="triple"&&(Qe(ot,nt)?pt(et,_t({line:ot.line,ch:0})):pt(nt,_t({line:ot.line+1,ch:0})))}function yt(ot){var Lt=en(ot,!0);if(Lt&&!lt(Lt,We)){Pt||Mi(),We=Lt,tt(Lt),Wt=!1;var xt=X();(Lt.line>=xt.to||Lt.line<xt.from)&&(Ve=setTimeout(st(function(){yt(ot)}),150))}}function ut(ot){clearTimeout(Ve);var Lt=en(ot);Lt&&tt(Lt),ce(ot),ai(),Wt=!0,gt(),Et()}var gt=he(document,"mousemove",st(function(ot){clearTimeout(Ve),ce(ot),!E&&!je(ot)?ut(ot):yt(ot)}),!0),Et=he(document,"mouseup",st(ut),!0)}function Pn(w){for(var Y=ze(w);Y!=Ft;Y=Y.parentNode)if(Y.parentNode==gi)return ce(w);ce(w)}function Ki(w){if(!(te.onDragEvent&&te.onDragEvent(W,le(w)))){ce(w);var Y=en(w,!0),ee=w.dataTransfer.files;if(!(!Y||te.readOnly))if(ee&&ee.length&&window.FileReader&&window.File)for(var pe=ee.length,_e=Array(pe),Ee=0,Ne=function(Ve,Re){var nt=new FileReader;nt.onload=function(){_e[Re]=nt.result,++Ee==pe&&(Y=_t(Y),st(function(){var et=di(_e.join(""),Y,Y);pt(Y,et)})())},nt.readAsText(Ve)},We=0;We<pe;++We)Ne(ee[We],We);else{if(dt&&!(Qe(Y,Me.from)||Qe(Me.to,Y)))return;try{var _e=w.dataTransfer.getData("Text");_e&&nr(function(){var Re=Me.from,nt=Me.to;pt(Y,Y),dt&&di("",Re,nt),Bi(_e),ai()})}catch{}}}}function sn(w){var Y=qi();w.dataTransfer.setData("Text",Y),w.dataTransfer.setDragImage&&w.dataTransfer.setDragImage(it("img"),0,0)}function Oi(w,Y){if(typeof w=="string"&&(w=x[w],!w))return!1;var ee=Ot;try{te.readOnly&&(Dt=!0),Y&&(Ot=null),w(W)}catch(pe){if(pe!=Ce)throw pe;return!1}finally{Ot=ee,Dt=!1}return!0}var He;function an(w){var Y=S(te.keyMap),ee=Y.auto;clearTimeout(He),ee&&!T(w)&&(He=setTimeout(function(){S(te.keyMap)==Y&&(te.keyMap=ee.call?ee.call(null,W):ee)},50));var pe=At[q(w,"keyCode")],_e=!1;if(pe==null||w.altGraphKey)return!1;q(w,"altKey")&&(pe="Alt-"+pe),q(w,C?"metaKey":"ctrlKey")&&(pe="Ctrl-"+pe),q(w,C?"ctrlKey":"metaKey")&&(pe="Cmd-"+pe);var Ee=!1;function Ne(){Ee=!0}return q(w,"shiftKey")?_e=A("Shift-"+pe,te.extraKeys,te.keyMap,function(We){return Oi(We,!0)},Ne)||A(pe,te.extraKeys,te.keyMap,function(We){if(typeof We=="string"&&/^go[A-Z]/.test(We))return Oi(We)},Ne):_e=A(pe,te.extraKeys,te.keyMap,Oi,Ne),Ee&&(_e=!1),_e&&(ce(w),wn(),k&&(w.oldKeyCode=w.keyCode,w.keyCode=0)),_e}function on(w,Y){var ee=A("'"+Y+"'",te.extraKeys,te.keyMap,function(pe){return Oi(pe,!0)});return ee&&(ce(w),wn()),ee}var Xi=null;function bi(w){if(Pt||Mi(),E&&w.keyCode==27&&(w.returnValue=!1),Pi&&zi()&&(Pi=!1),!(te.onKeyEvent&&te.onKeyEvent(W,le(w)))){var Y=q(w,"keyCode");jt(Y==16||q(w,"shiftKey"));var ee=an(w);m&&(Xi=ee?Y:null,!ee&&Y==88&&q(w,O?"metaKey":"ctrlKey")&&Bi(""))}}function Qi(w){if(Pi&&zi(),!(te.onKeyEvent&&te.onKeyEvent(W,le(w)))){var Y=q(w,"keyCode"),ee=q(w,"charCode");if(m&&Y==Xi){Xi=null,ce(w);return}if(!((m&&(!w.which||w.which<10)||K)&&an(w))){var pe=String.fromCharCode(ee==null?Y:ee);te.electricChars&&kt.electricChars&&te.smartIndent&&!te.readOnly&&kt.electricChars.indexOf(pe)>-1&&setTimeout(st(function(){vn(Me.to.line,"smart")}),75),!on(w,pe)&&Ai()}}}function ln(w){te.onKeyEvent&&te.onKeyEvent(W,le(w))||q(w,"keyCode")==16&&(Ot=null)}function Mi(){te.readOnly!="nocursor"&&(Pt||(te.onFocus&&te.onFocus(W),Pt=!0,qe.className.search(/\bCodeMirror-focused\b/)==-1&&(qe.className+=" CodeMirror-focused")),Ni(),wn())}function Ji(){Pt&&(te.onBlur&&te.onBlur(W),Pt=!1,fi&&st(function(){fi&&(fi(),fi=null)})(),qe.className=qe.className.replace(" CodeMirror-focused","")),clearInterval(vi),setTimeout(function(){Pt||(Ot=null)},150)}function un(w,Y,ee,pe,_e){if(!Dt){var Ee=[];if(Ue.iter(w.line,Y.line+1,function(We){Ee.push(n(We.text,We.markedSpans))}),Nt)for(Nt.addChange(w.line,ee.length,Ee);Nt.done.length>te.undoDepth;)Nt.done.shift();var Ne=fe(e(Ee[0]),e(ct(Ee)),w.ch,Y.ch,ee);fn(w,Y,Ne,pe,_e)}}function hn(w,Y){if(!!w.length){for(var ee=w.pop(),pe=[],_e=ee.length-1;_e>=0;_e-=1){var Ee=ee[_e],Ne=[],We=Ee.start+Ee.added;Ue.iter(Ee.start,We,function(Re){Ne.push(n(Re.text,Re.markedSpans))}),pe.push({start:Ee.start,added:Ee.old.length,old:Ne});var Ve={line:Ee.start+Ee.old.length-1,ch:li(ye(ct(Ne)),ye(ct(Ee.old)))};fn({line:Ee.start,ch:0},{line:We-1,ch:at(We-1).text.length},Ee.old,Ve,Ve)}Wt=!0,Y.push(pe)}}function Mn(){hn(Nt.done,Nt.undone)}function An(){hn(Nt.undone,Nt.done)}function fn(w,Y,ee,pe,_e){if(Dt)return;var Ee=!1,Ne=ci.text.length;te.lineWrapping||Ue.iter(w.line,Y.line+1,function(xt){if(!xt.hidden&&xt.text.length==Ne)return Ee=!0,!0}),(w.line!=Y.line||ee.length>1)&&(ni=!0);var We=Y.line-w.line,Ve=at(w.line),Re=at(Y.line),nt=ct(ee);if(w.ch==0&&Y.ch==0&&ye(nt)==""){for(var et=[],tt=0,yt=ee.length-1;tt<yt;++tt)et.push(new h(ye(ee[tt]),e(ee[tt])));Re.update(Re.text,e(nt)),We&&Ue.remove(w.line,We,Di),et.length&&Ue.insert(w.line,et)}else if(Ve==Re)if(ee.length==1)Ve.update(Ve.text.slice(0,w.ch)+ye(ee[0])+Ve.text.slice(Y.ch),e(ee[0]));else{for(var et=[],tt=1,yt=ee.length-1;tt<yt;++tt)et.push(new h(ye(ee[tt]),e(ee[tt])));et.push(new h(ye(nt)+Ve.text.slice(Y.ch),e(nt))),Ve.update(Ve.text.slice(0,w.ch)+ye(ee[0]),e(ee[0])),Ue.insert(w.line+1,et)}else if(ee.length==1)Ve.update(Ve.text.slice(0,w.ch)+ye(ee[0])+Re.text.slice(Y.ch),e(ee[0])),Ue.remove(w.line+1,We,Di);else{var et=[];Ve.update(Ve.text.slice(0,w.ch)+ye(ee[0]),e(ee[0])),Re.update(ye(nt)+Re.text.slice(Y.ch),e(nt));for(var tt=1,yt=ee.length-1;tt<yt;++tt)et.push(new h(ye(ee[tt]),e(ee[tt])));We>1&&Ue.remove(w.line+1,We-1,Di),Ue.insert(w.line+1,et)}if(te.lineWrapping){var ut=Math.max(5,qe.clientWidth/zn()-3);Ue.iter(w.line,w.line+ee.length,function(xt){if(!xt.hidden){var oi=Math.ceil(xt.text.length/ut)||1;oi!=xt.height&&Zt(xt,oi)}})}else Ue.iter(w.line,w.line+ee.length,function(xt){var oi=xt.text;!xt.hidden&&oi.length>Ne&&(ci=xt,Ne=oi.length,Hi=!0,Ee=!1)}),Ee&&(Li=!0);Xt=Math.min(Xt,w.line),xn(400);var gt=ee.length-We-1;if(Qt.push({from:w.line,to:Y.line+1,diff:gt}),te.onChange){for(var tt=0;tt<ee.length;++tt)typeof ee[tt]!="string"&&(ee[tt]=ee[tt].text);var Et={from:w,to:Y,text:ee};if(ii){for(var ot=ii;ot.next;ot=ot.next);ot.next=Et}else ii=Et}function Lt(xt){return xt<=Math.min(Y.line,Y.line+gt)?xt:xt+gt}$i(_t(pe),_t(_e),Lt(Me.from.line),Lt(Me.to.line))}function cn(){var w=Ue.height*yi()+2*_n();return w*.99>qe.offsetHeight?w:!1}function Zi(w){var Y=cn();Ye.style.display=Y?"block":"none",Y?(Ke.style.height=qt.style.minHeight=Y+"px",Ye.style.height=qe.clientHeight+"px",w!=null&&(Ye.scrollTop=qe.scrollTop=w,c&&setTimeout(function(){Ye.scrollTop==w&&(Ye.scrollTop=w+(w?-1:1),Ye.scrollTop=w)},0))):qt.style.minHeight="",mi.style.top=Ti*yi()+"px"}function dn(){ci=at(0),Hi=!0;var w=ci.text.length;Ue.iter(1,Ue.size,function(Y){var ee=Y.text;!Y.hidden&&ee.length>w&&(w=ee.length,ci=Y)}),Li=!1}function di(w,Y,ee){Y=_t(Y),ee?ee=_t(ee):ee=Y,w=pi(w);function pe(Ee){if(Qe(Ee,Y))return Ee;if(!Qe(ee,Ee))return _e;var Ne=Ee.line+w.length-(ee.line-Y.line)-1,We=Ee.ch;return Ee.line==ee.line&&(We+=ct(w).length-(ee.ch-(ee.line==Y.line?Y.ch:0))),{line:Ne,ch:We}}var _e;return Si(w,Y,ee,function(Ee){return _e=Ee,{from:pe(Me.from),to:pe(Me.to)}}),_e}function Bi(w,Y){Si(pi(w),Me.from,Me.to,function(ee){return Y=="end"?{from:ee,to:ee}:Y=="start"?{from:Me.from,to:Me.from}:{from:Me.from,to:ee}})}function Si(w,Y,ee,pe){var _e=w.length==1?w[0].length+Y.ch:ct(w).length,Ee=pe({line:Y.line+w.length-1,ch:_e});un(Y,ee,w,Ee.from,Ee.to)}function zt(w,Y,ee){var pe=w.line,_e=Y.line;if(pe==_e)return at(pe).text.slice(w.ch,Y.ch);var Ee=[at(pe).text.slice(w.ch)];return Ue.iter(pe+1,_e,function(Ne){Ee.push(Ne.text)}),Ee.push(at(_e).text.slice(0,Y.ch)),Ee.join(ee||`
`)}function qi(w){return zt(Me.from,Me.to,w)}function Ni(){Pi||Jt.set(te.pollInterval,function(){zi(),Pt&&Ni()})}function Ai(){var w=!1;Pi=!0;function Y(){var ee=zi();!ee&&!w?(w=!0,Jt.set(60,Y)):(Pi=!1,Ni())}Jt.set(20,Y)}var ei="";function zi(){if(!Pt||Ci(xe)||te.readOnly)return!1;var w=xe.value;if(w==ei)return!1;Cn||tr(),Ot=null;for(var Y=0,ee=Math.min(ei.length,w.length);Y<ee&&ei[Y]==w[Y];)++Y;return Y<ei.length?Me.from={line:Me.from.line,ch:Me.from.ch-(ei.length-Y)}:Bt&&lt(Me.from,Me.to)&&!wt&&(Me.to={line:Me.to.line,ch:Math.min(at(Me.to.line).text.length,Me.to.ch+(w.length-Y))}),Bi(w.slice(Y),"end"),w.length>1e3?xe.value=ei="":ei=w,Cn||ir(),wt=!1,!0}function _i(w){lt(Me.from,Me.to)?w&&(ei=xe.value=""):(ei="",xe.value=qi(),Pt&&$t(xe))}function ai(){te.readOnly!="nocursor"&&(k||document.activeElement!=xe)&&xe.focus()}function pn(){var w=bt();if($e(w.x,w.y,w.x,w.yBot),!!Pt){var Y=qt.getBoundingClientRect(),ee=null;if(w.y+Y.top<0?ee=!0:w.y+Y.top+yi()>(window.innerHeight||document.documentElement.clientHeight)&&(ee=!1),ee!=null){var pe=ft.style.display=="none";pe&&(ft.style.display="",ft.style.left=w.x+"px",ft.style.top=w.y-Ti+"px"),ft.scrollIntoView(ee),pe&&(ft.style.display="none")}}}function bt(){var w=wi(Me.inverted?Me.from:Me.to),Y=te.lineWrapping?Math.min(w.x,ht.offsetWidth):w.x;return{x:Y,y:w.y,yBot:w.yBot}}function $e(w,Y,ee,pe){var _e=P(w,Y,ee,pe);_e.scrollLeft!=null&&(qe.scrollLeft=_e.scrollLeft),_e.scrollTop!=null&&(Ye.scrollTop=qe.scrollTop=_e.scrollTop)}function P(w,Y,ee,pe){var _e=Rn(),Ee=_n();Y+=Ee,pe+=Ee,w+=_e,ee+=_e;var Ne=qe.clientHeight,We=Ye.scrollTop,Ve={},Re=cn()||1/0,nt=Y<Ee+10,et=pe+Ee>Re-10;Y<We?Ve.scrollTop=nt?0:Math.max(0,Y):pe>We+Ne&&(Ve.scrollTop=(et?Re:pe)-Ne);var tt=qe.clientWidth,yt=qe.scrollLeft,ut=te.fixedGutter?St.clientWidth:0,gt=w<ut+_e+10;return w<yt+ut||gt?(gt&&(w=0),Ve.scrollLeft=Math.max(0,w-10-ut)):ee>tt+yt-3&&(Ve.scrollLeft=ee+10-tt),Ve}function X(w){var Y=yi(),ee=(w!=null?w:Ye.scrollTop)-_n(),pe=Math.max(0,Math.floor(ee/Y)),_e=Math.ceil((ee+qe.clientHeight)/Y);return{from:ae(Ue,pe),to:ae(Ue,_e)}}function me(w,Y,ee){if(!qe.clientWidth){It=Ht=Ti=0;return}var pe=X(ee);if(w!==!0&&w.length==0&&pe.from>It&&pe.to<Ht){Zi(ee);return}var _e=Math.max(pe.from-100,0),Ee=Math.min(Ue.size,pe.to+100);It<_e&&_e-It<20&&(_e=It),Ht>Ee&&Ht-Ee<20&&(Ee=Math.min(Ue.size,Ht));for(var Ne=w===!0?[]:ue([{from:It,to:Ht,domStart:0}],w),We=0,Ve=0;Ve<Ne.length;++Ve){var Re=Ne[Ve];Re.from<_e&&(Re.domStart+=_e-Re.from,Re.from=_e),Re.to>Ee&&(Re.to=Ee),Re.from>=Re.to?Ne.splice(Ve--,1):We+=Re.to-Re.from}if(We==Ee-_e&&_e==It&&Ee==Ht){Zi(ee);return}Ne.sort(function(ut,gt){return ut.domStart-gt.domStart});var nt=yi(),et=St.style.display;Ze.style.display="none",Le(_e,Ee,Ne),Ze.style.display=St.style.display="";var tt=_e!=It||Ee!=Ht||Fi!=qe.clientHeight+nt;if(tt&&(Fi=qe.clientHeight+nt),(_e!=It||Ee!=Ht&&te.onViewportChange)&&setTimeout(function(){te.onViewportChange&&te.onViewportChange(W,_e,Ee)}),It=_e,Ht=Ee,Ti=ge(Ue,_e),xn(100),Ze.childNodes.length!=Ht-It)throw new Error("BAD PATCH! "+JSON.stringify(Ne)+" size="+(Ht-It)+" nodes="+Ze.childNodes.length);function yt(){var ut=Ze.firstChild,gt=!1;return Ue.iter(It,Ht,function(Et){if(!!ut){if(!Et.hidden){var ot=Math.round(ut.offsetHeight/nt)||1;Et.height!=ot&&(Zt(Et,ot),ni=gt=!0)}ut=ut.nextSibling}}),gt}return te.lineWrapping&&yt(),St.style.display=et,(tt||ni)&&Se()&&te.lineWrapping&&yt()&&Se(),Zi(ee),Xe(),!Y&&te.onUpdate&&te.onUpdate(W),!0}function ue(w,Y){for(var ee=0,pe=Y.length||0;ee<pe;++ee){for(var _e=Y[ee],Ee=[],Ne=_e.diff||0,We=0,Ve=w.length;We<Ve;++We){var Re=w[We];_e.to<=Re.from&&_e.diff?Ee.push({from:Re.from+Ne,to:Re.to+Ne,domStart:Re.domStart}):_e.to<=Re.from||_e.from>=Re.to?Ee.push(Re):(_e.from>Re.from&&Ee.push({from:Re.from,to:_e.from,domStart:Re.domStart}),_e.to<Re.to&&Ee.push({from:_e.to+Ne,to:Re.to+Ne,domStart:Re.domStart+(_e.to-Re.from)}))}w=Ee}return w}function Le(w,Y,ee){function pe(et){var tt=et.nextSibling;return et.parentNode.removeChild(et),tt}if(!ee.length)Tt(Ze);else{for(var _e=0,Re=Ze.firstChild,Ee=0;Ee<ee.length;++Ee){for(var Ne=ee[Ee];Ne.domStart>_e;)Re=pe(Re),_e++;for(var nt=0,We=Ne.to-Ne.from;nt<We;++nt)Re=Re.nextSibling,_e++}for(;Re;)Re=pe(Re)}var Ve=ee.shift(),Re=Ze.firstChild,nt=w;Ue.iter(w,Y,function(et){if(Ve&&Ve.to==nt&&(Ve=ee.shift()),!Ve||Ve.from>nt){if(et.hidden)var tt=it("pre");else{var tt=Wi(et);if(et.className&&(tt.className=et.className),et.bgClassName){var yt=it("pre","\xA0",et.bgClassName,"position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2");tt=it("div",[yt,tt],null,"position: relative")}}Ze.insertBefore(tt,Re)}else Re=Re.nextSibling;++nt})}function Se(){if(!(!te.gutter&&!te.lineNumbers)){var w=mi.offsetHeight,Y=qe.clientHeight;St.style.height=(w-Y<2?Y:w)+"px";var ee=document.createDocumentFragment(),pe=It,_e;if(Ue.iter(It,Math.max(Ht,It+1),function(nt){if(nt.hidden)ee.appendChild(it("pre"));else{var et=nt.gutterMarker,tt=te.lineNumbers?te.lineNumberFormatter(pe+te.firstLineNumber):null;et&&et.text?tt=et.text.replace("%N%",tt!=null?tt:""):tt==null&&(tt="\xA0");var yt=ee.appendChild(it("pre",null,et&&et.style));yt.innerHTML=tt;for(var ut=1;ut<nt.height;++ut)yt.appendChild(it("br")),yt.appendChild(document.createTextNode("\xA0"));et||(_e=pe)}++pe}),St.style.display="none",Mt(gi,ee),_e!=null&&te.lineNumbers){for(var Ee=gi.childNodes[_e-It],Ne=String(Ue.size).length,We=Ge(Ee.firstChild),Ve="";We.length+Ve.length<Ne;)Ve+="\xA0";Ve&&Ee.insertBefore(document.createTextNode(Ve),Ee.firstChild)}St.style.display="";var Re=Math.abs((parseInt(ht.style.marginLeft)||0)-St.offsetWidth)>2;return ht.style.marginLeft=St.offsetWidth+"px",ni=!1,Re}}function Xe(){var w=lt(Me.from,Me.to),Y=wi(Me.from,!0),ee=w?Y:wi(Me.to,!0),pe=Me.inverted?Y:ee,_e=yi(),Ee=Ae(Ft),Ne=Ae(Ze);if(Fe.style.top=Math.max(0,Math.min(qe.offsetHeight,pe.y+Ne.top-Ee.top))+"px",Fe.style.left=Math.max(0,Math.min(qe.offsetWidth,pe.x+Ne.left-Ee.left))+"px",w||te.showCursorWhenSelecting?(ft.style.top=pe.y+"px",ft.style.left=(te.lineWrapping?Math.min(pe.x,ht.offsetWidth):pe.x)+"px",ft.style.display=""):ft.style.display="none",w)mt.style.display="none";else{var We=Y.y==ee.y,Ve=document.createDocumentFragment(),Re=ht.clientWidth||ht.offsetWidth,nt=ht.clientHeight||ht.offsetHeight,et=function(gt,Et,ot,Lt){var xt=d?"width: "+(ot?Re-ot-gt:Re)+"px":"right: "+(ot-1)+"px";Ve.appendChild(it("div",null,"CodeMirror-selected","position: absolute; left: "+gt+"px; top: "+Et+"px; "+xt+"; height: "+Lt+"px"))};if(Me.from.ch&&Y.y>=0){var tt=We?Re-ee.x:0;et(Y.x,Y.y,tt,_e)}var yt=Math.max(0,Y.y+(Me.from.ch?_e:0)),ut=Math.min(ee.y,nt)-yt;ut>.2*_e&&et(0,yt,0,ut),(!We||!Me.from.ch)&&ee.y<nt-.5*_e&&et(0,ee.y,Re-ee.x,_e),Mt(mt,Ve),mt.style.display=""}}function jt(w){w?Ot=Ot||(Me.inverted?Me.to:Me.from):Ot=null}function pt(w,Y){var ee=Ot&&_t(Ot);ee&&(Qe(ee,w)?w=ee:Qe(Y,ee)&&(Y=ee)),$i(w,Y),si=!0}function $i(w,Y,ee,pe){if(ki=null,ee==null&&(ee=Me.from.line,pe=Me.to.line),!(lt(Me.from,w)&&lt(Me.to,Y))){if(Qe(Y,w)){var _e=Y;Y=w,w=_e}if(w.line!=ee){var Ee=gn(w,ee,Me.from.ch);Ee?w=Ee:On(w.line,!1)}if(Y.line!=pe&&(Y=gn(Y,pe,Me.to.ch)),lt(w,Y)||lt(w,Me.to)?Me.inverted=!1:lt(Y,Me.from)&&(Me.inverted=!0),te.autoClearEmptyLines&&lt(Me.from,Me.to)){var Ne=Me.inverted?w:Y;if(Ne.line!=Me.from.line&&Me.from.line<Ue.size){var We=at(Me.from.line);/^\s+$/.test(We.text)&&setTimeout(st(function(){if(We.parent&&/^\s+$/.test(We.text)){var Ve=Z(We);di("",{line:Ve,ch:0},{line:Ve,ch:We.text.length})}}))}}Me.from=w,Me.to=Y,hi=!0}}function gn(w,Y,ee){function pe(Ne){for(var We=w.line+Ne,Ve=Ne==1?Ue.size:-1;We!=Ve;){var Re=at(We);if(!Re.hidden){var nt=w.ch;return(Ee||nt>ee||nt>Re.text.length)&&(nt=Re.text.length),{line:We,ch:nt}}We+=Ne}}var _e=at(w.line),Ee=w.ch==_e.text.length&&w.ch!=ee;return _e.hidden?w.line>=Y?pe(1)||pe(-1):pe(-1)||pe(1):w}function Ii(w,Y,ee){var pe=_t({line:w,ch:Y||0});(ee?pt:$i)(pe,pe)}function mn(w){return Math.max(0,Math.min(w,Ue.size-1))}function _t(w){if(w.line<0)return{line:0,ch:0};if(w.line>=Ue.size)return{line:Ue.size-1,ch:at(Ue.size-1).text.length};var Y=w.ch,ee=at(w.line).text.length;return Y==null||Y>ee?{line:w.line,ch:ee}:Y<0?{line:w.line,ch:0}:w}function In(w,Y){var ee=Me.inverted?Me.from:Me.to,pe=ee.line,_e=ee.ch,Ee=at(pe);function Ne(){for(var Re=pe+w,nt=w<0?-1:Ue.size;Re!=nt;Re+=w){var et=at(Re);if(!et.hidden)return pe=Re,Ee=et,!0}}function We(Re){if(_e==(w<0?0:Ee.text.length))if(!Re&&Ne())_e=w<0?Ee.text.length:0;else return!1;else _e+=w;return!0}if(Y=="char")We();else if(Y=="column")We(!0);else if(Y=="word")for(var Ve=!1;!(w<0&&!We());){if(xi(Ee.text.charAt(_e)))Ve=!0;else if(Ve){w<0&&(w=1,We());break}if(w>0&&!We())break}return{line:pe,ch:_e}}function sr(w,Y){var ee=w<0?Me.from:Me.to;(Ot||lt(Me.from,Me.to))&&(ee=In(w,Y)),Ii(ee.line,ee.ch,!0)}function ar(w,Y){lt(Me.from,Me.to)?w<0?di("",In(w,Y),Me.to):di("",Me.from,In(w,Y)):di("",Me.from,Me.to),si=!0}function or(w,Y){var ee=wi(Me.inverted?Me.from:Me.to,!0);if(ki!=null&&(ee.x=ki),Y=="page")var pe=Math.min(qe.clientHeight,window.innerHeight||document.documentElement.clientHeight),_e=bn(ee.x,ee.y+pe*w);else if(Y=="line")var Ee=yi(),_e=bn(ee.x,ee.y+.5*Ee+w*Ee);Y=="page"&&(Ye.scrollTop+=wi(_e,!0).y-ee.y),Ii(_e.line,_e.ch,!0),ki=ee.x}function Un(w){var Y=at(w.line).text,ee=w.ch,pe=w.ch;if(Y){w.after===!1||pe==Y.length?--ee:++pe;for(var _e=Y.charAt(ee),Ee=xi(_e)?xi:/\s/.test(_e)?function(Ne){return/\s/.test(Ne)}:function(Ne){return!/\s/.test(Ne)&&xi(Ne)};ee>0&&Ee(Y.charAt(ee-1));)--ee;for(;pe<Y.length&&Ee(Y.charAt(pe));)++pe}return{from:{line:w.line,ch:ee},to:{line:w.line,ch:pe}}}function lr(w){pt({line:w,ch:0},_t({line:w+1,ch:0}))}function ur(w){if(lt(Me.from,Me.to))return vn(Me.from.line,w);for(var Y=Me.to.line-(Me.to.ch?0:1),ee=Me.from.line;ee<=Y;++ee)vn(ee,w)}function vn(w,Y){if(Y||(Y="add"),Y=="smart")if(!kt.indent)Y="prev";else var ee=tn(w);var pe=at(w),_e=pe.indentation(te.tabSize),Ee=pe.text.match(/^\s*/)[0],Ne;Y=="smart"&&(Ne=kt.indent(ee,pe.text.slice(Ee.length),pe.text),Ne==Ce&&(Y="prev")),Y=="prev"?w?Ne=at(w-1).indentation(te.tabSize):Ne=0:Y=="add"?Ne=_e+te.indentUnit:Y=="subtract"&&(Ne=_e-te.indentUnit),Ne=Math.max(0,Ne);var We="",Ve=0;if(te.indentWithTabs)for(var Re=Math.floor(Ne/te.tabSize);Re;--Re)Ve+=te.tabSize,We+="	";Ve<Ne&&(We+=Ct(Ne-Ve)),We!=Ee&&di(We,{line:w,ch:0},{line:w,ch:Ee.length}),pe.stateAfter=null}function Gn(){kt=t.getMode(te,te.mode),Ue.iter(0,Ue.size,function(w){w.stateAfter=null}),Xt=0,xn(100)}function hr(){var w=te.gutter||te.lineNumbers;St.style.display=w?"":"none",w?ni=!0:Ze.parentNode.style.marginLeft=0}function fr(w,Y){if(te.lineWrapping){Ft.className+=" CodeMirror-wrap";var ee=qe.clientWidth/zn()-3;Ue.iter(0,Ue.size,function(pe){if(!pe.hidden){var _e=Math.ceil(pe.text.length/ee)||1;_e!=1&&Zt(pe,_e)}}),ht.style.minWidth=ri.style.left=""}else Ft.className=Ft.className.replace(" CodeMirror-wrap",""),dn(),Ue.iter(0,Ue.size,function(pe){pe.height!=1&&!pe.hidden&&Zt(pe,1)});Qt.push({from:0,to:Ue.size})}function Yn(){qe.className=qe.className.replace(/\s*cm-s-\S+/g,"")+te.theme.replace(/(^|\s)\s*/g," cm-s-")}function Kn(){var w=M[te.keyMap].style;Ft.className=Ft.className.replace(/\s*cm-keymap-\S+/g,"")+(w?" cm-keymap-"+w:"")}function yn(w,Y){this.lines=[],this.type=w,Y&&(this.style=Y)}yn.prototype.clear=st(function(){for(var w,Y,ee=0;ee<this.lines.length;++ee){var pe=this.lines[ee],_e=ne(pe.markedSpans,this);_e.from!=null&&(w=Z(pe)),_e.to!=null&&(Y=Z(pe)),pe.markedSpans=oe(pe.markedSpans,_e)}w!=null&&Qt.push({from:w,to:Y+1}),this.lines.length=0,this.explicitlyCleared=!0}),yn.prototype.find=function(){for(var w,Y,ee=0;ee<this.lines.length;++ee){var pe=this.lines[ee],_e=ne(pe.markedSpans,this);if(_e.from!=null||_e.to!=null){var Ee=Z(pe);_e.from!=null&&(w={line:Ee,ch:_e.from}),_e.to!=null&&(Y={line:Ee,ch:_e.to})}}return this.type=="bookmark"?w:w&&{from:w,to:Y}};function Ln(w,Y,ee,pe){w=_t(w),Y=_t(Y);var _e=new yn("range",ee);if(pe)for(var Ee in pe)pe.hasOwnProperty(Ee)&&(_e[Ee]=pe[Ee]);var Ne=w.line;return Ue.iter(Ne,Y.line+1,function(We){var Ve={from:Ne==w.line?w.ch:null,to:Ne==Y.line?Y.ch:null,marker:_e};We.markedSpans=(We.markedSpans||[]).concat([Ve]),_e.lines.push(We),++Ne}),Qt.push({from:w.line,to:Y.line+1}),_e}function cr(w){w=_t(w);var Y=new yn("bookmark"),ee=at(w.line);Nt.addChange(w.line,1,[n(ee.text,ee.markedSpans)],!0);var pe={from:w.ch,to:w.ch,marker:Y};return ee.markedSpans=(ee.markedSpans||[]).concat([pe]),Y.lines.push(ee),Y}function dr(w){w=_t(w);var Y=[],ee=at(w.line).markedSpans;if(ee)for(var pe=0;pe<ee.length;++pe){var _e=ee[pe];(_e.from==null||_e.from<=w.ch)&&(_e.to==null||_e.to>=w.ch)&&Y.push(_e.marker)}return Y}function pr(w,Y,ee){return typeof w=="number"&&(w=at(mn(w))),w.gutterMarker={text:Y,style:ee},ni=!0,w}function gr(w){typeof w=="number"&&(w=at(mn(w))),w.gutterMarker=null,ni=!0}function Xn(w,Y){var ee=w,pe=w;if(typeof w=="number"?pe=at(mn(w)):ee=Z(w),ee==null)return null;if(Y(pe,ee))Qt.push({from:ee,to:ee+1});else return null;return pe}function mr(w,Y,ee){return Xn(w,function(pe){if(pe.className!=Y||pe.bgClassName!=ee)return pe.className=Y,pe.bgClassName=ee,!0})}function On(w,Y){return Xn(w,function(ee,pe){if(ee.hidden!=Y){ee.hidden=Y,te.lineWrapping||(Y&&ee.text.length==ci.text.length?Li=!0:!Y&&ee.text.length>ci.text.length&&(ci=ee,Li=!1)),Zt(ee,Y?0:1);var _e=Me.from.line,Ee=Me.to.line;if(Y&&(_e==pe||Ee==pe)){var Ne=_e==pe?gn({line:_e,ch:0},_e,0):Me.from,We=Ee==pe?gn({line:Ee,ch:0},Ee,0):Me.to;if(!We)return;$i(Ne,We)}return ni=!0}})}function vr(w){if(typeof w=="number"){if(!Ei(w))return null;var Y=w;if(w=at(w),!w)return null}else{var Y=Z(w);if(Y==null)return null}var ee=w.gutterMarker;return{line:Y,handle:w,text:w.text,markerText:ee&&ee.text,markerClass:ee&&ee.style,lineClass:w.className,bgClass:w.bgClassName}}function Bn(w,Y){if(Y==0)return{top:0,left:0};var ee=Wi(w,Y);Mt(Rt,ee);var pe=ee.anchor,_e=pe.offsetTop,Ee=pe.offsetLeft;if(E&&_e==0&&Ee==0){var Ne=it("span","x");pe.parentNode.insertBefore(Ne,pe.nextSibling),_e=Ne.offsetTop}return{top:_e,left:Ee}}function wi(w,Y){var ee,pe=yi(),_e=pe*(ge(Ue,w.line)-(Y?Ti:0));if(w.ch==0)ee=0;else{var Ee=Bn(at(w.line),w.ch);ee=Ee.left,te.lineWrapping&&(_e+=Math.max(0,Ee.top))}return{x:ee,y:_e,yBot:_e+pe}}function bn(w,Y){var ee=yi(),pe=zn(),_e=Ti+Math.floor(Y/ee);if(_e<0)return{line:0,ch:0};var Ee=ae(Ue,_e);if(Ee>=Ue.size)return{line:Ue.size-1,ch:at(Ue.size-1).text.length};var Ne=at(Ee),We=Ne.text,Ve=te.lineWrapping,Re=Ve?_e-ge(Ue,Ee):0;if(w<=0&&Re==0)return{line:Ee,ch:0};var nt=!1;function et(Vn){var nn=Bn(Ne,Vn);if(Ve){var Ri=Math.round(nn.top/ee);return nt=Ri!=Re,Math.max(0,nn.left+(Ri-Re)*qe.clientWidth)}return nn.left}for(var tt=0,yt=0,ut=We.length,gt,Et=Math.min(ut,Math.ceil((w+Re*qe.clientWidth*.9)/pe));;){var ot=et(Et);if(ot<=w&&Et<ut)Et=Math.min(ut,Math.ceil(Et*1.2));else{gt=ot,ut=Et;break}}if(w>gt)return{line:Ee,ch:ut};for(Et=Math.floor(ut*.8),ot=et(Et),ot<w&&(tt=Et,yt=ot);;){if(ut-tt<=1){var Lt=w-yt<gt-w;return{line:Ee,ch:Lt?tt:ut,after:Lt}}var xt=Math.ceil((tt+ut)/2),oi=et(xt);oi>w?(ut=xt,gt=oi,nt&&(gt+=1e3)):(tt=xt,yt=oi)}}function yr(w){var Y=wi(w,!0),ee=Ae(ht);return{x:ee.left+Y.x,y:ee.top+Y.y,yBot:ee.top+Y.yBot}}var Nn,Qn,Ui;function yi(){if(Ui==null){Ui=it("pre");for(var w=0;w<49;++w)Ui.appendChild(document.createTextNode("x")),Ui.appendChild(it("br"));Ui.appendChild(document.createTextNode("x"))}var Y=Ze.clientHeight;return Y==Qn||(Qn=Y,Mt(Rt,Ui.cloneNode(!0)),Nn=Rt.firstChild.offsetHeight/50||1,Tt(Rt)),Nn}var Jn,Zn=0;function zn(){if(qe.clientWidth==Zn)return Jn;Zn=qe.clientWidth;var w=it("span","x"),Y=it("pre",[w]);return Mt(Rt,Y),Jn=w.offsetWidth||10}function _n(){return ht.offsetTop}function Rn(){return ht.offsetLeft}function en(w,Y){var ee=Ae(qe,!0),pe,_e;try{pe=w.clientX,_e=w.clientY}catch{return null}if(!Y&&(pe-ee.left>qe.clientWidth||_e-ee.top>qe.clientHeight))return null;var Ee=Ae(ht,!0);return bn(pe-Ee.left,_e-Ee.top)}var Fn;function $n(w){var Y=en(w),ee=Ye.scrollTop;if(!Y||m)return;(lt(Me.from,Me.to)||Qe(Y,Me.from)||!Qe(Y,Me.to))&&st(Ii)(Y.line,Y.ch);var pe=xe.style.cssText;Fe.style.position="absolute",xe.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(w.clientY-5)+"px; left: "+(w.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ai(),_i(!0),lt(Me.from,Me.to)&&(xe.value=ei=" ");function _e(){if(Fe.style.position="relative",xe.style.cssText=pe,k&&(Ye.scrollTop=ee),Ni(),xe.selectionStart!=null){clearTimeout(Fn);var Ne=xe.value=" "+(lt(Me.from,Me.to)?"":xe.value),We=0;ei=" ",xe.selectionStart=1,xe.selectionEnd=Ne.length,Fn=setTimeout(function Ve(){ei==" "&&xe.selectionStart==0?st(x.selectAll)(W):We++<10?Fn=setTimeout(Ve,500):_i()},200)}}if(R){Pe(w);var Ee=he(window,"mouseup",function(){Ee(),setTimeout(_e,20)},!0)}else setTimeout(_e,50)}function wn(){clearInterval(vi);var w=!0;ft.style.visibility="",vi=setInterval(function(){ft.style.visibility=(w=!w)?"":"hidden"},te.cursorBlinkRate)}var Hn={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function er(w){var Y=Me.inverted?Me.from:Me.to,ee=at(Y.line),pe=Y.ch-1,_e=pe>=0&&Hn[ee.text.charAt(pe)]||Hn[ee.text.charAt(++pe)];if(!_e)return;_e.charAt(0);for(var Ee=_e.charAt(1)==">",Ne=Ee?1:-1,We=ee.styles,Ve=pe+1,Re=0,nt=We.length;Re<nt;Re+=2)if((Ve-=We[Re].length)<=0){var Et=We[Re+1];break}var et=[ee.text.charAt(pe)],tt=/[(){}[\]]/;function yt(oi,Vn,nn){if(!!oi.text)for(var Ri=oi.styles,Gi=Ee?0:oi.text.length-1,jn,En=Ee?0:Ri.length-2,wr=Ee?Ri.length:-2;En!=wr;En+=2*Ne){var Sn=Ri[En];if(Ri[En+1]!=Et){Gi+=Ne*Sn.length;continue}for(var qn=Ee?0:Sn.length-1,xr=Ee?Sn.length:-1;qn!=xr;qn+=Ne,Gi+=Ne)if(Gi>=Vn&&Gi<nn&&tt.test(jn=Sn.charAt(qn))){var rr=Hn[jn];if(rr.charAt(1)==">"==Ee)et.push(jn);else{if(et.pop()!=rr.charAt(0))return{pos:Gi,match:!1};if(!et.length)return{pos:Gi,match:!0}}}}}for(var Re=Y.line,nt=Ee?Math.min(Re+100,Ue.size):Math.max(-1,Re-100);Re!=nt;Re+=Ne){var ee=at(Re),ut=Re==Y.line,gt=yt(ee,ut&&Ee?pe+1:0,ut&&!Ee?pe:ee.text.length);if(gt)break}gt||(gt={pos:null,match:!1});var Et=gt.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",ot=Ln({line:Y.line,ch:pe},{line:Y.line,ch:pe+1},Et),Lt=gt.pos!=null&&Ln({line:Re,ch:gt.pos},{line:Re,ch:gt.pos+1},Et),xt=st(function(){ot.clear(),Lt&&Lt.clear()});w?setTimeout(xt,800):fi=xt}function br(w){for(var Y,ee,pe=w,_e=w-40;pe>_e;--pe){if(pe==0)return 0;var Ee=at(pe-1);if(Ee.stateAfter)return pe;var Ne=Ee.indentation(te.tabSize);(ee==null||Y>Ne)&&(ee=pe-1,Y=Ne)}return ee}function tn(w){var Y=br(w),ee=Y&&at(Y-1).stateAfter;return ee?ee=G(kt,ee):ee=N(kt),Ue.iter(Y,w,function(pe){pe.process(kt,ee,te.tabSize),pe.stateAfter=Y==w-1||Y%5==0?G(kt,ee):null}),ee}function _r(){if(!(Xt>=Ht)){var w=+new Date+te.workTime,Y=G(kt,tn(Xt)),ee=Xt;Ue.iter(Xt,Ht,function(pe){if(Xt>=It?(pe.highlight(kt,Y,te.tabSize),pe.stateAfter=G(kt,Y)):(pe.process(kt,Y,te.tabSize),pe.stateAfter=Xt%5==0?G(kt,Y):null),++Xt,+new Date>w)return xn(te.workDelay),!0}),Ht>ee&&Xt>=It&&st(function(){Qt.push({from:ee,to:Xt})})()}}function xn(w){Xt<Ht&&ui.set(w,_r)}function tr(){Wt=si=ii=null,Qt=[],hi=!1,Di=[]}function ir(){if(Li&&dn(),Hi&&!te.lineWrapping){var w=ri.offsetWidth,Y=Bn(ci,ci.text.length).left;u||(ri.style.left=Y+"px",ht.style.minWidth=Y+w+"px"),Hi=!1}var ee,pe;if(hi){var _e=bt();ee=P(_e.x,_e.y,_e.x,_e.yBot)}(Qt.length||ee&&ee.scrollTop!=null)&&(pe=me(Qt,!0,ee&&ee.scrollTop)),pe||(hi&&Xe(),ni&&Se()),ee&&pn(),hi&&wn(),Pt&&(Wt===!0||Wt!==!1&&hi)&&_i(si),hi&&te.matchBrackets&&setTimeout(st(function(){fi&&(fi(),fi=null),lt(Me.from,Me.to)&&er(!1)}),20);var Ee=hi,Ne=Di;ii&&te.onChange&&W&&te.onChange(W,ii),Ee&&te.onCursorActivity&&te.onCursorActivity(W);for(var We=0;We<Ne.length;++We)Ne[We](W);pe&&te.onUpdate&&te.onUpdate(W)}var Cn=0;function st(w){return function(){Cn++||tr();try{var Y=w.apply(this,arguments)}finally{--Cn||ir()}return Y}}function nr(w){Nt.startCompound();try{return w()}finally{Nt.endCompound()}}for(var kn in a)a.propertyIsEnumerable(kn)&&!W.propertyIsEnumerable(kn)&&(W[kn]=a[kn]);for(var Wn=0;Wn<H.length;++Wn)H[Wn](W);return W}t.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onDragEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,showCursorWhenSelecting:!1,readOnly:!1,dragDrop:!0,onChange:null,onCursorActivity:null,onViewportChange:null,onGutterClick:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,cursorBlinkRate:530,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null,lineNumberFormatter:function(I){return I}};var B=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),O=B||/Mac/.test(navigator.platform);/Win/.test(navigator.platform);var p=t.modes={},z=t.mimeModes={};t.defineMode=function(I,se){if(!t.defaults.mode&&I!="null"&&(t.defaults.mode=I),arguments.length>2){se.dependencies=[];for(var te=2;te<arguments.length;++te)se.dependencies.push(arguments[te])}p[I]=se},t.defineMIME=function(I,se){z[I]=se},t.resolveMode=function(I){if(typeof I=="string"&&z.hasOwnProperty(I))I=z[I];else if(typeof I=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(I))return t.resolveMode("application/xml");return typeof I=="string"?{name:I}:I||{name:"null"}},t.getMode=function(I,te){var te=t.resolveMode(te),we=p[te.name];if(!we)return t.getMode(I,"text/plain");var De=we(I,te);if(b.hasOwnProperty(te.name)){var xe=b[te.name];for(var Fe in xe)!xe.hasOwnProperty(Fe)||(De.hasOwnProperty(Fe)&&(De["_"+Fe]=De[Fe]),De[Fe]=xe[Fe])}return De.name=te.name,De},t.listModes=function(){var I=[];for(var se in p)p.propertyIsEnumerable(se)&&I.push(se);return I},t.listMIMEs=function(){var I=[];for(var se in z)z.propertyIsEnumerable(se)&&I.push({mime:se,mode:z[se]});return I};var a=t.extensions={};t.defineExtension=function(I,se){a[I]=se};var H=[];t.defineInitHook=function(I){H.push(I)};var b=t.modeExtensions={};t.extendMode=function(I,se){var te=b.hasOwnProperty(I)?b[I]:b[I]={};for(var we in se)se.hasOwnProperty(we)&&(te[we]=se[we])};var x=t.commands={selectAll:function(I){I.setSelection({line:0,ch:0},{line:I.lineCount()-1})},killLine:function(I){var se=I.getCursor(!0),te=I.getCursor(!1),we=!lt(se,te);!we&&I.getLine(se.line).length==se.ch?I.replaceRange("",se,{line:se.line+1,ch:0}):I.replaceRange("",se,we?te:{line:se.line})},deleteLine:function(I){var se=I.getCursor().line;I.replaceRange("",{line:se,ch:0},{line:se})},undo:function(I){I.undo()},redo:function(I){I.redo()},goDocStart:function(I){I.setCursor(0,0,!0)},goDocEnd:function(I){I.setSelection({line:I.lineCount()-1},null,!0)},goLineStart:function(I){I.setCursor(I.getCursor().line,0,!0)},goLineStartSmart:function(I){var se=I.getCursor(),te=I.getLine(se.line),we=Math.max(0,te.search(/\S/));I.setCursor(se.line,se.ch<=we&&se.ch?0:we,!0)},goLineEnd:function(I){I.setSelection({line:I.getCursor().line},null,!0)},goLineUp:function(I){I.moveV(-1,"line")},goLineDown:function(I){I.moveV(1,"line")},goPageUp:function(I){I.moveV(-1,"page")},goPageDown:function(I){I.moveV(1,"page")},goCharLeft:function(I){I.moveH(-1,"char")},goCharRight:function(I){I.moveH(1,"char")},goColumnLeft:function(I){I.moveH(-1,"column")},goColumnRight:function(I){I.moveH(1,"column")},goWordLeft:function(I){I.moveH(-1,"word")},goWordRight:function(I){I.moveH(1,"word")},delCharLeft:function(I){I.deleteH(-1,"char")},delCharRight:function(I){I.deleteH(1,"char")},delWordLeft:function(I){I.deleteH(-1,"word")},delWordRight:function(I){I.deleteH(1,"word")},indentAuto:function(I){I.indentSelection("smart")},indentMore:function(I){I.indentSelection("add")},indentLess:function(I){I.indentSelection("subtract")},insertTab:function(I){I.replaceSelection("	","end")},defaultTab:function(I){I.somethingSelected()?I.indentSelection("add"):I.replaceSelection("	","end")},transposeChars:function(I){var se=I.getCursor(),te=I.getLine(se.line);se.ch>0&&se.ch<te.length-1&&I.replaceRange(te.charAt(se.ch)+te.charAt(se.ch-1),{line:se.line,ch:se.ch-1},{line:se.line,ch:se.ch+1})},newlineAndIndent:function(I){I.replaceSelection(`
`,"end"),I.indentLine(I.getCursor().line)},toggleOverwrite:function(I){I.toggleOverwrite()}},M=t.keyMap={};M.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},M.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},M.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},M.default=O?M.macDefault:M.pcDefault,M.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function S(I){return typeof I=="string"?M[I]:I}function A(I,se,te,we,De){function xe(Fe){Fe=S(Fe);var Ke=Fe[I];if(Ke===!1)return De&&De(),!0;if(Ke!=null&&we(Ke))return!0;if(Fe.nofallthrough)return De&&De(),!0;var Ye=Fe.fallthrough;if(Ye==null)return!1;if(Object.prototype.toString.call(Ye)!="[object Array]")return xe(Ye);for(var Ze=0,mt=Ye.length;Ze<mt;++Ze)if(xe(Ye[Ze]))return!0;return!1}return se&&xe(se)?!0:xe(te)}function T(I){var se=At[q(I,"keyCode")];return se=="Ctrl"||se=="Alt"||se=="Shift"||se=="Mod"}t.isModifierKey=T,t.fromTextArea=function(I,se){if(se||(se={}),se.value=I.value,!se.tabindex&&I.tabindex&&(se.tabindex=I.tabindex),se.autofocus==null){var te=document.body;try{te=document.activeElement}catch{}se.autofocus=te==I||I.getAttribute("autofocus")!=null&&te==document.body}function we(){I.value=Ke.getValue()}if(I.form){var De=he(I.form,"submit",we,!0),xe=I.form,Fe=xe.submit;I.form.submit=function Ye(){we(),xe.submit=Fe,xe.submit(),xe.submit=Ye}}I.style.display="none";var Ke=t(function(Ye){I.parentNode.insertBefore(Ye,I.nextSibling)},se);return Ke.save=we,Ke.getTextArea=function(){return I},Ke.toTextArea=function(){we(),I.parentNode.removeChild(Ke.getWrapperElement()),I.style.display="",I.form&&(De(),typeof I.form.submit=="function"&&(I.form.submit=Fe))},Ke};var R=/gecko\/\d/i.test(navigator.userAgent),E=/MSIE \d/.test(navigator.userAgent),u=/MSIE [1-7]\b/.test(navigator.userAgent),k=/MSIE [1-8]\b/.test(navigator.userAgent),d=E&&document.documentMode==5,c=/WebKit\//.test(navigator.userAgent),g=c&&/Qt\/\d+\.\d+/.test(navigator.userAgent),y=/Chrome\//.test(navigator.userAgent),m=/Opera\//.test(navigator.userAgent),U=/Apple Computer/.test(navigator.vendor),K=/KHTML\//.test(navigator.userAgent),J=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent),re=m&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);re&&(re=Number(re[1]));var C=O&&(g||m&&(re==null||re<12.11));function G(I,se){if(se===!0)return se;if(I.copyState)return I.copyState(se);var te={};for(var we in se){var De=se[we];De instanceof Array&&(De=De.concat([])),te[we]=De}return te}t.copyState=G;function N(I,se,te){return I.startState?I.startState(se,te):!0}t.startState=N,t.innerMode=function(I,se){for(;I.innerMode;){var te=I.innerMode(se);se=te.state,I=te.mode}return te||{mode:I,state:se}};function V(I,se){this.pos=this.start=0,this.string=I,this.tabSize=se||8}V.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(I){var se=this.string.charAt(this.pos);if(typeof I=="string")var te=se==I;else var te=se&&(I.test?I.test(se):I(se));if(te)return++this.pos,se},eatWhile:function(I){for(var se=this.pos;this.eat(I););return this.pos>se},eatSpace:function(){for(var I=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>I},skipToEnd:function(){this.pos=this.string.length},skipTo:function(I){var se=this.string.indexOf(I,this.pos);if(se>-1)return this.pos=se,!0},backUp:function(I){this.pos-=I},column:function(){return Oe(this.string,this.start,this.tabSize)},indentation:function(){return Oe(this.string,null,this.tabSize)},match:function(I,se,te){if(typeof I=="string"){var we=function(xe){return te?xe.toLowerCase():xe};if(we(this.string).indexOf(we(I),this.pos)==this.pos)return se!==!1&&(this.pos+=I.length),!0}else{var De=this.string.slice(this.pos).match(I);return De&&De.index>0?null:(De&&se!==!1&&(this.pos+=De[0].length),De)}},current:function(){return this.string.slice(this.start,this.pos)}},t.StringStream=V;function ne(I,se){if(I)for(var te=0;te<I.length;++te){var we=I[te];if(we.marker==se)return we}}function oe(I,se){for(var te,we=0;we<I.length;++we)I[we]!=se&&(te||(te=[])).push(I[we]);return te}function ve(I,se,te){if(I)for(var we=0,De;we<I.length;++we){var xe=I[we],Fe=xe.marker,Ke=xe.from==null||(Fe.inclusiveLeft?xe.from<=se:xe.from<se);if(Ke||Fe.type=="bookmark"&&xe.from==se&&xe.from!=te){var Ye=xe.to==null||(Fe.inclusiveRight?xe.to>=se:xe.to>se);(De||(De=[])).push({from:xe.from,to:Ye?null:xe.to,marker:Fe})}}return De}function de(I,se){if(I)for(var te=0,we;te<I.length;++te){var De=I[te],xe=De.marker,Fe=De.to==null||(xe.inclusiveRight?De.to>=se:De.to>se);if(Fe||xe.type=="bookmark"&&De.from==se){var Ke=De.from==null||(xe.inclusiveLeft?De.from<=se:De.from<se);(we||(we=[])).push({from:Ke?null:De.from-se,to:De.to==null?null:De.to-se,marker:xe})}}return we}function fe(I,se,te,we,De){if(!I&&!se)return De;var xe=ve(I,te),Fe=de(se,we),Ke=De.length==1,Ye=ct(De).length+(Ke?te:0);if(xe)for(var Ze=0;Ze<xe.length;++Ze){var mt=xe[Ze];if(mt.to==null){var ft=ne(Fe,mt.marker);ft?Ke&&(mt.to=ft.to==null?null:ft.to+Ye):mt.to=te}}if(Fe)for(var Ze=0;Ze<Fe.length;++Ze){var mt=Fe[Ze];if(mt.to!=null&&(mt.to+=Ye),mt.from==null){var ft=ne(xe,mt.marker);ft||(mt.from=Ye,Ke&&(xe||(xe=[])).push(mt))}else mt.from+=Ye,Ke&&(xe||(xe=[])).push(mt)}var ri=[n(De[0],xe)];if(!Ke){var Rt=De.length-2,ht;if(Rt>0&&xe)for(var Ze=0;Ze<xe.length;++Ze)xe[Ze].to==null&&(ht||(ht=[])).push({from:null,to:null,marker:xe[Ze].marker});for(var Ze=0;Ze<Rt;++Ze)ri.push(n(De[Ze+1],ht));ri.push(n(ct(De),Fe))}return ri}function ye(I){return typeof I=="string"?I:I.text}function e(I){if(typeof I=="string")return null;for(var se=I.markedSpans,te=null,we=0;we<se.length;++we)se[we].marker.explicitlyCleared?te||(te=se.slice(0,we)):te&&te.push(se[we]);return te?te.length?te:null:se}function n(I,se){return se?{text:I,markedSpans:se}:I}function r(I){var se=I.markedSpans;if(!!se){for(var te=0;te<se.length;++te){var we=se[te].marker.lines,De=Yt(we,I);we.splice(De,1)}I.markedSpans=null}}function s(I,se){if(!!se){for(var te=0;te<se.length;++te)var we=se[te].marker.lines.push(I);I.markedSpans=se}}var l=" ";R||E&&!u?l="\u200B":m&&(l="");function h(I,se){this.text=I,this.height=1,s(this,se)}h.prototype={update:function(I,se){this.text=I,this.stateAfter=this.styles=null,r(this),s(this,se)},highlight:function(I,se,te){var we=new V(this.text,te),De=this.styles||(this.styles=[]),xe=De.length=0;for(this.text==""&&I.blankLine&&I.blankLine(se);!we.eol();){var Fe=I.token(we,se),Ke=we.current();if(we.start=we.pos,xe&&De[xe-1]==Fe?De[xe-2]+=Ke:Ke&&(De[xe++]=Ke,De[xe++]=Fe),we.pos>5e3){De[xe++]=this.text.slice(we.pos),De[xe++]=null;break}}},process:function(I,se,te){var we=new V(this.text,te);for(this.text==""&&I.blankLine&&I.blankLine(se);!we.eol()&&we.pos<=5e3;)I.token(we,se),we.start=we.pos},getTokenAt:function(I,se,te,we){for(var De=this.text,xe=new V(De,te);xe.pos<we&&!xe.eol();){xe.start=xe.pos;var Fe=I.token(xe,se)}return{start:xe.start,end:xe.pos,string:xe.current(),className:Fe||null,state:se}},indentation:function(I){return Oe(this.text,null,I)},getContent:function(I,se,te){var we=!0,De=0,xe=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g,Fe=it("pre");function Ke(vt,dt,Bt){if(!!dt){if(we&&E&&dt.charAt(0)==" "&&(dt="\xA0"+dt.slice(1)),we=!1,xe.test(dt))for(var Dt=document.createDocumentFragment(),wt=0;;){xe.lastIndex=wt;var Wt=xe.exec(dt),si=Wt?Wt.index-wt:dt.length-wt;if(si&&(Dt.appendChild(document.createTextNode(dt.slice(wt,wt+si))),De+=si),!Wt)break;if(wt+=si+1,Wt[0]=="	"){var Qt=I-De%I;Dt.appendChild(it("span",Ct(Qt),"cm-tab")),De+=Qt}else{var ii=it("span","\u2022","cm-invalidchar");ii.title="\\u"+Wt[0].charCodeAt(0).toString(16),Dt.appendChild(ii),De+=1}}else{De+=dt.length;var Dt=document.createTextNode(dt)}Bt?vt.appendChild(it("span",[Dt],Bt)):vt.appendChild(Dt)}}var Ye=Ke;if(se!=null){var Ze=0,mt=Fe.anchor=it("span");Ye=function(vt,dt,Bt){var Dt=dt.length;if(se>=Ze&&se<Ze+Dt){var wt=se-Ze;if(wt&&(Ke(vt,dt.slice(0,wt),Bt),te)){var Wt=dt.slice(wt-1,wt+1);Ie.test(Wt)?vt.appendChild(it("wbr")):!u&&/\w\w/.test(Wt)&&vt.appendChild(document.createTextNode("\u200D"))}vt.appendChild(mt),Ke(mt,m?dt.slice(wt,wt+1):dt.slice(wt),Bt),m&&Ke(vt,dt.slice(wt+1),Bt),se--,Ze+=Dt}else Ze+=Dt,Ke(vt,dt,Bt),Ze==se&&Ze==ht?(Gt(mt,l),vt.appendChild(mt)):Ze>se+10&&/\s/.test(dt)&&(Ye=function(){})}}var ft=this.styles,ri=this.text,Rt=this.markedSpans,ht=ri.length;function gi(vt){return vt?"cm-"+vt.replace(/ +/g," cm-"):null}if(!ri&&se==null)Ye(Fe," ");else if(!Rt||!Rt.length)for(var St=0,mi=0;mi<ht;St+=2){var qt=ft[St],qe=ft[St+1],Ft=qt.length;mi+Ft>ht&&(qt=qt.slice(0,ht-mi)),mi+=Ft,Ye(Fe,qt,gi(qe))}else{Rt.sort(function(Bt,Dt){return Bt.from-Dt.from});for(var Jt=0,St=0,ui="",qe,vi=Rt[0].from||0,kt=[],Ue=0,Xt=function(){for(var Bt;Ue<Rt.length&&((Bt=Rt[Ue]).from==Jt||Bt.from==null);)Bt.marker.type=="range"&&kt.push(Bt),++Ue;vi=Ue<Rt.length?Rt[Ue].from:1/0;for(var Dt=0;Dt<kt.length;++Dt){var wt=kt[Dt].to;wt==null&&(wt=1/0),wt==Jt?kt.splice(Dt--,1):vi=Math.min(wt,vi)}};Jt<ht;){vi==Jt&&Xt();for(var Pt=Math.min(ht,vi);;){if(ui){for(var Me=Jt+ui.length,Ot=qe,ti=0;ti<kt.length;++ti){var Ut=kt[ti];Ot=(Ot?Ot+" ":"")+Ut.marker.style,Ut.marker.endStyle&&Ut.to===Math.min(Me,Pt)&&(Ot+=" "+Ut.marker.endStyle),Ut.marker.startStyle&&Ut.from===Jt&&(Ot+=" "+Ut.marker.startStyle)}if(Ye(Fe,Me>Pt?ui.slice(0,Pt-Jt):ui,Ot),Me>=Pt){ui=ui.slice(Pt-Jt),Jt=Pt;break}Jt=Me}ui=ft[St++],qe=gi(ft[St++])}}}return Fe},cleanUp:function(){this.parent=null,r(this)}};function v(I){this.lines=I,this.parent=null;for(var se=0,te=I.length,we=0;se<te;++se)I[se].parent=this,we+=I[se].height;this.height=we}v.prototype={chunkSize:function(){return this.lines.length},remove:function(I,se,te){for(var we=I,De=I+se;we<De;++we){var xe=this.lines[we];if(this.height-=xe.height,xe.cleanUp(),xe.handlers)for(var Fe=0;Fe<xe.handlers.length;++Fe)te.push(xe.handlers[Fe])}this.lines.splice(I,se)},collapse:function(I){I.splice.apply(I,[I.length,0].concat(this.lines))},insertHeight:function(I,se,te){this.height+=te,this.lines=this.lines.slice(0,I).concat(se).concat(this.lines.slice(I));for(var we=0,De=se.length;we<De;++we)se[we].parent=this},iterN:function(I,se,te){for(var we=I+se;I<we;++I)if(te(this.lines[I]))return!0}};function D(I){this.children=I;for(var se=0,te=0,we=0,De=I.length;we<De;++we){var xe=I[we];se+=xe.chunkSize(),te+=xe.height,xe.parent=this}this.size=se,this.height=te,this.parent=null}D.prototype={chunkSize:function(){return this.size},remove:function(I,se,te){this.size-=se;for(var we=0;we<this.children.length;++we){var De=this.children[we],xe=De.chunkSize();if(I<xe){var Fe=Math.min(se,xe-I),Ke=De.height;if(De.remove(I,Fe,te),this.height-=Ke-De.height,xe==Fe&&(this.children.splice(we--,1),De.parent=null),(se-=Fe)==0)break;I=0}else I-=xe}if(this.size-se<25){var Ye=[];this.collapse(Ye),this.children=[new v(Ye)],this.children[0].parent=this}},collapse:function(I){for(var se=0,te=this.children.length;se<te;++se)this.children[se].collapse(I)},insert:function(I,se){for(var te=0,we=0,De=se.length;we<De;++we)te+=se[we].height;this.insertHeight(I,se,te)},insertHeight:function(I,se,te){this.size+=se.length,this.height+=te;for(var we=0,De=this.children.length;we<De;++we){var xe=this.children[we],Fe=xe.chunkSize();if(I<=Fe){if(xe.insertHeight(I,se,te),xe.lines&&xe.lines.length>50){for(;xe.lines.length>50;){var Ke=xe.lines.splice(xe.lines.length-25,25),Ye=new v(Ke);xe.height-=Ye.height,this.children.splice(we+1,0,Ye),Ye.parent=this}this.maybeSpill()}break}I-=Fe}},maybeSpill:function(){if(!(this.children.length<=10)){var I=this;do{var se=I.children.splice(I.children.length-5,5),te=new D(se);if(I.parent){I.size-=te.size,I.height-=te.height;var De=Yt(I.parent.children,I);I.parent.children.splice(De+1,0,te)}else{var we=new D(I.children);we.parent=I,I.children=[we,te],I=we}te.parent=I.parent}while(I.children.length>10);I.parent.maybeSpill()}},iter:function(I,se,te){this.iterN(I,se-I,te)},iterN:function(I,se,te){for(var we=0,De=this.children.length;we<De;++we){var xe=this.children[we],Fe=xe.chunkSize();if(I<Fe){var Ke=Math.min(se,Fe-I);if(xe.iterN(I,Ke,te))return!0;if((se-=Ke)==0)break;I=0}else I-=Fe}}};function F(I,se){for(;!I.lines;)for(var te=0;;++te){var we=I.children[te],De=we.chunkSize();if(se<De){I=we;break}se-=De}return I.lines[se]}function Z(I){if(I.parent==null)return null;for(var se=I.parent,te=Yt(se.lines,I),we=se.parent;we;se=we,we=we.parent)for(var De=0;we.children[De]!=se;++De)te+=we.children[De].chunkSize();return te}function ae(I,se){var te=0;e:do{for(var we=0,De=I.children.length;we<De;++we){var xe=I.children[we],Fe=xe.height;if(se<Fe){I=xe;continue e}se-=Fe,te+=xe.chunkSize()}return te}while(!I.lines);for(var we=0,De=I.lines.length;we<De;++we){var Ke=I.lines[we],Ye=Ke.height;if(se<Ye)break;se-=Ye}return te+we}function ge(I,se){var te=0;e:do{for(var we=0,De=I.children.length;we<De;++we){var xe=I.children[we],Fe=xe.chunkSize();if(se<Fe){I=xe;continue e}se-=Fe,te+=xe.height}return te}while(!I.lines);for(var we=0;we<se;++we)te+=I.lines[we].height;return te}function Q(){this.time=0,this.done=[],this.undone=[],this.compound=0,this.closed=!1}Q.prototype={addChange:function(I,se,te){this.undone.length=0;var we=+new Date,De=ct(this.done),xe=De&&ct(De),Fe=we-this.time;if(De&&!this.closed&&this.compound)De.push({start:I,added:se,old:te});else if(Fe>400||!xe||this.closed||xe.start>I+te.length||xe.start+xe.added<I)this.done.push([{start:I,added:se,old:te}]),this.closed=!1;else{for(var Ke=Math.max(0,xe.start-I),Ye=Math.max(0,I+te.length-(xe.start+xe.added)),Ze=Ke;Ze>0;--Ze)xe.old.unshift(te[Ze-1]);for(var Ze=Ye;Ze>0;--Ze)xe.old.push(te[te.length-Ze]);Ke&&(xe.start=I),xe.added+=se-(te.length-Ke-Ye)}this.time=we},startCompound:function(){this.compound++||(this.closed=!0)},endCompound:function(){--this.compound||(this.closed=!0)}};function ie(){Pe(this)}function le(I){return I.stop||(I.stop=ie),I}function ce(I){I.preventDefault?I.preventDefault():I.returnValue=!1}function ke(I){I.stopPropagation?I.stopPropagation():I.cancelBubble=!0}function Pe(I){ce(I),ke(I)}t.e_stop=Pe,t.e_preventDefault=ce,t.e_stopPropagation=ke;function ze(I){return I.target||I.srcElement}function je(I){var se=I.which;return se==null&&(I.button&1?se=1:I.button&2?se=3:I.button&4&&(se=2)),O&&I.ctrlKey&&se==1&&(se=3),se}function q(I,se){var te=I.override&&I.override.hasOwnProperty(se);return te?I.override[se]:I[se]}function he(I,se,te,we){if(typeof I.addEventListener=="function"){if(I.addEventListener(se,te,!1),we)return function(){I.removeEventListener(se,te,!1)}}else{var De=function(xe){te(xe||window.event)};if(I.attachEvent("on"+se,De),we)return function(){I.detachEvent("on"+se,De)}}}t.connect=he;function be(){this.id=null}be.prototype={set:function(I,se){clearTimeout(this.id),this.id=setTimeout(se,I)}};var Ce=t.Pass={toString:function(){return"CodeMirror.Pass"}},Te=function(){if(k)return!1;var I=it("div");return"draggable"in I||"dragDrop"in I}();(function(){var I=it("textarea");return I.value=`foo
bar`,I.value.indexOf("\r")>-1?`\r
`:`
`})();var Ie=/^$/;R?Ie=/$'/:U?Ie=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:y&&(Ie=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);function Oe(I,se,te){se==null&&(se=I.search(/[^\s\u00a0]/),se==-1&&(se=I.length));for(var we=0,De=0;we<se;++we)I.charAt(we)=="	"?De+=te-De%te:++De;return De}function Ae(I,se){try{var te=I.getBoundingClientRect();te={top:te.top,left:te.left}}catch{te={top:0,left:0}}if(!se)if(window.pageYOffset==null){var we=document.documentElement||document.body.parentNode;we.scrollTop==null&&(we=document.body),te.top+=we.scrollTop,te.left+=we.scrollLeft}else te.top+=window.pageYOffset,te.left+=window.pageXOffset;return te}function Ge(I){return I.textContent||I.innerText||I.nodeValue||""}var Je=[""];function Ct(I){for(;Je.length<=I;)Je.push(ct(Je)+" ");return Je[I]}function ct(I){return I[I.length-1]}function $t(I){B?(I.selectionStart=0,I.selectionEnd=I.value.length):I.select()}function lt(I,se){return I.line==se.line&&I.ch==se.ch}function Qe(I,se){return I.line<se.line||I.line==se.line&&I.ch<se.ch}function Vt(I){return{line:I.line,ch:I.ch}}function it(I,se,te,we){var De=document.createElement(I);if(te&&(De.className=te),we&&(De.style.cssText=we),typeof se=="string")Gt(De,se);else if(se)for(var xe=0;xe<se.length;++xe)De.appendChild(se[xe]);return De}function Tt(I){return I.innerHTML="",I}function Mt(I,se){Tt(I).appendChild(se)}function Gt(I,se){k?(I.innerHTML="",I.appendChild(document.createTextNode(se))):I.textContent=se}function li(I,se){if(!se)return 0;if(!I)return se.length;for(var te=I.length,we=se.length;te>=0&&we>=0&&I.charAt(te)==se.charAt(we);--te,--we);return we+1}function Yt(I,se){if(I.indexOf)return I.indexOf(se);for(var te=0,we=I.length;te<we;++te)if(I[te]==se)return te;return-1}var Kt=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/;function xi(I){return/\w/.test(I)||I>"\x80"&&(I.toUpperCase()!=I.toLowerCase()||Kt.test(I))}var pi=`

b`.split(/\n/).length!=3?function(I){for(var se=0,te=[],we=I.length;se<=we;){var De=I.indexOf(`
`,se);De==-1&&(De=I.length);var xe=I.slice(se,I.charAt(De-1)=="\r"?De-1:De),Fe=xe.indexOf("\r");Fe!=-1?(te.push(xe.slice(0,Fe)),se+=Fe+1):(te.push(xe),se=De+1)}return te}:function(I){return I.split(/\r\n?|\n/)};t.splitLines=pi;var Ci=window.getSelection?function(I){try{return I.selectionStart!=I.selectionEnd}catch{return!1}}:function(I){try{var se=I.ownerDocument.selection.createRange()}catch{}return!se||se.parentElement()!=I?!1:se.compareEndPoints("StartToEnd",se)!=0};t.defineMode("null",function(){return{token:function(I){I.skipToEnd()}}}),t.defineMIME("text/plain","null");var At={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};return t.keyNames=At,function(){for(var I=0;I<10;I++)At[I+48]=String(I);for(var I=65;I<=90;I++)At[I]=String.fromCharCode(I);for(var I=1;I<=12;I++)At[I+111]=At[I+63235]="F"+I}(),t.version="2.38",t}();CodeMirror.defineMode("javascript",function(t,B){var O=t.indentUnit,p=B.json,z=B.typescript,a=function(){function Q(be){return{type:be,style:"keyword"}}var ie=Q("keyword a"),le=Q("keyword b"),ce=Q("keyword c"),ke=Q("operator"),Pe={type:"atom",style:"atom"},ze={if:ie,while:ie,with:ie,else:le,do:le,try:le,finally:le,return:ce,break:ce,continue:ce,new:ce,delete:ce,throw:ce,var:Q("var"),const:Q("var"),let:Q("var"),function:Q("function"),catch:Q("catch"),for:Q("for"),switch:Q("switch"),case:Q("case"),default:Q("default"),in:ke,typeof:ke,instanceof:ke,true:Pe,false:Pe,null:Pe,undefined:Pe,NaN:Pe,Infinity:Pe};if(z){var je={type:"variable",style:"variable-3"},q={interface:Q("interface"),class:Q("class"),extends:Q("extends"),constructor:Q("constructor"),public:Q("public"),private:Q("private"),protected:Q("protected"),static:Q("static"),super:Q("super"),string:je,number:je,bool:je,any:je};for(var he in q)ze[he]=q[he]}return ze}(),H=/[+\-*&%=<>!?|]/;function b(Q,ie,le){return ie.tokenize=le,le(Q,ie)}function x(Q,ie){for(var le=!1,ce;(ce=Q.next())!=null;){if(ce==ie&&!le)return!1;le=!le&&ce=="\\"}return le}var M,S;function A(Q,ie,le){return M=Q,S=le,ie}function T(Q,ie){var le=Q.next();if(le=='"'||le=="'")return b(Q,ie,R(le));if(/[\[\]{}\(\),;\:\.]/.test(le))return A(le);if(le=="0"&&Q.eat(/x/i))return Q.eatWhile(/[\da-f]/i),A("number","number");if(/\d/.test(le)||le=="-"&&Q.eat(/\d/))return Q.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),A("number","number");if(le=="/")return Q.eat("*")?b(Q,ie,E):Q.eat("/")?(Q.skipToEnd(),A("comment","comment")):ie.lastType=="operator"||ie.lastType=="keyword c"||/^[\[{}\(,;:]$/.test(ie.lastType)?(x(Q,"/"),Q.eatWhile(/[gimy]/),A("regexp","string-2")):(Q.eatWhile(H),A("operator",null,Q.current()));if(le=="#")return Q.skipToEnd(),A("error","error");if(H.test(le))return Q.eatWhile(H),A("operator",null,Q.current());Q.eatWhile(/[\w\$_]/);var ce=Q.current(),ke=a.propertyIsEnumerable(ce)&&a[ce];return ke&&ie.lastType!="."?A(ke.type,ke.style,ce):A("variable","variable",ce)}function R(Q){return function(ie,le){return x(ie,Q)||(le.tokenize=T),A("string","string")}}function E(Q,ie){for(var le=!1,ce;ce=Q.next();){if(ce=="/"&&le){ie.tokenize=T;break}le=ce=="*"}return A("comment","comment")}var u={atom:!0,number:!0,variable:!0,string:!0,regexp:!0};function k(Q,ie,le,ce,ke,Pe){this.indented=Q,this.column=ie,this.type=le,this.prev=ke,this.info=Pe,ce!=null&&(this.align=ce)}function d(Q,ie){for(var le=Q.localVars;le;le=le.next)if(le.name==ie)return!0}function c(Q,ie,le,ce,ke){var Pe=Q.cc;for(g.state=Q,g.stream=ke,g.marked=null,g.cc=Pe,Q.lexical.hasOwnProperty("align")||(Q.lexical.align=!0);;){var ze=Pe.length?Pe.pop():p?ne:V;if(ze(le,ce)){for(;Pe.length&&Pe[Pe.length-1].lex;)Pe.pop()();return g.marked?g.marked:le=="variable"&&d(Q,ce)?"variable-2":ie}}}var g={state:null,column:null,marked:null,cc:null};function y(){for(var Q=arguments.length-1;Q>=0;Q--)g.cc.push(arguments[Q])}function m(){return y.apply(null,arguments),!0}function U(Q){function ie(ce){for(var ke=ce;ke;ke=ke.next)if(ke.name==Q)return!0;return!1}var le=g.state;if(le.context){if(g.marked="def",ie(le.localVars))return;le.localVars={name:Q,next:le.localVars}}else{if(ie(le.globalVars))return;le.globalVars={name:Q,next:le.globalVars}}}var K={name:"this",next:{name:"arguments"}};function J(){g.state.context={prev:g.state.context,vars:g.state.localVars},g.state.localVars=K}function re(){g.state.localVars=g.state.context.vars,g.state.context=g.state.context.prev}function C(Q,ie){var le=function(){var ce=g.state;ce.lexical=new k(ce.indented,g.stream.column(),Q,null,ce.lexical,ie)};return le.lex=!0,le}function G(){var Q=g.state;Q.lexical.prev&&(Q.lexical.type==")"&&(Q.indented=Q.lexical.indented),Q.lexical=Q.lexical.prev)}G.lex=!0;function N(Q){return function(le){return le==Q?m():Q==";"?y():m(arguments.callee)}}function V(Q){return Q=="var"?m(C("vardef"),l,N(";"),G):Q=="keyword a"?m(C("form"),ne,V,G):Q=="keyword b"?m(C("form"),V,G):Q=="{"?m(C("}"),n,G):Q==";"?m():Q=="function"?m(ae):Q=="for"?m(C("form"),N("("),C(")"),v,N(")"),G,V,G):Q=="variable"?m(C("stat"),de):Q=="switch"?m(C("form"),ne,C("}","switch"),N("{"),n,G,G):Q=="case"?m(ne,N(":")):Q=="default"?m(N(":")):Q=="catch"?m(C("form"),J,N("("),ge,N(")"),V,G,re):y(C("stat"),ne,N(";"),G)}function ne(Q){return u.hasOwnProperty(Q)?m(ve):Q=="function"?m(ae):Q=="keyword c"?m(oe):Q=="("?m(C(")"),oe,N(")"),G,ve):Q=="operator"?m(ne):Q=="["?m(C("]"),e(ne,"]"),G,ve):Q=="{"?m(C("}"),e(ye,"}"),G,ve):m()}function oe(Q){return Q.match(/[;\}\)\],]/)?y():y(ne)}function ve(Q,ie){if(Q=="operator"&&/\+\+|--/.test(ie))return m(ve);if(Q=="operator"&&ie=="?")return m(ne,N(":"),ne);if(Q!=";"){if(Q=="(")return m(C(")"),e(ne,")"),G,ve);if(Q==".")return m(fe,ve);if(Q=="[")return m(C("]"),ne,N("]"),G,ve)}}function de(Q){return Q==":"?m(G,V):y(ve,N(";"),G)}function fe(Q){if(Q=="variable")return g.marked="property",m()}function ye(Q){if(Q=="variable"&&(g.marked="property"),u.hasOwnProperty(Q))return m(N(":"),ne)}function e(Q,ie){function le(ce){return ce==","?m(Q,le):ce==ie?m():m(N(ie))}return function(ke){return ke==ie?m():y(Q,le)}}function n(Q){return Q=="}"?m():y(V,n)}function r(Q){return Q==":"?m(s):y()}function s(Q){return Q=="variable"?(g.marked="variable-3",m()):y()}function l(Q,ie){return Q=="variable"?(U(ie),z?m(r,h):m(h)):y()}function h(Q,ie){if(ie=="=")return m(ne,h);if(Q==",")return m(l)}function v(Q){return Q=="var"?m(l,N(";"),F):Q==";"?m(F):Q=="variable"?m(D):m(F)}function D(Q,ie){return ie=="in"?m(ne):m(ve,F)}function F(Q,ie){return Q==";"?m(Z):ie=="in"?m(ne):m(ne,N(";"),Z)}function Z(Q){Q!=")"&&m(ne)}function ae(Q,ie){if(Q=="variable")return U(ie),m(ae);if(Q=="(")return m(C(")"),J,e(ge,")"),G,V,re)}function ge(Q,ie){if(Q=="variable")return U(ie),z?m(r):m()}return{startState:function(Q){return{tokenize:T,lastType:null,cc:[],lexical:new k((Q||0)-O,0,"block",!1),localVars:B.localVars,globalVars:B.globalVars,context:B.localVars&&{vars:B.localVars},indented:0}},token:function(Q,ie){if(Q.sol()&&(ie.lexical.hasOwnProperty("align")||(ie.lexical.align=!1),ie.indented=Q.indentation()),Q.eatSpace())return null;var le=ie.tokenize(Q,ie);return M=="comment"?le:(ie.lastType=M,c(ie,le,M,S,Q))},indent:function(Q,ie){if(Q.tokenize==E)return CodeMirror.Pass;if(Q.tokenize!=T)return 0;var le=ie&&ie.charAt(0),ce=Q.lexical;ce.type=="stat"&&le=="}"&&(ce=ce.prev);var ke=ce.type,Pe=le==ke;return ke=="vardef"?ce.indented+(Q.lastType=="operator"||Q.lastType==","?4:0):ke=="form"&&le=="{"?ce.indented:ke=="form"?ce.indented+O:ke=="stat"?ce.indented+(Q.lastType=="operator"||Q.lastType==","?O:0):ce.info=="switch"&&!Pe?ce.indented+(/^(?:case|default)\b/.test(ie)?O:2*O):ce.align?ce.column+(Pe?0:1):ce.indented+(Pe?0:O)},electricChars:":{}",jsonMode:p}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("text/ecmascript","javascript");CodeMirror.defineMIME("application/javascript","javascript");CodeMirror.defineMIME("application/ecmascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:!0});CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0});CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0});CodeMirror.defineMode("xml",function(t,B){var O=t.indentUnit,p=B.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},z=B.alignCDATA,a,H;function b(C,G){function N(de){return G.tokenize=de,de(C,G)}var V=C.next();if(V=="<"){if(C.eat("!"))return C.eat("[")?C.match("CDATA[")?N(S("atom","]]>")):null:C.match("--")?N(S("comment","-->")):C.match("DOCTYPE",!0,!0)?(C.eatWhile(/[\w\._\-]/),N(A(1))):null;if(C.eat("?"))return C.eatWhile(/[\w\._\-]/),G.tokenize=S("meta","?>"),"meta";var ne=C.eat("/");a="";for(var oe;oe=C.eat(/[^\s\u00a0=<>\"\'\/?]/);)a+=oe;return a?(H=ne?"closeTag":"openTag",G.tokenize=x,"tag"):"error"}else if(V=="&"){var ve;return C.eat("#")?C.eat("x")?ve=C.eatWhile(/[a-fA-F\d]/)&&C.eat(";"):ve=C.eatWhile(/[\d]/)&&C.eat(";"):ve=C.eatWhile(/[\w\.\-:]/)&&C.eat(";"),ve?"atom":"error"}else return C.eatWhile(/[^&<]/),null}function x(C,G){var N=C.next();return N==">"||N=="/"&&C.eat(">")?(G.tokenize=b,H=N==">"?"endTag":"selfcloseTag","tag"):N=="="?(H="equals",null):/[\'\"]/.test(N)?(G.tokenize=M(N),G.tokenize(C,G)):(C.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function M(C){return function(G,N){for(;!G.eol();)if(G.next()==C){N.tokenize=x;break}return"string"}}function S(C,G){return function(N,V){for(;!N.eol();){if(N.match(G)){V.tokenize=b;break}N.next()}return C}}function A(C){return function(G,N){for(var V;(V=G.next())!=null;){if(V=="<")return N.tokenize=A(C+1),N.tokenize(G,N);if(V==">")if(C==1){N.tokenize=b;break}else return N.tokenize=A(C-1),N.tokenize(G,N)}return"meta"}}var T,R;function E(){for(var C=arguments.length-1;C>=0;C--)T.cc.push(arguments[C])}function u(){return E.apply(null,arguments),!0}function k(C,G){var N=p.doNotIndent.hasOwnProperty(C)||T.context&&T.context.noIndent;T.context={prev:T.context,tagName:C,indent:T.indented,startOfLine:G,noIndent:N}}function d(){T.context&&(T.context=T.context.prev)}function c(C){if(C=="openTag")return T.tagName=a,u(U,g(T.startOfLine));if(C=="closeTag"){var G=!1;return T.context?T.context.tagName!=a&&(p.implicitlyClosed.hasOwnProperty(T.context.tagName.toLowerCase())&&d(),G=!T.context||T.context.tagName!=a):G=!0,G&&(R="error"),u(y(G))}return u()}function g(C){return function(G){return G=="selfcloseTag"||G=="endTag"&&p.autoSelfClosers.hasOwnProperty(T.tagName.toLowerCase())?(m(T.tagName.toLowerCase()),u()):(G=="endTag"&&(m(T.tagName.toLowerCase()),k(T.tagName,C)),u())}}function y(C){return function(G){return C&&(R="error"),G=="endTag"?(d(),u()):(R="error",u(arguments.callee))}}function m(C){for(var G;;){if(!T.context||(G=T.context.tagName.toLowerCase(),!p.contextGrabbers.hasOwnProperty(G)||!p.contextGrabbers[G].hasOwnProperty(C)))return;d()}}function U(C){return C=="word"?(R="attribute",u(K,U)):C=="endTag"||C=="selfcloseTag"?E():(R="error",u(U))}function K(C){return C=="equals"?u(J,U):(p.allowMissing?C=="word"&&(R="attribute"):R="error",C=="endTag"||C=="selfcloseTag"?E():u())}function J(C){return C=="string"?u(re):C=="word"&&p.allowUnquoted?(R="string",u()):(R="error",C=="endTag"||C=="selfCloseTag"?E():u())}function re(C){return C=="string"?u(re):E()}return{startState:function(){return{tokenize:b,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(C,G){if(C.sol()&&(G.startOfLine=!0,G.indented=C.indentation()),C.eatSpace())return null;R=H=a=null;var N=G.tokenize(C,G);if(G.type=H,(N||H)&&N!="comment")for(T=G;;){var V=G.cc.pop()||c;if(V(H||N))break}return G.startOfLine=!1,R||N},indent:function(C,G,N){var V=C.context;if(C.tokenize!=x&&C.tokenize!=b||V&&V.noIndent)return N?N.match(/^(\s*)/)[0].length:0;if(z&&/<!\[CDATA\[/.test(G))return 0;for(V&&/^<\//.test(G)&&(V=V.prev);V&&!V.startOfLine;)V=V.prev;return V?V.indent+O:0},electricChars:"/",configuration:B.htmlMode?"html":"xml"}});CodeMirror.defineMIME("text/xml","xml");CodeMirror.defineMIME("application/xml","xml");CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});CodeMirror.defineMode("clike",function(t,B){var O=t.indentUnit,p=B.statementIndentUnit||O,z=B.dontAlignCalls,a=B.keywords||{},H=B.builtin||{},b=B.blockKeywords||{},x=B.atoms||{},M=B.hooks||{},S=B.multiLineStrings,A=/[+\-*&%=<>!?|\/]/,T;function R(g,y){var m=g.next();if(M[m]){var U=M[m](g,y);if(U!==!1)return U}if(m=='"'||m=="'")return y.tokenize=E(m),y.tokenize(g,y);if(/[\[\]{}\(\),;\:\.]/.test(m))return T=m,null;if(/\d/.test(m))return g.eatWhile(/[\w\.]/),"number";if(m=="/"){if(g.eat("*"))return y.tokenize=u,u(g,y);if(g.eat("/"))return g.skipToEnd(),"comment"}if(A.test(m))return g.eatWhile(A),"operator";g.eatWhile(/[\w\$_]/);var K=g.current();return a.propertyIsEnumerable(K)?(b.propertyIsEnumerable(K)&&(T="newstatement"),"keyword"):H.propertyIsEnumerable(K)?(b.propertyIsEnumerable(K)&&(T="newstatement"),"builtin"):x.propertyIsEnumerable(K)?"atom":"variable"}function E(g){return function(y,m){for(var U=!1,K,J=!1;(K=y.next())!=null;){if(K==g&&!U){J=!0;break}U=!U&&K=="\\"}return(J||!(U||S))&&(m.tokenize=null),"string"}}function u(g,y){for(var m=!1,U;U=g.next();){if(U=="/"&&m){y.tokenize=null;break}m=U=="*"}return"comment"}function k(g,y,m,U,K){this.indented=g,this.column=y,this.type=m,this.align=U,this.prev=K}function d(g,y,m){var U=g.indented;return g.context&&g.context.type=="statement"&&(U=g.context.indented),g.context=new k(U,y,m,null,g.context)}function c(g){var y=g.context.type;return(y==")"||y=="]"||y=="}")&&(g.indented=g.context.indented),g.context=g.context.prev}return{startState:function(g){return{tokenize:null,context:new k((g||0)-O,0,"top",!1),indented:0,startOfLine:!0}},token:function(g,y){var m=y.context;if(g.sol()&&(m.align==null&&(m.align=!1),y.indented=g.indentation(),y.startOfLine=!0),g.eatSpace())return null;T=null;var U=(y.tokenize||R)(g,y);if(U=="comment"||U=="meta")return U;if(m.align==null&&(m.align=!0),(T==";"||T==":"||T==",")&&m.type=="statement")c(y);else if(T=="{")d(y,g.column(),"}");else if(T=="[")d(y,g.column(),"]");else if(T=="(")d(y,g.column(),")");else if(T=="}"){for(;m.type=="statement";)m=c(y);for(m.type=="}"&&(m=c(y));m.type=="statement";)m=c(y)}else T==m.type?c(y):((m.type=="}"||m.type=="top")&&T!=";"||m.type=="statement"&&T=="newstatement")&&d(y,g.column(),"statement");return y.startOfLine=!1,U},indent:function(g,y){if(g.tokenize==u)return CodeMirror.Pass;if(g.tokenize!=R&&g.tokenize!=null)return 0;var m=g.context,U=y&&y.charAt(0);m.type=="statement"&&U=="}"&&(m=m.prev);var K=U==m.type;return m.type=="statement"?m.indented+(U=="{"?0:p):z&&m.type==")"&&!K?m.indented+p:m.align?m.column+(K?0:1):m.indented+(K?0:O)},electricChars:"{}"}});(function(){function t(a){for(var H={},b=a.split(" "),x=0;x<b.length;++x)H[b[x]]=!0;return H}var B="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";function O(a,H){if(!H.startOfLine)return!1;for(;;)if(a.skipTo("\\")){if(a.next(),a.eol()){H.tokenize=O;break}}else{a.skipToEnd(),H.tokenize=null;break}return"meta"}function p(a,H){for(var b;(b=a.next())!=null;)if(b=='"'&&!a.eat('"')){H.tokenize=null;break}return"string"}function z(a,H){for(var b=0;b<a.length;++b)CodeMirror.defineMIME(a[b],H)}z(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:t(B),blockKeywords:t("case do else for if switch while struct"),atoms:t("null"),hooks:{"#":O}}),z(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:t(B+" asm dynamic_cast namespace reinterpret_cast try bool explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected wchar_t"),blockKeywords:t("catch class do else finally for if struct switch try while"),atoms:t("true false null"),hooks:{"#":O}}),CodeMirror.defineMIME("text/x-java",{name:"clike",keywords:t("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:t("catch class do else finally for if switch try while"),atoms:t("true false null"),hooks:{"@":function(a,H){return a.eatWhile(/[\w\$_]/),"meta"}}}),CodeMirror.defineMIME("text/x-csharp",{name:"clike",keywords:t("abstract as base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:t("catch class do else finally for foreach if struct switch try while"),builtin:t("Boolean Byte Char DateTime DateTimeOffset Decimal Double Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),atoms:t("true false null"),hooks:{"@":function(a,H){return a.eat('"')?(H.tokenize=p,p(a,H)):(a.eatWhile(/[\w\$_]/),"meta")}}}),CodeMirror.defineMIME("text/x-scala",{name:"clike",keywords:t("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),blockKeywords:t("catch class do else finally for forSome if match switch try while"),atoms:t("true false null"),hooks:{"@":function(a,H){return a.eatWhile(/[\w\$_]/),"meta"}}})})();CodeMirror.defineMode("css",function(t){var B=t.indentUnit,O,p=x(["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"]),z=x(["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"]),a=x(["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid-cell","grid-column","grid-column-align","grid-column-sizing","grid-column-span","grid-columns","grid-flow","grid-row","grid-row-align","grid-row-sizing","grid-row-span","grid-rows","grid-template","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-shadow","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"]),H=x(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua"]),b=x(["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","navy","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","overlay","overline","padding","padding-box","painted","paused","persian","plus-darker","plus-lighter","pointer","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","white","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small","yellow"]);function x(u){for(var k={},d=0;d<u.length;++d)k[u[d]]=!0;return k}function M(u,k){return O=k,u}function S(u,k){var d=u.next();if(d=="@")return u.eatWhile(/[\w\\\-]/),M("def",u.current());if(d=="/"&&u.eat("*"))return k.tokenize=A,A(u,k);if(d=="<"&&u.eat("!"))return k.tokenize=T,T(u,k);if(d=="=")M(null,"compare");else{if((d=="~"||d=="|")&&u.eat("="))return M(null,"compare");if(d=='"'||d=="'")return k.tokenize=R(d),k.tokenize(u,k);if(d=="#")return u.eatWhile(/[\w\\\-]/),M("atom","hash");if(d=="!")return u.match(/^\s*\w*/),M("keyword","important");if(/\d/.test(d))return u.eatWhile(/[\w.%]/),M("number","unit");if(d==="-"){if(/\d/.test(u.peek()))return u.eatWhile(/[\w.%]/),M("number","unit");if(u.match(/^[^-]+-/))return M("meta",O)}else return/[,+>*\/]/.test(d)?M(null,"select-op"):d=="."&&u.match(/^-?[_a-z][_a-z0-9-]*/i)?M("qualifier",O):d==":"?M("operator",d):/[;{}\[\]\(\)]/.test(d)?M(null,d):d=="u"&&u.match("rl(")?(u.backUp(1),k.tokenize=E,M("property","variable")):(u.eatWhile(/[\w\\\-]/),M("property","variable"))}}function A(u,k){for(var d=!1,c;(c=u.next())!=null;){if(d&&c=="/"){k.tokenize=S;break}d=c=="*"}return M("comment","comment")}function T(u,k){for(var d=0,c;(c=u.next())!=null;){if(d>=2&&c==">"){k.tokenize=S;break}d=c=="-"?d+1:0}return M("comment","comment")}function R(u,k){return function(d,c){for(var g=!1,y;(y=d.next())!=null&&!(y==u&&!g);)g=!g&&y=="\\";return g||(k&&d.backUp(1),c.tokenize=S),M("string","string")}}function E(u,k){return u.next(),u.match(/\s*[\"\']/,!1)?k.tokenize=S:k.tokenize=R(")",!0),M(null,"(")}return{startState:function(u){return{tokenize:S,baseIndent:u||0,stack:[]}},token:function(u,k){if(k.tokenize==S&&u.eatSpace())return null;var d=k.tokenize(u,k),c=k.stack[k.stack.length-1];return d=="property"?c=="propertyValue"?b[u.current()]?d="string-2":H[u.current()]?d="keyword":d="variable-2":c=="rule"?a[u.current()]||(d+=" error"):!c||c=="@media{"?d="tag":c=="@media"?p[u.current()]?d="attribute":/^(only|not)$/i.test(u.current())?d="keyword":u.current().toLowerCase()=="and"||z[u.current()]?d="error":d="attribute error":c=="@mediaType"?p[u.current()]?d="attribute":u.current().toLowerCase()=="and"?d="operator":(/^(only|not)$/i.test(u.current())||z[u.current()],d="error"):c=="@mediaType("?a[u.current()]||(p[u.current()]?d="error":u.current().toLowerCase()=="and"?d="operator":/^(only|not)$/i.test(u.current())?d="error":d+=" error"):d="error":d=="atom"?!c||c=="@media{"?d="builtin":c=="propertyValue"?/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(u.current())||(d+=" error"):d="error":c=="@media"&&O=="{"&&(d="error"),O=="{"?c=="@media"||c=="@mediaType"?(k.stack.pop(),k.stack[k.stack.length-1]="@media{"):k.stack.push("rule"):O=="}"?(k.stack.pop(),c=="propertyValue"&&k.stack.pop()):O=="@media"?k.stack.push("@media"):c=="@media"&&/\b(keyword|attribute)\b/.test(d)?k.stack.push("@mediaType"):c=="@mediaType"&&u.current()==","?k.stack.pop():c=="@mediaType"&&O=="("?k.stack.push("@mediaType("):c=="@mediaType("&&O==")"?k.stack.pop():c=="rule"&&O==":"?k.stack.push("propertyValue"):c=="propertyValue"&&O==";"&&k.stack.pop(),d},indent:function(u,k){var d=u.stack.length;return/^\}/.test(k)&&(d-=u.stack[u.stack.length-1]=="propertyValue"?2:1),u.baseIndent+d*B},electricChars:"}"}});CodeMirror.defineMIME("text/css","css");CodeMirror.multiplexingMode=function(t){var B=Array.prototype.slice.call(arguments,1),O=B.length;function p(z,a,H){if(typeof a=="string")return z.indexOf(a,H);var b=a.exec(H?z.slice(H):z);return b?b.index+H:-1}return{startState:function(){return{outer:CodeMirror.startState(t),innerActive:null,inner:null}},copyState:function(z){return{outer:CodeMirror.copyState(t,z.outer),innerActive:z.innerActive,inner:z.innerActive&&CodeMirror.copyState(z.innerActive.mode,z.inner)}},token:function(z,a){if(a.innerActive){var T=a.innerActive,b=z.string,S=p(b,T.close,z.pos);if(S==z.pos)return z.match(T.close),a.innerActive=a.inner=null,T.delimStyle;S>-1&&(z.string=b.slice(0,S));var R=T.mode.token(z,a.inner);S>-1&&(z.string=b);var E=z.current(),S=E.indexOf(T.close);return S>-1&&z.backUp(E.length-S),R}else{for(var H=1/0,b=z.string,x=0;x<O;++x){var M=B[x],S=p(b,M.open,z.pos);if(S==z.pos)return z.match(M.open),a.innerActive=M,a.inner=CodeMirror.startState(M.mode,t.indent?t.indent(a.outer,""):0),M.delimStyle;S!=-1&&S<H&&(H=S)}H!=1/0&&(z.string=b.slice(0,H));var A=t.token(z,a.outer);return H!=1/0&&(z.string=b),A}},indent:function(z,a){var H=z.innerActive?z.innerActive.mode:t;return H.indent?H.indent(z.innerActive?z.inner:z.outer,a):CodeMirror.Pass},blankLine:function(z){var a=z.innerActive?z.innerActive.mode:t;if(a.blankLine&&a.blankLine(z.innerActive?z.inner:z.outer),z.innerActive)a.close===`
`&&(z.innerActive=z.inner=null);else for(var H=0;H<O;++H){var b=B[H];b.open===`
`&&(z.innerActive=b,z.inner=CodeMirror.startState(b.mode,a.indent?a.indent(z.outer,""):0))}},electricChars:t.electricChars,innerMode:function(z){return z.inner?{state:z.inner,mode:z.innerActive.mode}:{state:z.outer,mode:t}}}};(function(){CodeMirror.defaults.closeTagEnabled=!0,CodeMirror.defaults.closeTagIndent=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"],CodeMirror.defaults.closeTagVoid=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function t(H,b){var x=CodeMirror.innerMode(H.getMode(),b);if(x.mode.name=="xml")return x.state}CodeMirror.defineExtension("closeTag",function(H,b,x,M){if(!H.getOption("closeTagEnabled"))throw CodeMirror.Pass;var S=H.getCursor(),A=H.getTokenAt(S),T=t(H,A.state);if(T){if(b==">"){var R=T.type;if(A.className=="tag"&&R=="closeTag"||(H.replaceSelection(">"),S={line:S.line,ch:S.ch+1},H.setCursor(S),A=H.getTokenAt(H.getCursor()),T=t(H,A.state),!T))throw CodeMirror.Pass;var R=T.type;if(A.className=="tag"&&R!="selfcloseTag"){var E=T.tagName;E.length>0&&p(H,M,E)&&B(H,x,S,E);return}H.setSelection({line:S.line,ch:S.ch-1},S),H.replaceSelection("")}else if(b=="/"&&A.className=="tag"&&A.string=="<"){var u=T.context,E=u?u.tagName:"";if(E.length>0){a(H,S,E);return}}}throw CodeMirror.Pass});function B(H,b,x,M){O(H,b,M)?(H.replaceSelection(`

</`+M+">","end"),H.indentLine(x.line+1),H.indentLine(x.line+2),H.setCursor({line:x.line+1,ch:H.getLine(x.line+1).length})):(H.replaceSelection("</"+M+">"),H.setCursor(x))}function O(H,b,x){return(typeof b>"u"||b==null||b==!0)&&(b=H.getOption("closeTagIndent")),b||(b=[]),z(b,x.toLowerCase())!=-1}function p(H,b,x){return H.getOption("mode")=="xml"?!0:((typeof b>"u"||b==null)&&(b=H.getOption("closeTagVoid")),b||(b=[]),z(b,x.toLowerCase())==-1)}function z(H,b){if(H.indexOf)return H.indexOf(b);for(var x=0,M=H.length;x<M;++x)if(H[x]==b)return x;return-1}function a(H,b,x){H.replaceSelection("/"+x+">"),H.setCursor({line:b.line,ch:b.ch+x.length+2})}})();function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var html2canvas$1={exports:{}};(function(t,B){(function(O){t.exports=O()})(function(){return function O(p,z,a){function H(M,S){if(!z[M]){if(!p[M]){var A=typeof commonjsRequire=="function"&&commonjsRequire;if(!S&&A)return A(M,!0);if(b)return b(M,!0);var T=new Error("Cannot find module '"+M+"'");throw T.code="MODULE_NOT_FOUND",T}var R=z[M]={exports:{}};p[M][0].call(R.exports,function(E){var u=p[M][1][E];return H(u||E)},R,R.exports,O,p,z,a)}return z[M].exports}for(var b=typeof commonjsRequire=="function"&&commonjsRequire,x=0;x<a.length;x++)H(a[x]);return H}({1:[function(O,p,z){(function(a){(function(H){var b=typeof z=="object"&&z&&!z.nodeType&&z,x=typeof p=="object"&&p&&!p.nodeType&&p,M=typeof a=="object"&&a;(M.global===M||M.window===M||M.self===M)&&(H=M);var S,A=2147483647,T=36,R=1,E=26,u=38,k=700,d=72,c=128,g="-",y=/^xn--/,m=/[^\x20-\x7E]/,U=/[\x2E\u3002\uFF0E\uFF61]/g,K={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=T-R,re=Math.floor,C=String.fromCharCode,G;function N(l){throw new RangeError(K[l])}function V(l,h){for(var v=l.length,D=[];v--;)D[v]=h(l[v]);return D}function ne(l,h){var v=l.split("@"),D="";v.length>1&&(D=v[0]+"@",l=v[1]),l=l.replace(U,".");var F=l.split("."),Z=V(F,h).join(".");return D+Z}function oe(l){for(var h=[],v=0,D=l.length,F,Z;v<D;)F=l.charCodeAt(v++),F>=55296&&F<=56319&&v<D?(Z=l.charCodeAt(v++),(Z&64512)==56320?h.push(((F&1023)<<10)+(Z&1023)+65536):(h.push(F),v--)):h.push(F);return h}function ve(l){return V(l,function(h){var v="";return h>65535&&(h-=65536,v+=C(h>>>10&1023|55296),h=56320|h&1023),v+=C(h),v}).join("")}function de(l){return l-48<10?l-22:l-65<26?l-65:l-97<26?l-97:T}function fe(l,h){return l+22+75*(l<26)-((h!=0)<<5)}function ye(l,h,v){var D=0;for(l=v?re(l/k):l>>1,l+=re(l/h);l>J*E>>1;D+=T)l=re(l/J);return re(D+(J+1)*l/(l+u))}function e(l){var h=[],v=l.length,D,F=0,Z=c,ae=d,ge,Q,ie,le,ce,ke,Pe,ze,je;for(ge=l.lastIndexOf(g),ge<0&&(ge=0),Q=0;Q<ge;++Q)l.charCodeAt(Q)>=128&&N("not-basic"),h.push(l.charCodeAt(Q));for(ie=ge>0?ge+1:0;ie<v;){for(le=F,ce=1,ke=T;ie>=v&&N("invalid-input"),Pe=de(l.charCodeAt(ie++)),(Pe>=T||Pe>re((A-F)/ce))&&N("overflow"),F+=Pe*ce,ze=ke<=ae?R:ke>=ae+E?E:ke-ae,!(Pe<ze);ke+=T)je=T-ze,ce>re(A/je)&&N("overflow"),ce*=je;D=h.length+1,ae=ye(F-le,D,le==0),re(F/D)>A-Z&&N("overflow"),Z+=re(F/D),F%=D,h.splice(F++,0,Z)}return ve(h)}function n(l){var h,v,D,F,Z,ae,ge,Q,ie,le,ce,ke=[],Pe,ze,je,q;for(l=oe(l),Pe=l.length,h=c,v=0,Z=d,ae=0;ae<Pe;++ae)ce=l[ae],ce<128&&ke.push(C(ce));for(D=F=ke.length,F&&ke.push(g);D<Pe;){for(ge=A,ae=0;ae<Pe;++ae)ce=l[ae],ce>=h&&ce<ge&&(ge=ce);for(ze=D+1,ge-h>re((A-v)/ze)&&N("overflow"),v+=(ge-h)*ze,h=ge,ae=0;ae<Pe;++ae)if(ce=l[ae],ce<h&&++v>A&&N("overflow"),ce==h){for(Q=v,ie=T;le=ie<=Z?R:ie>=Z+E?E:ie-Z,!(Q<le);ie+=T)q=Q-le,je=T-le,ke.push(C(fe(le+q%je,0))),Q=re(q/je);ke.push(C(fe(Q,0))),Z=ye(v,ze,D==F),v=0,++D}++v,++h}return ke.join("")}function r(l){return ne(l,function(h){return y.test(h)?e(h.slice(4).toLowerCase()):h})}function s(l){return ne(l,function(h){return m.test(h)?"xn--"+n(h):h})}if(S={version:"1.3.2",ucs2:{decode:oe,encode:ve},decode:e,encode:n,toASCII:s,toUnicode:r},b&&x)if(p.exports==b)x.exports=S;else for(G in S)S.hasOwnProperty(G)&&(b[G]=S[G]);else H.punycode=S})(this)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(O,p,z){var a=O("./log");function H(S,A,T){S.defaultView&&(A!==S.defaultView.pageXOffset||T!==S.defaultView.pageYOffset)&&S.defaultView.scrollTo(A,T)}function b(S,A){try{A&&(A.width=S.width,A.height=S.height,A.getContext("2d").putImageData(S.getContext("2d").getImageData(0,0,S.width,S.height),0,0))}catch(T){a("Unable to copy canvas content from",S,T)}}function x(S,A){for(var T=S.nodeType===3?document.createTextNode(S.nodeValue):S.cloneNode(!1),R=S.firstChild;R;)(A===!0||R.nodeType!==1||R.nodeName!=="SCRIPT")&&T.appendChild(x(R,A)),R=R.nextSibling;return S.nodeType===1&&(T._scrollTop=S.scrollTop,T._scrollLeft=S.scrollLeft,S.nodeName==="CANVAS"?b(S,T):(S.nodeName==="TEXTAREA"||S.nodeName==="SELECT")&&(T.value=S.value)),T}function M(S){if(S.nodeType===1){S.scrollTop=S._scrollTop,S.scrollLeft=S._scrollLeft;for(var A=S.firstChild;A;)M(A),A=A.nextSibling}}p.exports=function(S,A,T,R,E,u,k){var d=x(S.documentElement,E.javascriptEnabled),c=A.createElement("iframe");return c.className="html2canvas-container",c.style.visibility="hidden",c.style.position="fixed",c.style.left="-10000px",c.style.top="0px",c.style.border="0",c.width=T,c.height=R,c.scrolling="no",A.body.appendChild(c),new Promise(function(g){var y=c.contentWindow.document;c.contentWindow.onload=c.onload=function(){var m=setInterval(function(){y.body.childNodes.length>0&&(M(y.documentElement),clearInterval(m),E.type==="view"&&(c.contentWindow.scrollTo(u,k),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(c.contentWindow.scrollY!==k||c.contentWindow.scrollX!==u)&&(y.documentElement.style.top=-k+"px",y.documentElement.style.left=-u+"px",y.documentElement.style.position="absolute")),g(c))},50)},y.open(),y.write("<!DOCTYPE html><html></html>"),H(S,u,k),y.replaceChild(y.adoptNode(d),y.documentElement),y.close()})}},{"./log":13}],3:[function(O,p,z){function a(A){this.r=0,this.g=0,this.b=0,this.a=null,this.fromArray(A)||this.namedColor(A)||this.rgb(A)||this.rgba(A)||this.hex6(A)||this.hex3(A)}a.prototype.darken=function(A){var T=1-A;return new a([Math.round(this.r*T),Math.round(this.g*T),Math.round(this.b*T),this.a])},a.prototype.isTransparent=function(){return this.a===0},a.prototype.isBlack=function(){return this.r===0&&this.g===0&&this.b===0},a.prototype.fromArray=function(A){return Array.isArray(A)&&(this.r=Math.min(A[0],255),this.g=Math.min(A[1],255),this.b=Math.min(A[2],255),A.length>3&&(this.a=A[3])),Array.isArray(A)};var H=/^#([a-f0-9]{3})$/i;a.prototype.hex3=function(A){var T=null;return(T=A.match(H))!==null&&(this.r=parseInt(T[1][0]+T[1][0],16),this.g=parseInt(T[1][1]+T[1][1],16),this.b=parseInt(T[1][2]+T[1][2],16)),T!==null};var b=/^#([a-f0-9]{6})$/i;a.prototype.hex6=function(A){var T=null;return(T=A.match(b))!==null&&(this.r=parseInt(T[1].substring(0,2),16),this.g=parseInt(T[1].substring(2,4),16),this.b=parseInt(T[1].substring(4,6),16)),T!==null};var x=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;a.prototype.rgb=function(A){var T=null;return(T=A.match(x))!==null&&(this.r=Number(T[1]),this.g=Number(T[2]),this.b=Number(T[3])),T!==null};var M=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;a.prototype.rgba=function(A){var T=null;return(T=A.match(M))!==null&&(this.r=Number(T[1]),this.g=Number(T[2]),this.b=Number(T[3]),this.a=Number(T[4])),T!==null},a.prototype.toString=function(){return this.a!==null&&this.a!==1?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},a.prototype.namedColor=function(A){A=A.toLowerCase();var T=S[A];if(T)this.r=T[0],this.g=T[1],this.b=T[2];else if(A==="transparent")return this.r=this.g=this.b=this.a=0,!0;return!!T},a.prototype.isColor=!0;var S={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};p.exports=a},{}],4:[function(O,p,z){var a=O("./support"),H=O("./renderers/canvas"),b=O("./imageloader"),x=O("./nodeparser"),M=O("./nodecontainer"),S=O("./log"),A=O("./utils"),T=O("./clone"),R=O("./proxy").loadUrlDocument,E=A.getBounds,u="data-html2canvas-node",k=0;function d(C,G){var N=k++;if(G=G||{},G.logging&&(S.options.logging=!0,S.options.start=Date.now()),G.async=typeof G.async>"u"?!0:G.async,G.allowTaint=typeof G.allowTaint>"u"?!1:G.allowTaint,G.removeContainer=typeof G.removeContainer>"u"?!0:G.removeContainer,G.javascriptEnabled=typeof G.javascriptEnabled>"u"?!1:G.javascriptEnabled,G.imageTimeout=typeof G.imageTimeout>"u"?1e4:G.imageTimeout,G.renderer=typeof G.renderer=="function"?G.renderer:H,G.strict=!!G.strict,typeof C=="string"){if(typeof G.proxy!="string")return Promise.reject("Proxy must be used when rendering url");var V=G.width!=null?G.width:window.innerWidth,ne=G.height!=null?G.height:window.innerHeight;return R(re(C),G.proxy,document,V,ne,G).then(function(ve){return y(ve.contentWindow.document.documentElement,ve,G,V,ne)})}var oe=(C===void 0?[document.documentElement]:C.length?C:[C])[0];return oe.setAttribute(u+N,N),g(oe.ownerDocument,G,oe.ownerDocument.defaultView.innerWidth,oe.ownerDocument.defaultView.innerHeight,N).then(function(ve){return typeof G.onrendered=="function"&&(S("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),G.onrendered(ve)),ve})}d.CanvasRenderer=H,d.NodeContainer=M,d.log=S,d.utils=A;var c=typeof document>"u"||typeof Object.create!="function"||typeof document.createElement("canvas").getContext!="function"?function(){return Promise.reject("No canvas support")}:d;p.exports=c;function g(C,G,N,V,ne){return T(C,C,N,V,G,C.defaultView.pageXOffset,C.defaultView.pageYOffset).then(function(oe){S("Document cloned");var ve=u+ne,de="["+ve+"='"+ne+"']";C.querySelector(de).removeAttribute(ve);var fe=oe.contentWindow,ye=fe.document.querySelector(de),e=typeof G.onclone=="function"?Promise.resolve(G.onclone(fe.document)):Promise.resolve(!0);return e.then(function(){return y(ye,oe,G,N,V)})})}function y(C,G,N,V,ne){var oe=G.contentWindow,ve=new a(oe.document),de=new b(N,ve),fe=E(C),ye=N.type==="view"?V:K(oe.document),e=N.type==="view"?ne:J(oe.document),n=new N.renderer(ye,e,de,N,document),r=new x(C,n,ve,de,N);return r.ready.then(function(){S("Finished rendering");var s;return N.type==="view"?s=U(n.canvas,{width:n.canvas.width,height:n.canvas.height,top:0,left:0,x:0,y:0}):C===oe.document.body||C===oe.document.documentElement||N.canvas!=null?s=n.canvas:s=U(n.canvas,{width:N.width!=null?N.width:fe.width,height:N.height!=null?N.height:fe.height,top:fe.top,left:fe.left,x:0,y:0}),m(G,N),s})}function m(C,G){G.removeContainer&&(C.parentNode.removeChild(C),S("Cleaned up container"))}function U(C,G){var N=document.createElement("canvas"),V=Math.min(C.width-1,Math.max(0,G.left)),ne=Math.min(C.width,Math.max(1,G.left+G.width)),oe=Math.min(C.height-1,Math.max(0,G.top)),ve=Math.min(C.height,Math.max(1,G.top+G.height));N.width=G.width,N.height=G.height;var de=ne-V,fe=ve-oe;return S("Cropping canvas at:","left:",G.left,"top:",G.top,"width:",de,"height:",fe),S("Resulting crop with width",G.width,"and height",G.height,"with x",V,"and y",oe),N.getContext("2d").drawImage(C,V,oe,de,fe,G.x,G.y,de,fe),N}function K(C){return Math.max(Math.max(C.body.scrollWidth,C.documentElement.scrollWidth),Math.max(C.body.offsetWidth,C.documentElement.offsetWidth),Math.max(C.body.clientWidth,C.documentElement.clientWidth))}function J(C){return Math.max(Math.max(C.body.scrollHeight,C.documentElement.scrollHeight),Math.max(C.body.offsetHeight,C.documentElement.offsetHeight),Math.max(C.body.clientHeight,C.documentElement.clientHeight))}function re(C){var G=document.createElement("a");return G.href=C,G.href=G.href,G}},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(O,p,z){var a=O("./log"),H=O("./utils").smallImage;function b(x){if(this.src=x,a("DummyImageContainer for",x),!this.promise||!this.image){a("Initiating DummyImageContainer"),b.prototype.image=new Image;var M=this.image;b.prototype.promise=new Promise(function(S,A){M.onload=S,M.onerror=A,M.src=H(),M.complete===!0&&S(M)})}}p.exports=b},{"./log":13,"./utils":26}],6:[function(O,p,z){var a=O("./utils").smallImage;function H(b,x){var M=document.createElement("div"),S=document.createElement("img"),A=document.createElement("span"),T="Hidden Text",R,E;M.style.visibility="hidden",M.style.fontFamily=b,M.style.fontSize=x,M.style.margin=0,M.style.padding=0,document.body.appendChild(M),S.src=a(),S.width=1,S.height=1,S.style.margin=0,S.style.padding=0,S.style.verticalAlign="baseline",A.style.fontFamily=b,A.style.fontSize=x,A.style.margin=0,A.style.padding=0,A.appendChild(document.createTextNode(T)),M.appendChild(A),M.appendChild(S),R=S.offsetTop-A.offsetTop+1,M.removeChild(A),M.appendChild(document.createTextNode(T)),M.style.lineHeight="normal",S.style.verticalAlign="super",E=S.offsetTop-M.offsetTop+1,document.body.removeChild(M),this.baseline=R,this.lineWidth=1,this.middle=E}p.exports=H},{"./utils":26}],7:[function(O,p,z){var a=O("./font");function H(){this.data={}}H.prototype.getMetrics=function(b,x){return this.data[b+"-"+x]===void 0&&(this.data[b+"-"+x]=new a(b,x)),this.data[b+"-"+x]},p.exports=H},{"./font":6}],8:[function(O,p,z){var a=O("./utils"),H=a.getBounds,b=O("./proxy").loadUrlDocument;function x(M,S,A){this.image=null,this.src=M;var T=this,R=H(M);this.promise=(S?new Promise(function(E){M.contentWindow.document.URL==="about:blank"||M.contentWindow.document.documentElement==null?M.contentWindow.onload=M.onload=function(){E(M)}:E(M)}):this.proxyLoad(A.proxy,R,A)).then(function(E){var u=O("./core");return u(E.contentWindow.document.documentElement,{type:"view",width:E.width,height:E.height,proxy:A.proxy,javascriptEnabled:A.javascriptEnabled,removeContainer:A.removeContainer,allowTaint:A.allowTaint,imageTimeout:A.imageTimeout/2})}).then(function(E){return T.image=E})}x.prototype.proxyLoad=function(M,S,A){var T=this.src;return b(T.src,M,T.ownerDocument,S.width,S.height,A)},p.exports=x},{"./core":4,"./proxy":16,"./utils":26}],9:[function(O,p,z){function a(H){this.src=H.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}a.TYPES={LINEAR:1,RADIAL:2},a.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,p.exports=a},{}],10:[function(O,p,z){function a(H,b){this.src=H,this.image=new Image;var x=this;this.tainted=null,this.promise=new Promise(function(M,S){x.image.onload=M,x.image.onerror=S,b&&(x.image.crossOrigin="anonymous"),x.image.src=H,x.image.complete===!0&&M(x.image)})}p.exports=a},{}],11:[function(O,p,z){var a=O("./log"),H=O("./imagecontainer"),b=O("./dummyimagecontainer"),x=O("./proxyimagecontainer"),M=O("./framecontainer"),S=O("./svgcontainer"),A=O("./svgnodecontainer"),T=O("./lineargradientcontainer"),R=O("./webkitgradientcontainer"),E=O("./utils").bind;function u(k,d){this.link=null,this.options=k,this.support=d,this.origin=this.getOrigin(window.location.href)}u.prototype.findImages=function(k){var d=[];return k.reduce(function(c,g){switch(g.node.nodeName){case"IMG":return c.concat([{args:[g.node.src],method:"url"}]);case"svg":case"IFRAME":return c.concat([{args:[g.node],method:g.node.nodeName}])}return c},[]).forEach(this.addImage(d,this.loadImage),this),d},u.prototype.findBackgroundImage=function(k,d){return d.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(k,this.loadImage),this),k},u.prototype.addImage=function(k,d){return function(c){c.args.forEach(function(g){this.imageExists(k,g)||(k.splice(0,0,d.call(this,c)),a("Added image #"+k.length,typeof g=="string"?g.substring(0,100):g))},this)}},u.prototype.hasImageBackground=function(k){return k.method!=="none"},u.prototype.loadImage=function(k){if(k.method==="url"){var d=k.args[0];return this.isSVG(d)&&!this.support.svg&&!this.options.allowTaint?new S(d):d.match(/data:image\/.*;base64,/i)?new H(d.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),!1):this.isSameOrigin(d)||this.options.allowTaint===!0||this.isSVG(d)?new H(d,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new H(d,!0):this.options.proxy?new x(d,this.options.proxy):new b(d)}else return k.method==="linear-gradient"?new T(k):k.method==="gradient"?new R(k):k.method==="svg"?new A(k.args[0],this.support.svg):k.method==="IFRAME"?new M(k.args[0],this.isSameOrigin(k.args[0].src),this.options):new b(k)},u.prototype.isSVG=function(k){return k.substring(k.length-3).toLowerCase()==="svg"||S.prototype.isInline(k)},u.prototype.imageExists=function(k,d){return k.some(function(c){return c.src===d})},u.prototype.isSameOrigin=function(k){return this.getOrigin(k)===this.origin},u.prototype.getOrigin=function(k){var d=this.link||(this.link=document.createElement("a"));return d.href=k,d.href=d.href,d.protocol+d.hostname+d.port},u.prototype.getPromise=function(k){return this.timeout(k,this.options.imageTimeout).catch(function(){var d=new b(k.src);return d.promise.then(function(c){k.image=c})})},u.prototype.get=function(k){var d=null;return this.images.some(function(c){return(d=c).src===k})?d:null},u.prototype.fetch=function(k){return this.images=k.reduce(E(this.findBackgroundImage,this),this.findImages(k)),this.images.forEach(function(d,c){d.promise.then(function(){a("Succesfully loaded image #"+(c+1),d)},function(g){a("Failed loading image #"+(c+1),d,g)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),a("Finished searching images"),this},u.prototype.timeout=function(k,d){var c,g=Promise.race([k.promise,new Promise(function(y,m){c=setTimeout(function(){a("Timed out loading image",k),m(k)},d)})]).then(function(y){return clearTimeout(c),y});return g.catch(function(){clearTimeout(c)}),g},p.exports=u},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(O,p,z){var a=O("./gradientcontainer"),H=O("./color");function b(x){a.apply(this,arguments),this.type=a.TYPES.LINEAR;var M=b.REGEXP_DIRECTION.test(x.args[0])||!a.REGEXP_COLORSTOP.test(x.args[0]);M?x.args[0].split(/\s+/).reverse().forEach(function(S,A){switch(S){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var T=this.y0,R=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=R,this.y1=T;break;case"center":break;default:var E=parseFloat(S,10)*.01;if(isNaN(E))break;A===0?(this.y0=E,this.y1=1-this.y0):(this.x0=E,this.x1=1-this.x0);break}},this):(this.y0=0,this.y1=1),this.colorStops=x.args.slice(M?1:0).map(function(S){var A=S.match(a.REGEXP_COLORSTOP),T=+A[2],R=T===0?"%":A[3];return{color:new H(A[1]),stop:R==="%"?T/100:null}}),this.colorStops[0].stop===null&&(this.colorStops[0].stop=0),this.colorStops[this.colorStops.length-1].stop===null&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(S,A){S.stop===null&&this.colorStops.slice(A).some(function(T,R){return T.stop!==null?(S.stop=(T.stop-this.colorStops[A-1].stop)/(R+1)+this.colorStops[A-1].stop,!0):!1},this)},this)}b.prototype=Object.create(a.prototype),b.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,p.exports=b},{"./color":3,"./gradientcontainer":9}],13:[function(O,p,z){var a=function(){a.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-a.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};a.options={logging:!1},p.exports=a},{}],14:[function(O,p,z){var a=O("./color"),H=O("./utils"),b=H.getBounds,x=H.parseBackgrounds,M=H.offsetBounds;function S(k,d){this.node=k,this.parent=d,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}S.prototype.cloneTo=function(k){k.visible=this.visible,k.borders=this.borders,k.bounds=this.bounds,k.clip=this.clip,k.backgroundClip=this.backgroundClip,k.computedStyles=this.computedStyles,k.styles=this.styles,k.backgroundImages=this.backgroundImages,k.opacity=this.opacity},S.prototype.getOpacity=function(){return this.opacity===null?this.opacity=this.cssFloat("opacity"):this.opacity},S.prototype.assignStack=function(k){this.stack=k,k.children.push(this)},S.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:this.css("display")!=="none"&&this.css("visibility")!=="hidden"&&!this.node.hasAttribute("data-html2canvas-ignore")&&(this.node.nodeName!=="INPUT"||this.node.getAttribute("type")!=="hidden")},S.prototype.css=function(k){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[k]||(this.styles[k]=this.computedStyles[k])},S.prototype.prefixedCss=function(k){var d=["webkit","moz","ms","o"],c=this.css(k);return c===void 0&&d.some(function(g){return c=this.css(g+k.substr(0,1).toUpperCase()+k.substr(1)),c!==void 0},this),c===void 0?null:c},S.prototype.computedStyle=function(k){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,k)},S.prototype.cssInt=function(k){var d=parseInt(this.css(k),10);return isNaN(d)?0:d},S.prototype.color=function(k){return this.colors[k]||(this.colors[k]=new a(this.css(k)))},S.prototype.cssFloat=function(k){var d=parseFloat(this.css(k));return isNaN(d)?0:d},S.prototype.fontWeight=function(){var k=this.css("fontWeight");switch(parseInt(k,10)){case 401:k="bold";break;case 400:k="normal";break}return k},S.prototype.parseClip=function(){var k=this.css("clip").match(this.CLIP);return k?{top:parseInt(k[1],10),right:parseInt(k[2],10),bottom:parseInt(k[3],10),left:parseInt(k[4],10)}:null},S.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=x(this.css("backgroundImage")))},S.prototype.cssList=function(k,d){var c=(this.css(k)||"").split(",");return c=c[d||0]||c[0]||"auto",c=c.trim().split(" "),c.length===1&&(c=[c[0],R(c[0])?"auto":c[0]]),c},S.prototype.parseBackgroundSize=function(k,d,c){var g=this.cssList("backgroundSize",c),y,m;if(R(g[0]))y=k.width*parseFloat(g[0])/100;else if(/contain|cover/.test(g[0])){var U=k.width/k.height,K=d.width/d.height;return U<K^g[0]==="contain"?{width:k.height*K,height:k.height}:{width:k.width,height:k.width/K}}else y=parseInt(g[0],10);return g[0]==="auto"&&g[1]==="auto"?m=d.height:g[1]==="auto"?m=y/d.width*d.height:R(g[1])?m=k.height*parseFloat(g[1])/100:m=parseInt(g[1],10),g[0]==="auto"&&(y=m/d.height*d.width),{width:y,height:m}},S.prototype.parseBackgroundPosition=function(k,d,c,g){var y=this.cssList("backgroundPosition",c),m,U;return R(y[0])?m=(k.width-(g||d).width)*(parseFloat(y[0])/100):m=parseInt(y[0],10),y[1]==="auto"?U=m/d.width*d.height:R(y[1])?U=(k.height-(g||d).height)*parseFloat(y[1])/100:U=parseInt(y[1],10),y[0]==="auto"&&(m=U/d.height*d.width),{left:m,top:U}},S.prototype.parseBackgroundRepeat=function(k){return this.cssList("backgroundRepeat",k)[0]},S.prototype.parseTextShadows=function(){var k=this.css("textShadow"),d=[];if(k&&k!=="none")for(var c=k.match(this.TEXT_SHADOW_PROPERTY),g=0;c&&g<c.length;g++){var y=c[g].match(this.TEXT_SHADOW_VALUES);d.push({color:new a(y[0]),offsetX:y[1]?parseFloat(y[1].replace("px","")):0,offsetY:y[2]?parseFloat(y[2].replace("px","")):0,blur:y[3]?y[3].replace("px",""):0})}return d},S.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var k=this.parseBounds(),d=this.prefixedCss("transformOrigin").split(" ").map(E).map(u);d[0]+=k.left,d[1]+=k.top,this.transformData={origin:d,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},S.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var k=this.prefixedCss("transform"),d=k?T(k.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=d||[1,0,0,1,0,0]}return this.transformMatrix},S.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?M(this.node):b(this.node))},S.prototype.hasTransform=function(){return this.parseTransformMatrix().join(",")!=="1,0,0,1,0,0"||this.parent&&this.parent.hasTransform()},S.prototype.getValue=function(){var k=this.node.value||"";return this.node.tagName==="SELECT"?k=A(this.node):this.node.type==="password"&&(k=Array(k.length+1).join("\u2022")),k.length===0?this.node.placeholder||"":k},S.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,S.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,S.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,S.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/;function A(k){var d=k.options[k.selectedIndex||0];return d&&d.text||""}function T(k){if(k&&k[1]==="matrix")return k[2].split(",").map(function(c){return parseFloat(c.trim())});if(k&&k[1]==="matrix3d"){var d=k[2].split(",").map(function(c){return parseFloat(c.trim())});return[d[0],d[1],d[4],d[5],d[12],d[13]]}}function R(k){return k.toString().indexOf("%")!==-1}function E(k){return k.replace("px","")}function u(k){return parseFloat(k)}p.exports=S},{"./color":3,"./utils":26}],15:[function(O,p,z){var a=O("./log"),H=O("punycode"),b=O("./nodecontainer"),x=O("./textcontainer"),M=O("./pseudoelementcontainer"),S=O("./fontmetrics"),A=O("./color"),T=O("./stackingcontext"),R=O("./utils"),E=R.bind,u=R.getBounds,k=R.parseBackgrounds,d=R.offsetBounds;function c(q,he,be,Ce,Te){a("Starting NodeParser"),this.renderer=he,this.options=Te,this.range=null,this.support=be,this.renderQueue=[],this.stack=new T(!0,1,q.ownerDocument,null);var Ie=new b(q,null);if(Te.background&&he.rectangle(0,0,he.width,he.height,new A(Te.background)),q===q.ownerDocument.documentElement){var Oe=new b(Ie.color("backgroundColor").isTransparent()?q.ownerDocument.body:q.ownerDocument.documentElement,null);he.rectangle(0,0,he.width,he.height,Oe.color("backgroundColor"))}Ie.visibile=Ie.isElementVisible(),this.createPseudoHideStyles(q.ownerDocument),this.disableAnimations(q.ownerDocument),this.nodes=ce([Ie].concat(this.getChildren(Ie)).filter(function(Ae){return Ae.visible=Ae.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new S,a("Fetched nodes, total:",this.nodes.length),a("Calculate overflow clips"),this.calculateOverflowClips(),a("Start fetching images"),this.images=Ce.fetch(this.nodes.filter(D)),this.ready=this.images.ready.then(E(function(){return a("Images loaded, starting parsing"),a("Creating stacking contexts"),this.createStackingContexts(),a("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),a("Render queue created with "+this.renderQueue.length+" items"),new Promise(E(function(Ae){Te.async?typeof Te.async=="function"?Te.async.call(this,this.renderQueue,Ae):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,Ae)):Ae():(this.renderQueue.forEach(this.paint,this),Ae())},this))},this))}c.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(q){if(D(q)){F(q)&&q.appendToDOM(),q.borders=this.parseBorders(q);var he=q.css("overflow")==="hidden"?[q.borders.clip]:[],be=q.parseClip();be&&["absolute","fixed"].indexOf(q.css("position"))!==-1&&he.push([["rect",q.bounds.left+be.left,q.bounds.top+be.top,be.right-be.left,be.bottom-be.top]]),q.clip=g(q)?q.parent.clip.concat(he):he,q.backgroundClip=q.css("overflow")!=="hidden"?q.clip.concat([q.borders.clip]):q.clip,F(q)&&q.cleanDOM()}else Z(q)&&(q.clip=g(q)?q.parent.clip:[]);F(q)||(q.bounds=null)},this)};function g(q){return q.parent&&q.parent.clip.length}c.prototype.asyncRenderer=function(q,he,be){be=be||Date.now(),this.paint(q[this.renderIndex++]),q.length===this.renderIndex?he():be+20>Date.now()?this.asyncRenderer(q,he,be):setTimeout(E(function(){this.asyncRenderer(q,he)},this),0)},c.prototype.createPseudoHideStyles=function(q){this.createStyles(q,"."+M.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+M.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},c.prototype.disableAnimations=function(q){this.createStyles(q,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},c.prototype.createStyles=function(q,he){var be=q.createElement("style");be.innerHTML=he,q.body.appendChild(be)},c.prototype.getPseudoElements=function(q){var he=[[q]];if(q.node.nodeType===Node.ELEMENT_NODE){var be=this.getPseudoElement(q,":before"),Ce=this.getPseudoElement(q,":after");be&&he.push(be),Ce&&he.push(Ce)}return ce(he)};function y(q){return q.replace(/(\-[a-z])/g,function(he){return he.toUpperCase().replace("-","")})}c.prototype.getPseudoElement=function(q,he){var be=q.computedStyle(he);if(!be||!be.content||be.content==="none"||be.content==="-moz-alt-content"||be.display==="none")return null;for(var Ce=ke(be.content),Te=Ce.substr(0,3)==="url",Ie=document.createElement(Te?"img":"html2canvaspseudoelement"),Oe=new M(Ie,q,he),Ae=be.length-1;Ae>=0;Ae--){var Ge=y(be.item(Ae));Ie.style[Ge]=be[Ge]}if(Ie.className=M.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+M.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,Te)return Ie.src=k(Ce)[0].args[0],[Oe];var Je=document.createTextNode(Ce);return Ie.appendChild(Je),[Oe,new x(Je,Oe)]},c.prototype.getChildren=function(q){return ce([].filter.call(q.node.childNodes,n).map(function(he){var be=[he.nodeType===Node.TEXT_NODE?new x(he,q):new b(he,q)].filter(le);return he.nodeType===Node.ELEMENT_NODE&&be.length&&he.tagName!=="TEXTAREA"?be[0].isElementVisible()?be.concat(this.getChildren(be[0])):[]:be},this))},c.prototype.newStackingContext=function(q,he){var be=new T(he,q.getOpacity(),q.node,q.parent);q.cloneTo(be);var Ce=he?be.getParentStack(this):be.parent.stack;Ce.contexts.push(be),q.stack=be},c.prototype.createStackingContexts=function(){this.nodes.forEach(function(q){D(q)&&(this.isRootElement(q)||ge(q)||r(q)||this.isBodyWithTransparentRoot(q)||q.hasTransform())?this.newStackingContext(q,!0):D(q)&&(s(q)&&oe(q)||h(q)||l(q))?this.newStackingContext(q,!1):q.assignStack(q.parent.stack)},this)},c.prototype.isBodyWithTransparentRoot=function(q){return q.node.nodeName==="BODY"&&q.parent.color("backgroundColor").isTransparent()},c.prototype.isRootElement=function(q){return q.parent===null},c.prototype.sortStackingContexts=function(q){q.contexts.sort(ae(q.contexts.slice(0))),q.contexts.forEach(this.sortStackingContexts,this)},c.prototype.parseTextBounds=function(q){return function(he,be,Ce){if(q.parent.css("textDecoration").substr(0,4)!=="none"||he.trim().length!==0){if(this.support.rangeBounds&&!q.parent.hasTransform()){var Te=Ce.slice(0,be).join("").length;return this.getRangeBounds(q.node,Te,he.length)}else if(q.node&&typeof q.node.data=="string"){var Ie=q.node.splitText(he.length),Oe=this.getWrapperBounds(q.node,q.parent.hasTransform());return q.node=Ie,Oe}}else(!this.support.rangeBounds||q.parent.hasTransform())&&(q.node=q.node.splitText(he.length));return{}}},c.prototype.getWrapperBounds=function(q,he){var be=q.ownerDocument.createElement("html2canvaswrapper"),Ce=q.parentNode,Te=q.cloneNode(!0);be.appendChild(q.cloneNode(!0)),Ce.replaceChild(be,q);var Ie=he?d(be):u(be);return Ce.replaceChild(Te,be),Ie},c.prototype.getRangeBounds=function(q,he,be){var Ce=this.range||(this.range=q.ownerDocument.createRange());return Ce.setStart(q,he),Ce.setEnd(q,he+be),Ce.getBoundingClientRect()};function m(){}c.prototype.parse=function(q){var he=q.contexts.filter(V),be=q.children.filter(D),Ce=be.filter(v(l)),Te=Ce.filter(v(s)).filter(v(ve)),Ie=be.filter(v(s)).filter(l),Oe=Ce.filter(v(s)).filter(ve),Ae=q.contexts.concat(Ce.filter(s)).filter(oe),Ge=q.children.filter(Z).filter(fe),Je=q.contexts.filter(ne);he.concat(Te).concat(Ie).concat(Oe).concat(Ae).concat(Ge).concat(Je).forEach(function(Ct){this.renderQueue.push(Ct),de(Ct)&&(this.parse(Ct),this.renderQueue.push(new m))},this)},c.prototype.paint=function(q){try{q instanceof m?this.renderer.ctx.restore():Z(q)?(F(q.parent)&&q.parent.appendToDOM(),this.paintText(q),F(q.parent)&&q.parent.cleanDOM()):this.paintNode(q)}catch(he){if(a(he),this.options.strict)throw he}},c.prototype.paintNode=function(q){de(q)&&(this.renderer.setOpacity(q.opacity),this.renderer.ctx.save(),q.hasTransform()&&this.renderer.setTransform(q.parseTransform())),q.node.nodeName==="INPUT"&&q.node.type==="checkbox"?this.paintCheckbox(q):q.node.nodeName==="INPUT"&&q.node.type==="radio"?this.paintRadio(q):this.paintElement(q)},c.prototype.paintElement=function(q){var he=q.parseBounds();this.renderer.clip(q.backgroundClip,function(){this.renderer.renderBackground(q,he,q.borders.borders.map(ie))},this),this.renderer.clip(q.clip,function(){this.renderer.renderBorders(q.borders.borders)},this),this.renderer.clip(q.backgroundClip,function(){switch(q.node.nodeName){case"svg":case"IFRAME":var be=this.images.get(q.node);be?this.renderer.renderImage(q,he,q.borders,be):a("Error loading <"+q.node.nodeName+">",q.node);break;case"IMG":var Ce=this.images.get(q.node.src);Ce?this.renderer.renderImage(q,he,q.borders,Ce):a("Error loading <img>",q.node.src);break;case"CANVAS":this.renderer.renderImage(q,he,q.borders,{image:q.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(q);break}},this)},c.prototype.paintCheckbox=function(q){var he=q.parseBounds(),be=Math.min(he.width,he.height),Ce={width:be-1,height:be-1,top:he.top,left:he.left},Te=[3,3],Ie=[Te,Te,Te,Te],Oe=[1,1,1,1].map(function(Ge){return{color:new A("#A5A5A5"),width:Ge}}),Ae=re(Ce,Ie,Oe);this.renderer.clip(q.backgroundClip,function(){this.renderer.rectangle(Ce.left+1,Ce.top+1,Ce.width-2,Ce.height-2,new A("#DEDEDE")),this.renderer.renderBorders(K(Oe,Ce,Ae,Ie)),q.node.checked&&(this.renderer.font(new A("#424242"),"normal","normal","bold",be-3+"px","arial"),this.renderer.text("\u2714",Ce.left+be/6,Ce.top+be-1))},this)},c.prototype.paintRadio=function(q){var he=q.parseBounds(),be=Math.min(he.width,he.height)-2;this.renderer.clip(q.backgroundClip,function(){this.renderer.circleStroke(he.left+1,he.top+1,be,new A("#DEDEDE"),1,new A("#A5A5A5")),q.node.checked&&this.renderer.circle(Math.ceil(he.left+be/4)+1,Math.ceil(he.top+be/4)+1,Math.floor(be/2),new A("#424242"))},this)},c.prototype.paintFormValue=function(q){var he=q.getValue();if(he.length>0){var be=q.node.ownerDocument,Ce=be.createElement("html2canvaswrapper"),Te=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];Te.forEach(function(Oe){try{Ce.style[Oe]=q.css(Oe)}catch(Ae){a("html2canvas: Parse: Exception caught in renderFormValue: "+Ae.message)}});var Ie=q.parseBounds();Ce.style.position="fixed",Ce.style.left=Ie.left+"px",Ce.style.top=Ie.top+"px",Ce.textContent=he,be.body.appendChild(Ce),this.paintText(new x(Ce.firstChild,q)),be.body.removeChild(Ce)}},c.prototype.paintText=function(q){q.applyTextTransform();var he=H.ucs2.decode(q.node.data),be=(!this.options.letterRendering||ye(q))&&!je(q.node.data)?Pe(he):he.map(function(Ae){return H.ucs2.encode([Ae])}),Ce=q.parent.fontWeight(),Te=q.parent.css("fontSize"),Ie=q.parent.css("fontFamily"),Oe=q.parent.parseTextShadows();this.renderer.font(q.parent.color("color"),q.parent.css("fontStyle"),q.parent.css("fontVariant"),Ce,Te,Ie),Oe.length?this.renderer.fontShadow(Oe[0].color,Oe[0].offsetX,Oe[0].offsetY,Oe[0].blur):this.renderer.clearShadow(),this.renderer.clip(q.parent.clip,function(){be.map(this.parseTextBounds(q),this).forEach(function(Ae,Ge){Ae&&(this.renderer.text(be[Ge],Ae.left,Ae.bottom),this.renderTextDecoration(q.parent,Ae,this.fontMetrics.getMetrics(Ie,Te)))},this)},this)},c.prototype.renderTextDecoration=function(q,he,be){switch(q.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(he.left,Math.round(he.top+be.baseline+be.lineWidth),he.width,1,q.color("color"));break;case"overline":this.renderer.rectangle(he.left,Math.round(he.top),he.width,1,q.color("color"));break;case"line-through":this.renderer.rectangle(he.left,Math.ceil(he.top+be.middle+be.lineWidth),he.width,1,q.color("color"));break}};var U={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};c.prototype.parseBorders=function(q){var he=q.parseBounds(),be=e(q),Ce=["Top","Right","Bottom","Left"].map(function(Ie,Oe){var Ae=q.css("border"+Ie+"Style"),Ge=q.color("border"+Ie+"Color");Ae==="inset"&&Ge.isBlack()&&(Ge=new A([255,255,255,Ge.a]));var Je=U[Ae]?U[Ae][Oe]:null;return{width:q.cssInt("border"+Ie+"Width"),color:Je?Ge[Je[0]](Je[1]):Ge,args:null}}),Te=re(he,be,Ce);return{clip:this.parseBackgroundClip(q,Te,Ce,be,he),borders:K(Ce,he,Te,be)}};function K(q,he,be,Ce){return q.map(function(Te,Ie){if(Te.width>0){var Oe=he.left,Ae=he.top,Ge=he.width,Je=he.height-q[2].width;switch(Ie){case 0:Je=q[0].width,Te.args=G({c1:[Oe,Ae],c2:[Oe+Ge,Ae],c3:[Oe+Ge-q[1].width,Ae+Je],c4:[Oe+q[3].width,Ae+Je]},Ce[0],Ce[1],be.topLeftOuter,be.topLeftInner,be.topRightOuter,be.topRightInner);break;case 1:Oe=he.left+he.width-q[1].width,Ge=q[1].width,Te.args=G({c1:[Oe+Ge,Ae],c2:[Oe+Ge,Ae+Je+q[2].width],c3:[Oe,Ae+Je],c4:[Oe,Ae+q[0].width]},Ce[1],Ce[2],be.topRightOuter,be.topRightInner,be.bottomRightOuter,be.bottomRightInner);break;case 2:Ae=Ae+he.height-q[2].width,Je=q[2].width,Te.args=G({c1:[Oe+Ge,Ae+Je],c2:[Oe,Ae+Je],c3:[Oe+q[3].width,Ae],c4:[Oe+Ge-q[3].width,Ae]},Ce[2],Ce[3],be.bottomRightOuter,be.bottomRightInner,be.bottomLeftOuter,be.bottomLeftInner);break;case 3:Ge=q[3].width,Te.args=G({c1:[Oe,Ae+Je+q[2].width],c2:[Oe,Ae],c3:[Oe+Ge,Ae+q[0].width],c4:[Oe+Ge,Ae+Je]},Ce[3],Ce[0],be.bottomLeftOuter,be.bottomLeftInner,be.topLeftOuter,be.topLeftInner);break}}return Te})}c.prototype.parseBackgroundClip=function(q,he,be,Ce,Te){var Ie=q.css("backgroundClip"),Oe=[];switch(Ie){case"content-box":case"padding-box":N(Oe,Ce[0],Ce[1],he.topLeftInner,he.topRightInner,Te.left+be[3].width,Te.top+be[0].width),N(Oe,Ce[1],Ce[2],he.topRightInner,he.bottomRightInner,Te.left+Te.width-be[1].width,Te.top+be[0].width),N(Oe,Ce[2],Ce[3],he.bottomRightInner,he.bottomLeftInner,Te.left+Te.width-be[1].width,Te.top+Te.height-be[2].width),N(Oe,Ce[3],Ce[0],he.bottomLeftInner,he.topLeftInner,Te.left+be[3].width,Te.top+Te.height-be[2].width);break;default:N(Oe,Ce[0],Ce[1],he.topLeftOuter,he.topRightOuter,Te.left,Te.top),N(Oe,Ce[1],Ce[2],he.topRightOuter,he.bottomRightOuter,Te.left+Te.width,Te.top),N(Oe,Ce[2],Ce[3],he.bottomRightOuter,he.bottomLeftOuter,Te.left+Te.width,Te.top+Te.height),N(Oe,Ce[3],Ce[0],he.bottomLeftOuter,he.topLeftOuter,Te.left,Te.top+Te.height);break}return Oe};function J(q,he,be,Ce){var Te=4*((Math.sqrt(2)-1)/3),Ie=be*Te,Oe=Ce*Te,Ae=q+be,Ge=he+Ce;return{topLeft:C({x:q,y:Ge},{x:q,y:Ge-Oe},{x:Ae-Ie,y:he},{x:Ae,y:he}),topRight:C({x:q,y:he},{x:q+Ie,y:he},{x:Ae,y:Ge-Oe},{x:Ae,y:Ge}),bottomRight:C({x:Ae,y:he},{x:Ae,y:he+Oe},{x:q+Ie,y:Ge},{x:q,y:Ge}),bottomLeft:C({x:Ae,y:Ge},{x:Ae-Ie,y:Ge},{x:q,y:he+Oe},{x:q,y:he})}}function re(q,he,be){var Ce=q.left,Te=q.top,Ie=q.width,Oe=q.height,Ae=he[0][0]<Ie/2?he[0][0]:Ie/2,Ge=he[0][1]<Oe/2?he[0][1]:Oe/2,Je=he[1][0]<Ie/2?he[1][0]:Ie/2,Ct=he[1][1]<Oe/2?he[1][1]:Oe/2,ct=he[2][0]<Ie/2?he[2][0]:Ie/2,$t=he[2][1]<Oe/2?he[2][1]:Oe/2,lt=he[3][0]<Ie/2?he[3][0]:Ie/2,Qe=he[3][1]<Oe/2?he[3][1]:Oe/2,Vt=Ie-Je,it=Oe-$t,Tt=Ie-ct,Mt=Oe-Qe;return{topLeftOuter:J(Ce,Te,Ae,Ge).topLeft.subdivide(.5),topLeftInner:J(Ce+be[3].width,Te+be[0].width,Math.max(0,Ae-be[3].width),Math.max(0,Ge-be[0].width)).topLeft.subdivide(.5),topRightOuter:J(Ce+Vt,Te,Je,Ct).topRight.subdivide(.5),topRightInner:J(Ce+Math.min(Vt,Ie+be[3].width),Te+be[0].width,Vt>Ie+be[3].width?0:Je-be[3].width,Ct-be[0].width).topRight.subdivide(.5),bottomRightOuter:J(Ce+Tt,Te+it,ct,$t).bottomRight.subdivide(.5),bottomRightInner:J(Ce+Math.min(Tt,Ie-be[3].width),Te+Math.min(it,Oe+be[0].width),Math.max(0,ct-be[1].width),$t-be[2].width).bottomRight.subdivide(.5),bottomLeftOuter:J(Ce,Te+Mt,lt,Qe).bottomLeft.subdivide(.5),bottomLeftInner:J(Ce+be[3].width,Te+Mt,Math.max(0,lt-be[3].width),Qe-be[2].width).bottomLeft.subdivide(.5)}}function C(q,he,be,Ce){var Te=function(Ie,Oe,Ae){return{x:Ie.x+(Oe.x-Ie.x)*Ae,y:Ie.y+(Oe.y-Ie.y)*Ae}};return{start:q,startControl:he,endControl:be,end:Ce,subdivide:function(Ie){var Oe=Te(q,he,Ie),Ae=Te(he,be,Ie),Ge=Te(be,Ce,Ie),Je=Te(Oe,Ae,Ie),Ct=Te(Ae,Ge,Ie),ct=Te(Je,Ct,Ie);return[C(q,Oe,Je,ct),C(ct,Ct,Ge,Ce)]},curveTo:function(Ie){Ie.push(["bezierCurve",he.x,he.y,be.x,be.y,Ce.x,Ce.y])},curveToReversed:function(Ie){Ie.push(["bezierCurve",be.x,be.y,he.x,he.y,q.x,q.y])}}}function G(q,he,be,Ce,Te,Ie,Oe){var Ae=[];return he[0]>0||he[1]>0?(Ae.push(["line",Ce[1].start.x,Ce[1].start.y]),Ce[1].curveTo(Ae)):Ae.push(["line",q.c1[0],q.c1[1]]),be[0]>0||be[1]>0?(Ae.push(["line",Ie[0].start.x,Ie[0].start.y]),Ie[0].curveTo(Ae),Ae.push(["line",Oe[0].end.x,Oe[0].end.y]),Oe[0].curveToReversed(Ae)):(Ae.push(["line",q.c2[0],q.c2[1]]),Ae.push(["line",q.c3[0],q.c3[1]])),he[0]>0||he[1]>0?(Ae.push(["line",Te[1].end.x,Te[1].end.y]),Te[1].curveToReversed(Ae)):Ae.push(["line",q.c4[0],q.c4[1]]),Ae}function N(q,he,be,Ce,Te,Ie,Oe){he[0]>0||he[1]>0?(q.push(["line",Ce[0].start.x,Ce[0].start.y]),Ce[0].curveTo(q),Ce[1].curveTo(q)):q.push(["line",Ie,Oe]),(be[0]>0||be[1]>0)&&q.push(["line",Te[0].start.x,Te[0].start.y])}function V(q){return q.cssInt("zIndex")<0}function ne(q){return q.cssInt("zIndex")>0}function oe(q){return q.cssInt("zIndex")===0}function ve(q){return["inline","inline-block","inline-table"].indexOf(q.css("display"))!==-1}function de(q){return q instanceof T}function fe(q){return q.node.data.trim().length>0}function ye(q){return/^(normal|none|0px)$/.test(q.parent.css("letterSpacing"))}function e(q){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(he){var be=q.css("border"+he+"Radius"),Ce=be.split(" ");return Ce.length<=1&&(Ce[1]=Ce[0]),Ce.map(Q)})}function n(q){return q.nodeType===Node.TEXT_NODE||q.nodeType===Node.ELEMENT_NODE}function r(q){var he=q.css("position"),be=["absolute","relative","fixed"].indexOf(he)!==-1?q.css("zIndex"):"auto";return be!=="auto"}function s(q){return q.css("position")!=="static"}function l(q){return q.css("float")!=="none"}function h(q){return["inline-block","inline-table"].indexOf(q.css("display"))!==-1}function v(q){var he=this;return function(){return!q.apply(he,arguments)}}function D(q){return q.node.nodeType===Node.ELEMENT_NODE}function F(q){return q.isPseudoElement===!0}function Z(q){return q.node.nodeType===Node.TEXT_NODE}function ae(q){return function(he,be){return he.cssInt("zIndex")+q.indexOf(he)/q.length-(be.cssInt("zIndex")+q.indexOf(be)/q.length)}}function ge(q){return q.getOpacity()<1}function Q(q){return parseInt(q,10)}function ie(q){return q.width}function le(q){return q.node.nodeType!==Node.ELEMENT_NODE||["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(q.node.nodeName)===-1}function ce(q){return[].concat.apply([],q)}function ke(q){var he=q.substr(0,1);return he===q.substr(q.length-1)&&he.match(/'|"/)?q.substr(1,q.length-2):q}function Pe(q){for(var he=[],be=0,Ce=!1,Te;q.length;)ze(q[be])===Ce?(Te=q.splice(0,be),Te.length&&he.push(H.ucs2.encode(Te)),Ce=!Ce,be=0):be++,be>=q.length&&(Te=q.splice(0,be),Te.length&&he.push(H.ucs2.encode(Te)));return he}function ze(q){return[32,13,10,9,45].indexOf(q)!==-1}function je(q){return/[^\u0000-\u00ff]/.test(q)}p.exports=c},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(O,p,z){var a=O("./xhr"),H=O("./utils"),b=O("./log"),x=O("./clone"),M=H.decode64;function S(c,g,y){var m="withCredentials"in new XMLHttpRequest;if(!g)return Promise.reject("No proxy configured");var U=E(m),K=u(g,c,U);return m?a(K):R(y,K,U).then(function(J){return M(J.content)})}var A=0;function T(c,g,y){var m="crossOrigin"in new Image,U=E(m),K=u(g,c,U);return m?Promise.resolve(K):R(y,K,U).then(function(J){return"data:"+J.type+";base64,"+J.content})}function R(c,g,y){return new Promise(function(m,U){var K=c.createElement("script"),J=function(){delete window.html2canvas.proxy[y],c.body.removeChild(K)};window.html2canvas.proxy[y]=function(re){J(),m(re)},K.src=g,K.onerror=function(re){J(),U(re)},c.body.appendChild(K)})}function E(c){return c?"":"html2canvas_"+Date.now()+"_"+ ++A+"_"+Math.round(Math.random()*1e5)}function u(c,g,y){return c+"?url="+encodeURIComponent(g)+(y.length?"&callback=html2canvas.proxy."+y:"")}function k(c){return function(g){var y=new DOMParser,m;try{m=y.parseFromString(g,"text/html")}catch{b("DOMParser not supported, falling back to createHTMLDocument"),m=document.implementation.createHTMLDocument("");try{m.open(),m.write(g),m.close()}catch{b("createHTMLDocument write not supported, falling back to document.body.innerHTML"),m.body.innerHTML=g}}var U=m.querySelector("base");if(!U||!U.href.host){var K=m.createElement("base");K.href=c,m.head.insertBefore(K,m.head.firstChild)}return m}}function d(c,g,y,m,U,K){return new S(c,g,window.document).then(k(c)).then(function(J){return x(J,y,m,U,K,0,0)})}z.Proxy=S,z.ProxyURL=T,z.loadUrlDocument=d},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(O,p,z){var a=O("./proxy").ProxyURL;function H(b,x){var M=document.createElement("a");M.href=b,b=M.href,this.src=b,this.image=new Image;var S=this;this.promise=new Promise(function(A,T){S.image.crossOrigin="Anonymous",S.image.onload=A,S.image.onerror=T,new a(b,x,document).then(function(R){S.image.src=R}).catch(T)})}p.exports=H},{"./proxy":16}],18:[function(O,p,z){var a=O("./nodecontainer");function H(b,x,M){a.call(this,b,x),this.isPseudoElement=!0,this.before=M===":before"}H.prototype.cloneTo=function(b){H.prototype.cloneTo.call(this,b),b.isPseudoElement=!0,b.before=this.before},H.prototype=Object.create(a.prototype),H.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},H.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},H.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",p.exports=H},{"./nodecontainer":14}],19:[function(O,p,z){var a=O("./log");function H(b,x,M,S,A){this.width=b,this.height=x,this.images=M,this.options=S,this.document=A}H.prototype.renderImage=function(b,x,M,S){var A=b.cssInt("paddingLeft"),T=b.cssInt("paddingTop"),R=b.cssInt("paddingRight"),E=b.cssInt("paddingBottom"),u=M.borders,k=x.width-(u[1].width+u[3].width+A+R),d=x.height-(u[0].width+u[2].width+T+E);this.drawImage(S,0,0,S.image.width||k,S.image.height||d,x.left+A+u[3].width,x.top+T+u[0].width,k,d)},H.prototype.renderBackground=function(b,x,M){x.height>0&&x.width>0&&(this.renderBackgroundColor(b,x),this.renderBackgroundImage(b,x,M))},H.prototype.renderBackgroundColor=function(b,x){var M=b.color("backgroundColor");M.isTransparent()||this.rectangle(x.left,x.top,x.width,x.height,M)},H.prototype.renderBorders=function(b){b.forEach(this.renderBorder,this)},H.prototype.renderBorder=function(b){!b.color.isTransparent()&&b.args!==null&&this.drawShape(b.args,b.color)},H.prototype.renderBackgroundImage=function(b,x,M){var S=b.parseBackgroundImages();S.reverse().forEach(function(A,T,R){switch(A.method){case"url":var E=this.images.get(A.args[0]);E?this.renderBackgroundRepeating(b,x,E,R.length-(T+1),M):a("Error loading background-image",A.args[0]);break;case"linear-gradient":case"gradient":var u=this.images.get(A.value);u?this.renderBackgroundGradient(u,x,M):a("Error loading background-image",A.args[0]);break;case"none":break;default:a("Unknown background-image type",A.args[0])}},this)},H.prototype.renderBackgroundRepeating=function(b,x,M,S,A){var T=b.parseBackgroundSize(x,M.image,S),R=b.parseBackgroundPosition(x,M.image,S,T),E=b.parseBackgroundRepeat(S);switch(E){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(M,R,T,x,x.left+A[3],x.top+R.top+A[0],99999,T.height,A);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(M,R,T,x,x.left+R.left+A[3],x.top+A[0],T.width,99999,A);break;case"no-repeat":this.backgroundRepeatShape(M,R,T,x,x.left+R.left+A[3],x.top+R.top+A[0],T.width,T.height,A);break;default:this.renderBackgroundRepeat(M,R,T,{top:x.top,left:x.left},A[3],A[0]);break}},p.exports=H},{"./log":13}],20:[function(O,p,z){var a=O("../renderer"),H=O("../lineargradientcontainer"),b=O("../log");function x(S,A){a.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=S,this.canvas.height=A),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},b("Initialized CanvasRenderer with size",S,"x",A)}x.prototype=Object.create(a.prototype),x.prototype.setFillStyle=function(S){return this.ctx.fillStyle=typeof S=="object"&&!!S.isColor?S.toString():S,this.ctx},x.prototype.rectangle=function(S,A,T,R,E){this.setFillStyle(E).fillRect(S,A,T,R)},x.prototype.circle=function(S,A,T,R){this.setFillStyle(R),this.ctx.beginPath(),this.ctx.arc(S+T/2,A+T/2,T/2,0,Math.PI*2,!0),this.ctx.closePath(),this.ctx.fill()},x.prototype.circleStroke=function(S,A,T,R,E,u){this.circle(S,A,T,R),this.ctx.strokeStyle=u.toString(),this.ctx.stroke()},x.prototype.drawShape=function(S,A){this.shape(S),this.setFillStyle(A).fill()},x.prototype.taints=function(S){if(S.tainted===null){this.taintCtx.drawImage(S.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),S.tainted=!1}catch{this.taintCtx=document.createElement("canvas").getContext("2d"),S.tainted=!0}}return S.tainted},x.prototype.drawImage=function(S,A,T,R,E,u,k,d,c){(!this.taints(S)||this.options.allowTaint)&&this.ctx.drawImage(S.image,A,T,R,E,u,k,d,c)},x.prototype.clip=function(S,A,T){this.ctx.save(),S.filter(M).forEach(function(R){this.shape(R).clip()},this),A.call(T),this.ctx.restore()},x.prototype.shape=function(S){return this.ctx.beginPath(),S.forEach(function(A,T){A[0]==="rect"?this.ctx.rect.apply(this.ctx,A.slice(1)):this.ctx[T===0?"moveTo":A[0]+"To"].apply(this.ctx,A.slice(1))},this),this.ctx.closePath(),this.ctx},x.prototype.font=function(S,A,T,R,E,u){this.setFillStyle(S).font=[A,T,R,E,u].join(" ").split(",")[0]},x.prototype.fontShadow=function(S,A,T,R){this.setVariable("shadowColor",S.toString()).setVariable("shadowOffsetY",A).setVariable("shadowOffsetX",T).setVariable("shadowBlur",R)},x.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},x.prototype.setOpacity=function(S){this.ctx.globalAlpha=S},x.prototype.setTransform=function(S){this.ctx.translate(S.origin[0],S.origin[1]),this.ctx.transform.apply(this.ctx,S.matrix),this.ctx.translate(-S.origin[0],-S.origin[1])},x.prototype.setVariable=function(S,A){return this.variables[S]!==A&&(this.variables[S]=this.ctx[S]=A),this},x.prototype.text=function(S,A,T){this.ctx.fillText(S,A,T)},x.prototype.backgroundRepeatShape=function(S,A,T,R,E,u,k,d,c){var g=[["line",Math.round(E),Math.round(u)],["line",Math.round(E+k),Math.round(u)],["line",Math.round(E+k),Math.round(d+u)],["line",Math.round(E),Math.round(d+u)]];this.clip([g],function(){this.renderBackgroundRepeat(S,A,T,R,c[3],c[0])},this)},x.prototype.renderBackgroundRepeat=function(S,A,T,R,E,u){var k=Math.round(R.left+A.left+E),d=Math.round(R.top+A.top+u);this.setFillStyle(this.ctx.createPattern(this.resizeImage(S,T),"repeat")),this.ctx.translate(k,d),this.ctx.fill(),this.ctx.translate(-k,-d)},x.prototype.renderBackgroundGradient=function(S,A){if(S instanceof H){var T=this.ctx.createLinearGradient(A.left+A.width*S.x0,A.top+A.height*S.y0,A.left+A.width*S.x1,A.top+A.height*S.y1);S.colorStops.forEach(function(R){T.addColorStop(R.stop,R.color.toString())}),this.rectangle(A.left,A.top,A.width,A.height,T)}},x.prototype.resizeImage=function(S,A){var T=S.image;if(T.width===A.width&&T.height===A.height)return T;var R,E=document.createElement("canvas");return E.width=A.width,E.height=A.height,R=E.getContext("2d"),R.drawImage(T,0,0,T.width,T.height,0,0,A.width,A.height),E};function M(S){return S.length>0}p.exports=x},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(O,p,z){var a=O("./nodecontainer");function H(b,x,M,S){a.call(this,M,S),this.ownStacking=b,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*x}H.prototype=Object.create(a.prototype),H.prototype.getParentStack=function(b){var x=this.parent?this.parent.stack:null;return x?x.ownStacking?x:x.getParentStack(b):b.stack},p.exports=H},{"./nodecontainer":14}],22:[function(O,p,z){function a(H){this.rangeBounds=this.testRangeBounds(H),this.cors=this.testCORS(),this.svg=this.testSVG()}a.prototype.testRangeBounds=function(H){var b,x,M,S,A=!1;return H.createRange&&(b=H.createRange(),b.getBoundingClientRect&&(x=H.createElement("boundtest"),x.style.height="123px",x.style.display="block",H.body.appendChild(x),b.selectNode(x),M=b.getBoundingClientRect(),S=M.height,S===123&&(A=!0),H.body.removeChild(x))),A},a.prototype.testCORS=function(){return typeof new Image().crossOrigin<"u"},a.prototype.testSVG=function(){var H=new Image,b=document.createElement("canvas"),x=b.getContext("2d");H.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{x.drawImage(H,0,0),b.toDataURL()}catch{return!1}return!0},p.exports=a},{}],23:[function(O,p,z){var a=O("./xhr"),H=O("./utils").decode64;function b(x){this.src=x,this.image=null;var M=this;this.promise=this.hasFabric().then(function(){return M.isInline(x)?Promise.resolve(M.inlineFormatting(x)):a(x)}).then(function(S){return new Promise(function(A){window.html2canvas.svg.fabric.loadSVGFromString(S,M.createCanvas.call(M,A))})})}b.prototype.hasFabric=function(){return!window.html2canvas.svg||!window.html2canvas.svg.fabric?Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg")):Promise.resolve()},b.prototype.inlineFormatting=function(x){return/^data:image\/svg\+xml;base64,/.test(x)?this.decode64(this.removeContentType(x)):this.removeContentType(x)},b.prototype.removeContentType=function(x){return x.replace(/^data:image\/svg\+xml(;base64)?,/,"")},b.prototype.isInline=function(x){return/^data:image\/svg\+xml/i.test(x)},b.prototype.createCanvas=function(x){var M=this;return function(S,A){var T=new window.html2canvas.svg.fabric.StaticCanvas("c");M.image=T.lowerCanvasEl,T.setWidth(A.width).setHeight(A.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(S,A)).renderAll(),x(T.lowerCanvasEl)}},b.prototype.decode64=function(x){return typeof window.atob=="function"?window.atob(x):H(x)},p.exports=b},{"./utils":26,"./xhr":28}],24:[function(O,p,z){var a=O("./svgcontainer");function H(b,x){this.src=b,this.image=null;var M=this;this.promise=x?new Promise(function(S,A){M.image=new Image,M.image.onload=S,M.image.onerror=A,M.image.src="data:image/svg+xml,"+new XMLSerializer().serializeToString(b),M.image.complete===!0&&S(M.image)}):this.hasFabric().then(function(){return new Promise(function(S){window.html2canvas.svg.fabric.parseSVGDocument(b,M.createCanvas.call(M,S))})})}H.prototype=Object.create(a.prototype),p.exports=H},{"./svgcontainer":23}],25:[function(O,p,z){var a=O("./nodecontainer");function H(x,M){a.call(this,x,M)}H.prototype=Object.create(a.prototype),H.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},H.prototype.transform=function(x){var M=this.node.data;switch(x){case"lowercase":return M.toLowerCase();case"capitalize":return M.replace(/(^|\s|:|-|\(|\))([a-z])/g,b);case"uppercase":return M.toUpperCase();default:return M}};function b(x,M,S){if(x.length>0)return M+S.toUpperCase()}p.exports=H},{"./nodecontainer":14}],26:[function(O,p,z){z.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},z.bind=function(a,H){return function(){return a.apply(H,arguments)}},z.decode64=function(a){var H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=a.length,x,M,S,A,T,R,E,u,k="";for(x=0;x<b;x+=4)M=H.indexOf(a[x]),S=H.indexOf(a[x+1]),A=H.indexOf(a[x+2]),T=H.indexOf(a[x+3]),R=M<<2|S>>4,E=(S&15)<<4|A>>2,u=(A&3)<<6|T,A===64?k+=String.fromCharCode(R):T===64||T===-1?k+=String.fromCharCode(R,E):k+=String.fromCharCode(R,E,u);return k},z.getBounds=function(a){if(a.getBoundingClientRect){var H=a.getBoundingClientRect(),b=a.offsetWidth==null?H.width:a.offsetWidth;return{top:H.top,bottom:H.bottom||H.top+H.height,right:H.left+b,left:H.left,width:b,height:a.offsetHeight==null?H.height:a.offsetHeight}}return{}},z.offsetBounds=function(a){var H=a.offsetParent?z.offsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+H.top,bottom:a.offsetTop+a.offsetHeight+H.top,right:a.offsetLeft+H.left+a.offsetWidth,left:a.offsetLeft+H.left,width:a.offsetWidth,height:a.offsetHeight}},z.parseBackgrounds=function(a){var H=` \r
	`,b,x,M,S,A,T=[],R=0,E=0,u,k,d=function(){b&&(x.substr(0,1)==='"'&&(x=x.substr(1,x.length-2)),x&&k.push(x),b.substr(0,1)==="-"&&(S=b.indexOf("-",1)+1)>0&&(M=b.substr(0,S),b=b.substr(S)),T.push({prefix:M,method:b.toLowerCase(),value:A,args:k,image:null})),k=[],b=M=x=A=""};return k=[],b=M=x=A="",a.split("").forEach(function(c){if(!(R===0&&H.indexOf(c)>-1)){switch(c){case'"':u?u===c&&(u=null):u=c;break;case"(":if(u)break;if(R===0){R=1,A+=c;return}else E++;break;case")":if(u)break;if(R===1)if(E===0){R=0,A+=c,d();return}else E--;break;case",":if(u)break;if(R===0){d();return}else if(R===1&&E===0&&!b.match(/^url$/i)){k.push(x),x="",A+=c;return}break}A+=c,R===0?b+=c:x+=c}}),d(),T}},{}],27:[function(O,p,z){var a=O("./gradientcontainer");function H(b){a.apply(this,arguments),this.type=b.args[0]==="linear"?a.TYPES.LINEAR:a.TYPES.RADIAL}H.prototype=Object.create(a.prototype),p.exports=H},{"./gradientcontainer":9}],28:[function(O,p,z){function a(H){return new Promise(function(b,x){var M=new XMLHttpRequest;M.open("GET",H),M.onload=function(){M.status===200?b(M.responseText):x(new Error(M.statusText))},M.onerror=function(){x(new Error("Network Error"))},M.send()})}p.exports=a},{}]},{},[4])(4)})})(html2canvas$1);const html2canvas=html2canvas$1.exports,codemirror="",locationfilter="",all$2="",all$1="",bulma="",_default="",compact="";var rgbcolor$1={exports:{}};/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * @link   http://www.phpied.com/rgb-color-parser-in-javascript/
 * @license Use it if you like it
 */(function(t){(function(B){function O(p){this.ok=!1,p.charAt(0)=="#"&&(p=p.substr(1,6)),p=p.replace(/ /g,""),p=p.toLowerCase();var z={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var a in z)p==a&&(p=z[a]);for(var H=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(A){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(A){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}}],b=0;b<H.length;b++){var x=H[b].re,M=H[b].process,S=x.exec(p);S&&(channels=M(S),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var A=this.r.toString(16),T=this.g.toString(16),R=this.b.toString(16);return A.length==1&&(A="0"+A),T.length==1&&(T="0"+T),R.length==1&&(R="0"+R),"#"+A+T+R},this.getHelpXML=function(){for(var A=new Array,T=0;T<H.length;T++)for(var R=H[T].example,E=0;E<R.length;E++)A[A.length]=R[E];for(var u in z)A[A.length]=u;var k=document.createElement("ul");k.setAttribute("id","rgbcolor-examples");for(var T=0;T<A.length;T++)try{var d=document.createElement("li"),c=new O(A[T]),g=document.createElement("div");g.style.cssText="margin: 3px; border: 1px solid black; background:"+c.toHex()+"; color:"+c.toHex(),g.appendChild(document.createTextNode("test"));var y=document.createTextNode(" "+A[T]+" -> "+c.toRGB()+" -> "+c.toHex());d.appendChild(g),d.appendChild(y),k.appendChild(d)}catch{}return k}}t.exports&&(t.exports=O),B.RGBColor=O})(typeof window<"u"?window:commonjsGlobal)})(rgbcolor$1);var canvg={exports:{}},rgbcolor,hasRequiredRgbcolor;function requireRgbcolor(){return hasRequiredRgbcolor||(hasRequiredRgbcolor=1,rgbcolor=function(t){this.ok=!1,this.alpha=1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var B={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=B[t]||t;for(var O=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3]),parseFloat(x[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(x){return[parseInt(x[1],16),parseInt(x[2],16),parseInt(x[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(x){return[parseInt(x[1]+x[1],16),parseInt(x[2]+x[2],16),parseInt(x[3]+x[3],16)]}}],p=0;p<O.length;p++){var z=O[p].re,a=O[p].process,H=z.exec(t);if(H){var b=a(H);this.r=b[0],this.g=b[1],this.b=b[2],b.length>3&&(this.alpha=b[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var x=this.r.toString(16),M=this.g.toString(16),S=this.b.toString(16);return x.length==1&&(x="0"+x),M.length==1&&(M="0"+M),S.length==1&&(S="0"+S),"#"+x+M+S},this.getHelpXML=function(){for(var x=new Array,M=0;M<O.length;M++)for(var S=O[M].example,A=0;A<S.length;A++)x[x.length]=S[A];for(var T in B)x[x.length]=T;var R=document.createElement("ul");R.setAttribute("id","rgbcolor-examples");for(var M=0;M<x.length;M++)try{var E=document.createElement("li"),u=new RGBColor(x[M]),k=document.createElement("div");k.style.cssText="margin: 3px; border: 1px solid black; background:"+u.toHex()+"; color:"+u.toHex(),k.appendChild(document.createTextNode("test"));var d=document.createTextNode(" "+x[M]+" -> "+u.toRGB()+" -> "+u.toHex());E.appendChild(k),E.appendChild(d),R.appendChild(E)}catch{}return R}}),rgbcolor}var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function blur(t,B,O,p){if(!(isNaN(p)||p<1)){p|=0;var z,a,H,b,x,M,S,A,T,R,E,u,k,d,c,g,y,m,U,K,J,re,C,G,N=p+p+1,V=B-1,ne=O-1,oe=p+1,ve=oe*(oe+1)/2,de=new BlurStack,fe=de;for(H=1;H<N;H++)if(fe=fe.next=new BlurStack,H==oe)var ye=fe;fe.next=de;var e=null,n=null;S=M=0;var r=mul_table[p],s=shg_table[p];for(a=0;a<O;a++){for(g=y=m=U=A=T=R=E=0,u=oe*(K=t[M]),k=oe*(J=t[M+1]),d=oe*(re=t[M+2]),c=oe*(C=t[M+3]),A+=ve*K,T+=ve*J,R+=ve*re,E+=ve*C,fe=de,H=0;H<oe;H++)fe.r=K,fe.g=J,fe.b=re,fe.a=C,fe=fe.next;for(H=1;H<oe;H++)b=M+((V<H?V:H)<<2),A+=(fe.r=K=t[b])*(G=oe-H),T+=(fe.g=J=t[b+1])*G,R+=(fe.b=re=t[b+2])*G,E+=(fe.a=C=t[b+3])*G,g+=K,y+=J,m+=re,U+=C,fe=fe.next;for(e=de,n=ye,z=0;z<B;z++)t[M+3]=C=E*r>>s,C!=0?(C=255/C,t[M]=(A*r>>s)*C,t[M+1]=(T*r>>s)*C,t[M+2]=(R*r>>s)*C):t[M]=t[M+1]=t[M+2]=0,A-=u,T-=k,R-=d,E-=c,u-=e.r,k-=e.g,d-=e.b,c-=e.a,b=S+((b=z+p+1)<V?b:V)<<2,g+=e.r=t[b],y+=e.g=t[b+1],m+=e.b=t[b+2],U+=e.a=t[b+3],A+=g,T+=y,R+=m,E+=U,e=e.next,u+=K=n.r,k+=J=n.g,d+=re=n.b,c+=C=n.a,g-=K,y-=J,m-=re,U-=C,n=n.next,M+=4;S+=B}for(z=0;z<B;z++){for(y=m=U=g=T=R=E=A=0,M=z<<2,u=oe*(K=t[M]),k=oe*(J=t[M+1]),d=oe*(re=t[M+2]),c=oe*(C=t[M+3]),A+=ve*K,T+=ve*J,R+=ve*re,E+=ve*C,fe=de,H=0;H<oe;H++)fe.r=K,fe.g=J,fe.b=re,fe.a=C,fe=fe.next;for(x=B,H=1;H<=p;H++)M=x+z<<2,A+=(fe.r=K=t[M])*(G=oe-H),T+=(fe.g=J=t[M+1])*G,R+=(fe.b=re=t[M+2])*G,E+=(fe.a=C=t[M+3])*G,g+=K,y+=J,m+=re,U+=C,fe=fe.next,H<ne&&(x+=B);for(M=z,e=de,n=ye,a=0;a<O;a++)b=M<<2,t[b+3]=C=E*r>>s,C>0?(C=255/C,t[b]=(A*r>>s)*C,t[b+1]=(T*r>>s)*C,t[b+2]=(R*r>>s)*C):t[b]=t[b+1]=t[b+2]=0,A-=u,T-=k,R-=d,E-=c,u-=e.r,k-=e.g,d-=e.b,c-=e.a,b=z+((b=a+oe)<ne?b:ne)*B<<2,A+=g+=e.r=t[b],T+=y+=e.g=t[b+1],R+=m+=e.b=t[b+2],E+=U+=e.a=t[b+3],e=e.next,u+=K=n.r,k+=J=n.g,d+=re=n.b,c+=C=n.a,g-=K,y-=J,m-=re,U-=C,n=n.next,M+=B}}}function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var stackblur=blur;(function(t){(function(B,O){t.exports&&(t.exports=O(requireRgbcolor(),stackblur)),B.canvg=O(B.RGBColor,B.stackBlur)})(typeof window<"u"?window:commonjsGlobal,function(B,O){var p=function(E,u,k){if(E==null&&u==null&&k==null){for(var d=document.querySelectorAll("svg"),c=0;c<d.length;c++){var g=d[c],y=document.createElement("canvas");y.width=g.clientWidth,y.height=g.clientHeight,g.parentNode.insertBefore(y,g),g.parentNode.removeChild(g);var m=document.createElement("div");m.appendChild(g),p(y,m.innerHTML)}return}typeof E=="string"&&(E=document.getElementById(E)),E.svg!=null&&E.svg.stop();var U=R(k||{});E.childNodes.length==1&&E.childNodes[0].nodeName=="OBJECT"||(E.svg=U);var K=E.getContext("2d");typeof u.documentElement<"u"?U.loadXmlDoc(K,u):u.substr(0,1)=="<"?U.loadXml(K,u):U.load(K,u)},z;typeof Element.prototype.matches<"u"?z=function(E,u){return E.matches(u)}:typeof Element.prototype.webkitMatchesSelector<"u"?z=function(E,u){return E.webkitMatchesSelector(u)}:typeof Element.prototype.mozMatchesSelector<"u"?z=function(E,u){return E.mozMatchesSelector(u)}:typeof Element.prototype.msMatchesSelector<"u"?z=function(E,u){return E.msMatchesSelector(u)}:typeof Element.prototype.oMatchesSelector<"u"?z=function(E,u){return E.oMatchesSelector(u)}:((typeof $=="function"||typeof Zepto=="function")&&(z=function(E,u){return $(E).is(u)}),typeof z>"u"&&(z=Sizzle.matchesSelector));var a=/(\[[^\]]+\])/g,H=/(#[^\s\+>~\.\[:]+)/g,b=/(\.[^\s\+>~\.\[:]+)/g,x=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,M=/(:[\w-]+\([^\)]*\))/gi,S=/(:[^\s\+>~\.\[:]+)/g,A=/([^\s\+>~\.\[:]+)/g;function T(E){var u=[0,0,0],k=function(d,c){var g=E.match(d);g!=null&&(u[c]+=g.length,E=E.replace(d," "))};return E=E.replace(/:not\(([^\)]*)\)/g,"     $1 "),E=E.replace(/{[\s\S]*/gm," "),k(a,1),k(H,0),k(b,1),k(x,2),k(M,1),k(S,1),E=E.replace(/[\*\s\+>~]/g," "),E=E.replace(/[#\.]/g," "),k(A,2),u.join("")}function R(E){var u={opts:E};u.FRAMERATE=30,u.MAX_VIRTUAL_PIXELS=3e4,u.log=function(d){},u.opts.log==!0&&typeof console<"u"&&(u.log=function(d){console.log(d)}),u.init=function(d){var c=0;u.UniqueId=function(){return c++,"canvg"+c},u.Definitions={},u.Styles={},u.StylesSpecificity={},u.Animations=[],u.Images=[],u.ctx=d,u.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(g,y){this.viewPorts.push({width:g,height:y})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(g){return g!=null&&typeof g=="number"?g:g=="x"?this.width():g=="y"?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},u.init(),u.ImagesLoaded=function(){for(var d=0;d<u.Images.length;d++)if(!u.Images[d].loaded)return!1;return!0},u.trim=function(d){return d.replace(/^\s+|\s+$/g,"")},u.compressSpaces=function(d){return d.replace(/[\s\r\t\n]+/gm," ")},u.ajax=function(d){var c;return window.XMLHttpRequest?c=new XMLHttpRequest:c=new ActiveXObject("Microsoft.XMLHTTP"),c?(c.open("GET",d,!1),c.send(null),c.responseText):null},u.parseXml=function(d){if(typeof Windows<"u"&&typeof Windows.Data<"u"&&typeof Windows.Data.Xml<"u"){var c=new Windows.Data.Xml.Dom.XmlDocument,g=new Windows.Data.Xml.Dom.XmlLoadSettings;return g.prohibitDtd=!1,c.loadXml(d,g),c}else if(window.DOMParser)try{var y=new DOMParser;return y.parseFromString(d,"image/svg+xml")}catch{return y=new DOMParser,y.parseFromString(d,"text/xml")}else{d=d.replace(/<!DOCTYPE svg[^>]*>/,"");var c=new ActiveXObject("Microsoft.XMLDOM");return c.async="false",c.loadXML(d),c}},u.Property=function(d,c){this.name=d,this.value=c},u.Property.prototype.getValue=function(){return this.value},u.Property.prototype.hasValue=function(){return this.value!=null&&this.value!==""},u.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var d=parseFloat(this.value);return(this.value+"").match(/%$/)&&(d=d/100),d},u.Property.prototype.valueOrDefault=function(d){return this.hasValue()?this.value:d},u.Property.prototype.numValueOrDefault=function(d){return this.hasValue()?this.numValue():d},u.Property.prototype.addOpacity=function(d){var c=this.value;if(d.value!=null&&d.value!=""&&typeof this.value=="string"){var g=new B(this.value);g.ok&&(c="rgba("+g.r+", "+g.g+", "+g.b+", "+d.numValue()+")")}return new u.Property(this.name,c)},u.Property.prototype.getDefinition=function(){var d=this.value.match(/#([^\)'"]+)/);return d&&(d=d[1]),d||(d=this.value),u.Definitions[d]},u.Property.prototype.isUrlDefinition=function(){return this.value.indexOf("url(")==0},u.Property.prototype.getFillStyleDefinition=function(d,c){var g=this.getDefinition();if(g!=null&&g.createGradient)return g.createGradient(u.ctx,d,c);if(g!=null&&g.createPattern){if(g.getHrefAttribute().hasValue()){var y=g.attribute("patternTransform");g=g.getHrefAttribute().getDefinition(),y.hasValue()&&(g.attribute("patternTransform",!0).value=y.value)}return g.createPattern(u.ctx,d)}return null},u.Property.prototype.getDPI=function(d){return 96},u.Property.prototype.getEM=function(d){var c=12,g=new u.Property("fontSize",u.Font.Parse(u.ctx.font).fontSize);return g.hasValue()&&(c=g.toPixels(d)),c},u.Property.prototype.getUnits=function(){var d=this.value+"";return d.replace(/[0-9\.\-]/g,"")},u.Property.prototype.toPixels=function(d,c){if(!this.hasValue())return 0;var g=this.value+"";if(g.match(/em$/))return this.numValue()*this.getEM(d);if(g.match(/ex$/))return this.numValue()*this.getEM(d)/2;if(g.match(/px$/))return this.numValue();if(g.match(/pt$/))return this.numValue()*this.getDPI(d)*(1/72);if(g.match(/pc$/))return this.numValue()*15;if(g.match(/cm$/))return this.numValue()*this.getDPI(d)/2.54;if(g.match(/mm$/))return this.numValue()*this.getDPI(d)/25.4;if(g.match(/in$/))return this.numValue()*this.getDPI(d);if(g.match(/%$/))return this.numValue()*u.ViewPort.ComputeSize(d);var y=this.numValue();return c&&y<1?y*u.ViewPort.ComputeSize(d):y},u.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var d=this.value+"";return d.match(/s$/)?this.numValue()*1e3:d.match(/ms$/)?this.numValue():this.numValue()},u.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var d=this.value+"";return d.match(/deg$/)?this.numValue()*(Math.PI/180):d.match(/grad$/)?this.numValue()*(Math.PI/200):d.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var k={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};return u.Property.prototype.toTextBaseline=function(){return this.hasValue()?k[this.value]:null},u.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(c,g,y,m,U,K){var J=K!=null?this.Parse(K):this.CreateFont("","","","","",u.ctx.font);return{fontFamily:U||J.fontFamily,fontSize:m||J.fontSize,fontStyle:c||J.fontStyle,fontWeight:y||J.fontWeight,fontVariant:g||J.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var d=this;this.Parse=function(c){for(var g={},y=u.trim(u.compressSpaces(c||"")).split(" "),m={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},U="",K=0;K<y.length;K++)!m.fontStyle&&d.Styles.indexOf(y[K])!=-1?(y[K]!="inherit"&&(g.fontStyle=y[K]),m.fontStyle=!0):!m.fontVariant&&d.Variants.indexOf(y[K])!=-1?(y[K]!="inherit"&&(g.fontVariant=y[K]),m.fontStyle=m.fontVariant=!0):!m.fontWeight&&d.Weights.indexOf(y[K])!=-1?(y[K]!="inherit"&&(g.fontWeight=y[K]),m.fontStyle=m.fontVariant=m.fontWeight=!0):m.fontSize?y[K]!="inherit"&&(U+=y[K]):(y[K]!="inherit"&&(g.fontSize=y[K].split("/")[0]),m.fontStyle=m.fontVariant=m.fontWeight=m.fontSize=!0);return U!=""&&(g.fontFamily=U),g}},u.ToNumberArray=function(d){for(var c=u.trim(u.compressSpaces((d||"").replace(/,/g," "))).split(" "),g=0;g<c.length;g++)c[g]=parseFloat(c[g]);return c},u.Point=function(d,c){this.x=d,this.y=c},u.Point.prototype.angleTo=function(d){return Math.atan2(d.y-this.y,d.x-this.x)},u.Point.prototype.applyTransform=function(d){var c=this.x*d[0]+this.y*d[2]+d[4],g=this.x*d[1]+this.y*d[3]+d[5];this.x=c,this.y=g},u.CreatePoint=function(d){var c=u.ToNumberArray(d);return new u.Point(c[0],c[1])},u.CreatePath=function(d){for(var c=u.ToNumberArray(d),g=[],y=0;y<c.length;y+=2)g.push(new u.Point(c[y],c[y+1]));return g},u.BoundingBox=function(d,c,g,y){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(m,U){m!=null&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=m,this.x2=m),m<this.x1&&(this.x1=m),m>this.x2&&(this.x2=m)),U!=null&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=U,this.y2=U),U<this.y1&&(this.y1=U),U>this.y2&&(this.y2=U))},this.addX=function(m){this.addPoint(m,null)},this.addY=function(m){this.addPoint(null,m)},this.addBoundingBox=function(m){this.addPoint(m.x1,m.y1),this.addPoint(m.x2,m.y2)},this.addQuadraticCurve=function(m,U,K,J,re,C){var G=m+.6666666666666666*(K-m),N=U+2/3*(J-U),V=G+1/3*(re-m),ne=N+1/3*(C-U);this.addBezierCurve(m,U,G,V,N,ne,re,C)},this.addBezierCurve=function(m,U,K,J,re,C,G,N){var V=[m,U],ne=[K,J],oe=[re,C],ve=[G,N];for(this.addPoint(V[0],V[1]),this.addPoint(ve[0],ve[1]),i=0;i<=1;i++){var de=function(h){return Math.pow(1-h,3)*V[i]+3*Math.pow(1-h,2)*h*ne[i]+3*(1-h)*Math.pow(h,2)*oe[i]+Math.pow(h,3)*ve[i]},fe=6*V[i]-12*ne[i]+6*oe[i],ye=-3*V[i]+9*ne[i]-9*oe[i]+3*ve[i],e=3*ne[i]-3*V[i];if(ye==0){if(fe==0)continue;var n=-e/fe;0<n&&n<1&&(i==0&&this.addX(de(n)),i==1&&this.addY(de(n)));continue}var r=Math.pow(fe,2)-4*e*ye;if(!(r<0)){var s=(-fe+Math.sqrt(r))/(2*ye);0<s&&s<1&&(i==0&&this.addX(de(s)),i==1&&this.addY(de(s)));var l=(-fe-Math.sqrt(r))/(2*ye);0<l&&l<1&&(i==0&&this.addX(de(l)),i==1&&this.addY(de(l)))}}},this.isPointInBox=function(m,U){return this.x1<=m&&m<=this.x2&&this.y1<=U&&U<=this.y2},this.addPoint(d,c),this.addPoint(g,y)},u.Transform=function(d){var c=this;this.Type={},this.Type.translate=function(re){this.p=u.CreatePoint(re),this.apply=function(C){C.translate(this.p.x||0,this.p.y||0)},this.unapply=function(C){C.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(C){C.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.translate3d=function(re){var C=u.ToNumberArray(re);if(C[2]!=0)return null;this.p=u.CreatePoint(re),this.apply=function(G){G.translate(this.p.x||0,this.p.y||0)},this.unapply=function(G){G.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(G){G.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(re){var C=u.ToNumberArray(re);this.angle=new u.Property("angle",C[0]),this.cx=C[1]||0,this.cy=C[2]||0,this.apply=function(G){G.translate(this.cx,this.cy),G.rotate(this.angle.toRadians()),G.translate(-this.cx,-this.cy)},this.unapply=function(G){G.translate(this.cx,this.cy),G.rotate(-1*this.angle.toRadians()),G.translate(-this.cx,-this.cy)},this.applyToPoint=function(G){var N=this.angle.toRadians();G.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),G.applyTransform([Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0]),G.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(re){this.p=u.CreatePoint(re),this.apply=function(C){C.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(C){C.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(C){C.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(re){this.m=u.ToNumberArray(re),this.apply=function(C){C.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(C){var G=this.m[0],N=this.m[2],V=this.m[4],ne=this.m[1],oe=this.m[3],ve=this.m[5],de=0,fe=0,ye=1,e=1/(G*(oe*ye-ve*fe)-N*(ne*ye-ve*de)+V*(ne*fe-oe*de));C.transform(e*(oe*ye-ve*fe),e*(ve*de-ne*ye),e*(V*fe-N*ye),e*(G*ye-V*de),e*(N*ve-V*oe),e*(V*ne-G*ve))},this.applyToPoint=function(C){C.applyTransform(this.m)}},this.Type.SkewBase=function(re){this.base=c.Type.matrix,this.base(re),this.angle=new u.Property("angle",re)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(re){this.base=c.Type.SkewBase,this.base(re),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(re){this.base=c.Type.SkewBase,this.base(re),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(re){for(var C=0;C<this.transforms.length;C++)this.transforms[C].apply(re)},this.unapply=function(re){for(var C=this.transforms.length-1;C>=0;C--)this.transforms[C].unapply(re)},this.applyToPoint=function(re){for(var C=0;C<this.transforms.length;C++)this.transforms[C].applyToPoint(re)};for(var g=u.trim(u.compressSpaces(d)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),y=0;y<g.length;y++){var m=u.trim(g[y].split("(")[0]),U=g[y].split("(")[1].replace(")",""),K=this.Type[m];if(typeof K<"u"){var J=new K(U);J.type=m,this.transforms.push(J)}}},u.AspectRatio=function(d,c,g,y,m,U,K,J,re,C){c=u.compressSpaces(c),c=c.replace(/^defer\s/,"");var G=c.split(" ")[0]||"xMidYMid",N=c.split(" ")[1]||"meet",V=g/y,ne=m/U,oe=Math.min(V,ne),ve=Math.max(V,ne);N=="meet"&&(y*=oe,U*=oe),N=="slice"&&(y*=ve,U*=ve),re=new u.Property("refX",re),C=new u.Property("refY",C),re.hasValue()&&C.hasValue()?d.translate(-oe*re.toPixels("x"),-oe*C.toPixels("y")):(G.match(/^xMid/)&&(N=="meet"&&oe==ne||N=="slice"&&ve==ne)&&d.translate(g/2-y/2,0),G.match(/YMid$/)&&(N=="meet"&&oe==V||N=="slice"&&ve==V)&&d.translate(0,m/2-U/2),G.match(/^xMax/)&&(N=="meet"&&oe==ne||N=="slice"&&ve==ne)&&d.translate(g-y,0),G.match(/YMax$/)&&(N=="meet"&&oe==V||N=="slice"&&ve==V)&&d.translate(0,m-U)),G=="none"?d.scale(V,ne):N=="meet"?d.scale(oe,oe):N=="slice"&&d.scale(ve,ve),d.translate(K==null?0:-K,J==null?0:-J)},u.Element={},u.EmptyProperty=new u.Property("EMPTY",""),u.Element.ElementBase=function(d){this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(V,ne){var oe=this.attributes[V];return oe!=null?oe:(ne==!0&&(oe=new u.Property(V,""),this.attributes[V]=oe),oe||u.EmptyProperty)},this.getHrefAttribute=function(){for(var V in this.attributes)if(V=="href"||V.match(/:href$/))return this.attributes[V];return u.EmptyProperty},this.style=function(V,ne,oe){var ve=this.styles[V];if(ve!=null)return ve;var de=this.attribute(V);if(de!=null&&de.hasValue())return this.styles[V]=de,de;if(oe!=!0){var fe=this.parent;if(fe!=null){var ye=fe.style(V);if(ye!=null&&ye.hasValue())return ye}}return ne==!0&&(ve=new u.Property(V,""),this.styles[V]=ve),ve||u.EmptyProperty},this.render=function(V){if(this.style("display").value!="none"&&this.style("visibility").value!="hidden"){if(V.save(),this.style("mask").hasValue()){var ne=this.style("mask").getDefinition();ne!=null&&ne.apply(V,this)}else if(this.style("filter").hasValue()){var oe=this.style("filter").getDefinition();oe!=null&&oe.apply(V,this)}else this.setContext(V),this.renderChildren(V),this.clearContext(V);V.restore()}},this.setContext=function(V){},this.clearContext=function(V){},this.renderChildren=function(V){for(var ne=0;ne<this.children.length;ne++)this.children[ne].render(V)},this.addChild=function(V,ne){var oe=V;ne&&(oe=u.CreateElement(V)),oe.parent=this,oe.type!="title"&&this.children.push(oe)},this.addStylesFromStyleDefinition=function(){for(var V in u.Styles)if(V[0]!="@"&&z(d,V)){var ne=u.Styles[V],oe=u.StylesSpecificity[V];if(ne!=null)for(var ve in ne){var de=this.stylesSpecificity[ve];typeof de>"u"&&(de="000"),oe>de&&(this.styles[ve]=ne[ve],this.stylesSpecificity[ve]=oe)}}};var c=new RegExp("^[A-Z-]+$"),g=function(V){return c.test(V)?V.toLowerCase():V};if(d!=null&&d.nodeType==1){for(var y=0;y<d.attributes.length;y++){var m=d.attributes[y],U=g(m.nodeName);this.attributes[U]=new u.Property(U,m.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue()){for(var K=this.attribute("style").value.split(";"),y=0;y<K.length;y++)if(u.trim(K[y])!=""){var J=K[y].split(":"),re=u.trim(J[0]),C=u.trim(J[1]);this.styles[re]=new u.Property(re,C)}}this.attribute("id").hasValue()&&u.Definitions[this.attribute("id").value]==null&&(u.Definitions[this.attribute("id").value]=this);for(var y=0;y<d.childNodes.length;y++){var G=d.childNodes[y];if(G.nodeType==1&&this.addChild(G,!0),this.captureTextNodes&&(G.nodeType==3||G.nodeType==4)){var N=G.value||G.text||G.textContent||"";u.compressSpaces(N)!=""&&this.addChild(new u.Element.tspan(G),!1)}}}},u.Element.RenderedElementBase=function(d){this.base=u.Element.ElementBase,this.base(d),this.setContext=function(c){if(this.style("fill").isUrlDefinition()){var g=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));g!=null&&(c.fillStyle=g)}else if(this.style("fill").hasValue()){var y=this.style("fill");y.value=="currentColor"&&(y.value=this.style("color").value),y.value!="inherit"&&(c.fillStyle=y.value=="none"?"rgba(0,0,0,0)":y.value)}if(this.style("fill-opacity").hasValue()){var y=new u.Property("fill",c.fillStyle);y=y.addOpacity(this.style("fill-opacity")),c.fillStyle=y.value}if(this.style("stroke").isUrlDefinition()){var g=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));g!=null&&(c.strokeStyle=g)}else if(this.style("stroke").hasValue()){var m=this.style("stroke");m.value=="currentColor"&&(m.value=this.style("color").value),m.value!="inherit"&&(c.strokeStyle=m.value=="none"?"rgba(0,0,0,0)":m.value)}if(this.style("stroke-opacity").hasValue()){var m=new u.Property("stroke",c.strokeStyle);m=m.addOpacity(this.style("stroke-opacity")),c.strokeStyle=m.value}if(this.style("stroke-width").hasValue()){var U=this.style("stroke-width").toPixels();c.lineWidth=U==0?.001:U}if(this.style("stroke-linecap").hasValue()&&(c.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(c.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(c.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()&&this.style("stroke-dasharray").value!="none"){var K=u.ToNumberArray(this.style("stroke-dasharray").value);typeof c.setLineDash<"u"?c.setLineDash(K):typeof c.webkitLineDash<"u"?c.webkitLineDash=K:typeof c.mozDash<"u"&&!(K.length==1&&K[0]==0)&&(c.mozDash=K);var J=this.style("stroke-dashoffset").numValueOrDefault(1);typeof c.lineDashOffset<"u"?c.lineDashOffset=J:typeof c.webkitLineDashOffset<"u"?c.webkitLineDashOffset=J:typeof c.mozDashOffset<"u"&&(c.mozDashOffset=J)}if(typeof c.font<"u"&&(c.font=u.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.style("transform",!1,!0).hasValue()){var re=new u.Transform(this.style("transform",!1,!0).value);re.apply(c)}if(this.style("clip-path",!1,!0).hasValue()){var C=this.style("clip-path",!1,!0).getDefinition();C!=null&&C.apply(c)}this.style("opacity").hasValue()&&(c.globalAlpha=this.style("opacity").numValue())}},u.Element.RenderedElementBase.prototype=new u.Element.ElementBase,u.Element.PathElementBase=function(d){this.base=u.Element.RenderedElementBase,this.base(d),this.path=function(c){return c!=null&&c.beginPath(),new u.BoundingBox},this.renderChildren=function(c){this.path(c),u.Mouse.checkPath(this,c),c.fillStyle!=""&&(this.style("fill-rule").valueOrDefault("inherit")!="inherit"?c.fill(this.style("fill-rule").value):c.fill()),c.strokeStyle!=""&&c.stroke();var g=this.getMarkers();if(g!=null){if(this.style("marker-start").isUrlDefinition()){var y=this.style("marker-start").getDefinition();y.render(c,g[0][0],g[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var y=this.style("marker-mid").getDefinition(),m=1;m<g.length-1;m++)y.render(c,g[m][0],g[m][1]);if(this.style("marker-end").isUrlDefinition()){var y=this.style("marker-end").getDefinition();y.render(c,g[g.length-1][0],g[g.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},u.Element.PathElementBase.prototype=new u.Element.RenderedElementBase,u.Element.svg=function(d){this.base=u.Element.RenderedElementBase,this.base(d),this.baseClearContext=this.clearContext,this.clearContext=function(c){this.baseClearContext(c),u.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(c){c.strokeStyle="rgba(0,0,0,0)",c.lineCap="butt",c.lineJoin="miter",c.miterLimit=4,typeof c.font<"u"&&typeof window.getComputedStyle<"u"&&(c.font=window.getComputedStyle(c.canvas).getPropertyValue("font")),this.baseSetContext(c),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),c.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var g=u.ViewPort.width(),y=u.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),typeof this.root>"u"){g=this.attribute("width").toPixels("x"),y=this.attribute("height").toPixels("y");var m=0,U=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(m=-this.attribute("refX").toPixels("x"),U=-this.attribute("refY").toPixels("y")),this.attribute("overflow").valueOrDefault("hidden")!="visible"&&(c.beginPath(),c.moveTo(m,U),c.lineTo(g,U),c.lineTo(g,y),c.lineTo(m,y),c.closePath(),c.clip())}if(u.ViewPort.SetCurrent(g,y),this.attribute("viewBox").hasValue()){var K=u.ToNumberArray(this.attribute("viewBox").value),J=K[0],re=K[1];g=K[2],y=K[3],u.AspectRatio(c,this.attribute("preserveAspectRatio").value,u.ViewPort.width(),g,u.ViewPort.height(),y,J,re,this.attribute("refX").value,this.attribute("refY").value),u.ViewPort.RemoveCurrent(),u.ViewPort.SetCurrent(K[2],K[3])}}},u.Element.svg.prototype=new u.Element.RenderedElementBase,u.Element.rect=function(d){this.base=u.Element.PathElementBase,this.base(d),this.path=function(c){var g=this.attribute("x").toPixels("x"),y=this.attribute("y").toPixels("y"),m=this.attribute("width").toPixels("x"),U=this.attribute("height").toPixels("y"),K=this.attribute("rx").toPixels("x"),J=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(J=K),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(K=J),K=Math.min(K,m/2),J=Math.min(J,U/2),c!=null&&(c.beginPath(),c.moveTo(g+K,y),c.lineTo(g+m-K,y),c.quadraticCurveTo(g+m,y,g+m,y+J),c.lineTo(g+m,y+U-J),c.quadraticCurveTo(g+m,y+U,g+m-K,y+U),c.lineTo(g+K,y+U),c.quadraticCurveTo(g,y+U,g,y+U-J),c.lineTo(g,y+J),c.quadraticCurveTo(g,y,g+K,y),c.closePath()),new u.BoundingBox(g,y,g+m,y+U)}},u.Element.rect.prototype=new u.Element.PathElementBase,u.Element.circle=function(d){this.base=u.Element.PathElementBase,this.base(d),this.path=function(c){var g=this.attribute("cx").toPixels("x"),y=this.attribute("cy").toPixels("y"),m=this.attribute("r").toPixels();return c!=null&&(c.beginPath(),c.arc(g,y,m,0,Math.PI*2,!0),c.closePath()),new u.BoundingBox(g-m,y-m,g+m,y+m)}},u.Element.circle.prototype=new u.Element.PathElementBase,u.Element.ellipse=function(d){this.base=u.Element.PathElementBase,this.base(d),this.path=function(c){var g=4*((Math.sqrt(2)-1)/3),y=this.attribute("rx").toPixels("x"),m=this.attribute("ry").toPixels("y"),U=this.attribute("cx").toPixels("x"),K=this.attribute("cy").toPixels("y");return c!=null&&(c.beginPath(),c.moveTo(U,K-m),c.bezierCurveTo(U+g*y,K-m,U+y,K-g*m,U+y,K),c.bezierCurveTo(U+y,K+g*m,U+g*y,K+m,U,K+m),c.bezierCurveTo(U-g*y,K+m,U-y,K+g*m,U-y,K),c.bezierCurveTo(U-y,K-g*m,U-g*y,K-m,U,K-m),c.closePath()),new u.BoundingBox(U-y,K-m,U+y,K+m)}},u.Element.ellipse.prototype=new u.Element.PathElementBase,u.Element.line=function(d){this.base=u.Element.PathElementBase,this.base(d),this.getPoints=function(){return[new u.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new u.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(c){var g=this.getPoints();return c!=null&&(c.beginPath(),c.moveTo(g[0].x,g[0].y),c.lineTo(g[1].x,g[1].y)),new u.BoundingBox(g[0].x,g[0].y,g[1].x,g[1].y)},this.getMarkers=function(){var c=this.getPoints(),g=c[0].angleTo(c[1]);return[[c[0],g],[c[1],g]]}},u.Element.line.prototype=new u.Element.PathElementBase,u.Element.polyline=function(d){this.base=u.Element.PathElementBase,this.base(d),this.points=u.CreatePath(this.attribute("points").value),this.path=function(c){var g=new u.BoundingBox(this.points[0].x,this.points[0].y);c!=null&&(c.beginPath(),c.moveTo(this.points[0].x,this.points[0].y));for(var y=1;y<this.points.length;y++)g.addPoint(this.points[y].x,this.points[y].y),c!=null&&c.lineTo(this.points[y].x,this.points[y].y);return g},this.getMarkers=function(){for(var c=[],g=0;g<this.points.length-1;g++)c.push([this.points[g],this.points[g].angleTo(this.points[g+1])]);return c.length>0&&c.push([this.points[this.points.length-1],c[c.length-1][1]]),c}},u.Element.polyline.prototype=new u.Element.PathElementBase,u.Element.polygon=function(d){this.base=u.Element.polyline,this.base(d),this.basePath=this.path,this.path=function(c){var g=this.basePath(c);return c!=null&&(c.lineTo(this.points[0].x,this.points[0].y),c.closePath()),g}},u.Element.polygon.prototype=new u.Element.polyline,u.Element.path=function(d){this.base=u.Element.PathElementBase,this.base(d);var c=this.attribute("d").value;c=c.replace(/,/gm," ");for(var g=0;g<2;g++)c=c.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");c=c.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),c=c.replace(/([0-9])([+\-])/gm,"$1 $2");for(var g=0;g<2;g++)c=c.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");c=c.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),c=u.compressSpaces(c),c=u.trim(c),this.PathParser=new function(y){this.tokens=y.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new u.Point(0,0),this.control=new u.Point(0,0),this.current=new u.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:this.tokens[this.i+1].match(/^[A-Za-z]$/)!=null},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var m=new u.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(m)},this.getAsControlPoint=function(){var m=this.getPoint();return this.control=m,m},this.getAsCurrentPoint=function(){var m=this.getPoint();return this.current=m,m},this.getReflectedControlPoint=function(){if(this.previousCommand.toLowerCase()!="c"&&this.previousCommand.toLowerCase()!="s"&&this.previousCommand.toLowerCase()!="q"&&this.previousCommand.toLowerCase()!="t")return this.current;var m=new u.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return m},this.makeAbsolute=function(m){return this.isRelativeCommand()&&(m.x+=this.current.x,m.y+=this.current.y),m},this.addMarker=function(m,U,K){K!=null&&this.angles.length>0&&this.angles[this.angles.length-1]==null&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(K)),this.addMarkerAngle(m,U==null?null:U.angleTo(m))},this.addMarkerAngle=function(m,U){this.points.push(m),this.angles.push(U)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var m=0;m<this.angles.length;m++)if(this.angles[m]==null){for(var U=m+1;U<this.angles.length;U++)if(this.angles[U]!=null){this.angles[m]=this.angles[U];break}}return this.angles}}(c),this.path=function(y){var m=this.PathParser;m.reset();var U=new u.BoundingBox;for(y!=null&&y.beginPath();!m.isEnd();)switch(m.nextCommand(),m.command){case"M":case"m":var K=m.getAsCurrentPoint();for(m.addMarker(K),U.addPoint(K.x,K.y),y!=null&&y.moveTo(K.x,K.y),m.start=m.current;!m.isCommandOrEnd();){var K=m.getAsCurrentPoint();m.addMarker(K,m.start),U.addPoint(K.x,K.y),y!=null&&y.lineTo(K.x,K.y)}break;case"L":case"l":for(;!m.isCommandOrEnd();){var J=m.current,K=m.getAsCurrentPoint();m.addMarker(K,J),U.addPoint(K.x,K.y),y!=null&&y.lineTo(K.x,K.y)}break;case"H":case"h":for(;!m.isCommandOrEnd();){var re=new u.Point((m.isRelativeCommand()?m.current.x:0)+m.getScalar(),m.current.y);m.addMarker(re,m.current),m.current=re,U.addPoint(m.current.x,m.current.y),y!=null&&y.lineTo(m.current.x,m.current.y)}break;case"V":case"v":for(;!m.isCommandOrEnd();){var re=new u.Point(m.current.x,(m.isRelativeCommand()?m.current.y:0)+m.getScalar());m.addMarker(re,m.current),m.current=re,U.addPoint(m.current.x,m.current.y),y!=null&&y.lineTo(m.current.x,m.current.y)}break;case"C":case"c":for(;!m.isCommandOrEnd();){var C=m.current,G=m.getPoint(),N=m.getAsControlPoint(),V=m.getAsCurrentPoint();m.addMarker(V,N,G),U.addBezierCurve(C.x,C.y,G.x,G.y,N.x,N.y,V.x,V.y),y!=null&&y.bezierCurveTo(G.x,G.y,N.x,N.y,V.x,V.y)}break;case"S":case"s":for(;!m.isCommandOrEnd();){var C=m.current,G=m.getReflectedControlPoint(),N=m.getAsControlPoint(),V=m.getAsCurrentPoint();m.addMarker(V,N,G),U.addBezierCurve(C.x,C.y,G.x,G.y,N.x,N.y,V.x,V.y),y!=null&&y.bezierCurveTo(G.x,G.y,N.x,N.y,V.x,V.y)}break;case"Q":case"q":for(;!m.isCommandOrEnd();){var C=m.current,N=m.getAsControlPoint(),V=m.getAsCurrentPoint();m.addMarker(V,N,N),U.addQuadraticCurve(C.x,C.y,N.x,N.y,V.x,V.y),y!=null&&y.quadraticCurveTo(N.x,N.y,V.x,V.y)}break;case"T":case"t":for(;!m.isCommandOrEnd();){var C=m.current,N=m.getReflectedControlPoint();m.control=N;var V=m.getAsCurrentPoint();m.addMarker(V,N,N),U.addQuadraticCurve(C.x,C.y,N.x,N.y,V.x,V.y),y!=null&&y.quadraticCurveTo(N.x,N.y,V.x,V.y)}break;case"A":case"a":for(;!m.isCommandOrEnd();){var C=m.current,ne=m.getScalar(),oe=m.getScalar(),ve=m.getScalar()*(Math.PI/180),de=m.getScalar(),fe=m.getScalar(),V=m.getAsCurrentPoint(),ye=new u.Point(Math.cos(ve)*(C.x-V.x)/2+Math.sin(ve)*(C.y-V.y)/2,-Math.sin(ve)*(C.x-V.x)/2+Math.cos(ve)*(C.y-V.y)/2),e=Math.pow(ye.x,2)/Math.pow(ne,2)+Math.pow(ye.y,2)/Math.pow(oe,2);e>1&&(ne*=Math.sqrt(e),oe*=Math.sqrt(e));var n=(de==fe?-1:1)*Math.sqrt((Math.pow(ne,2)*Math.pow(oe,2)-Math.pow(ne,2)*Math.pow(ye.y,2)-Math.pow(oe,2)*Math.pow(ye.x,2))/(Math.pow(ne,2)*Math.pow(ye.y,2)+Math.pow(oe,2)*Math.pow(ye.x,2)));isNaN(n)&&(n=0);var r=new u.Point(n*ne*ye.y/oe,n*-oe*ye.x/ne),s=new u.Point((C.x+V.x)/2+Math.cos(ve)*r.x-Math.sin(ve)*r.y,(C.y+V.y)/2+Math.sin(ve)*r.x+Math.cos(ve)*r.y),l=function(ze){return Math.sqrt(Math.pow(ze[0],2)+Math.pow(ze[1],2))},h=function(ze,je){return(ze[0]*je[0]+ze[1]*je[1])/(l(ze)*l(je))},v=function(ze,je){return(ze[0]*je[1]<ze[1]*je[0]?-1:1)*Math.acos(h(ze,je))},D=v([1,0],[(ye.x-r.x)/ne,(ye.y-r.y)/oe]),F=[(ye.x-r.x)/ne,(ye.y-r.y)/oe],Z=[(-ye.x-r.x)/ne,(-ye.y-r.y)/oe],ae=v(F,Z);h(F,Z)<=-1&&(ae=Math.PI),h(F,Z)>=1&&(ae=0);var ge=1-fe?1:-1,Q=D+ge*(ae/2),ie=new u.Point(s.x+ne*Math.cos(Q),s.y+oe*Math.sin(Q));if(m.addMarkerAngle(ie,Q-ge*Math.PI/2),m.addMarkerAngle(V,Q-ge*Math.PI),U.addPoint(V.x,V.y),y!=null){var h=ne>oe?ne:oe,le=ne>oe?1:ne/oe,ce=ne>oe?oe/ne:1;y.translate(s.x,s.y),y.rotate(ve),y.scale(le,ce),y.arc(0,0,h,D,D+ae,1-fe),y.scale(1/le,1/ce),y.rotate(-ve),y.translate(-s.x,-s.y)}}break;case"Z":case"z":y!=null&&y.closePath(),m.current=m.start}return U},this.getMarkers=function(){for(var y=this.PathParser.getMarkerPoints(),m=this.PathParser.getMarkerAngles(),U=[],K=0;K<y.length;K++)U.push([y[K],m[K]]);return U}},u.Element.path.prototype=new u.Element.PathElementBase,u.Element.pattern=function(d){this.base=u.Element.ElementBase,this.base(d),this.createPattern=function(c,g){var y=this.attribute("width").toPixels("x",!0),m=this.attribute("height").toPixels("y",!0),U=new u.Element.svg;U.attributes.viewBox=new u.Property("viewBox",this.attribute("viewBox").value),U.attributes.width=new u.Property("width",y+"px"),U.attributes.height=new u.Property("height",m+"px"),U.attributes.transform=new u.Property("transform",this.attribute("patternTransform").value),U.children=this.children;var K=document.createElement("canvas");K.width=y,K.height=m;var J=K.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&J.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var re=-1;re<=1;re++)for(var C=-1;C<=1;C++)J.save(),U.attributes.x=new u.Property("x",re*K.width),U.attributes.y=new u.Property("y",C*K.height),U.render(J),J.restore();var G=c.createPattern(K,"repeat");return G}},u.Element.pattern.prototype=new u.Element.ElementBase,u.Element.marker=function(d){this.base=u.Element.ElementBase,this.base(d),this.baseRender=this.render,this.render=function(c,g,y){c.translate(g.x,g.y),this.attribute("orient").valueOrDefault("auto")=="auto"&&c.rotate(y),this.attribute("markerUnits").valueOrDefault("strokeWidth")=="strokeWidth"&&c.scale(c.lineWidth,c.lineWidth),c.save();var m=new u.Element.svg;m.attributes.viewBox=new u.Property("viewBox",this.attribute("viewBox").value),m.attributes.refX=new u.Property("refX",this.attribute("refX").value),m.attributes.refY=new u.Property("refY",this.attribute("refY").value),m.attributes.width=new u.Property("width",this.attribute("markerWidth").value),m.attributes.height=new u.Property("height",this.attribute("markerHeight").value),m.attributes.fill=new u.Property("fill",this.attribute("fill").valueOrDefault("black")),m.attributes.stroke=new u.Property("stroke",this.attribute("stroke").valueOrDefault("none")),m.children=this.children,m.render(c),c.restore(),this.attribute("markerUnits").valueOrDefault("strokeWidth")=="strokeWidth"&&c.scale(1/c.lineWidth,1/c.lineWidth),this.attribute("orient").valueOrDefault("auto")=="auto"&&c.rotate(-y),c.translate(-g.x,-g.y)}},u.Element.marker.prototype=new u.Element.ElementBase,u.Element.defs=function(d){this.base=u.Element.ElementBase,this.base(d),this.render=function(c){}},u.Element.defs.prototype=new u.Element.ElementBase,u.Element.GradientBase=function(d){this.base=u.Element.ElementBase,this.base(d),this.stops=[];for(var c=0;c<this.children.length;c++){var g=this.children[c];g.type=="stop"&&this.stops.push(g)}this.getGradient=function(){},this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")},this.attributesToInherit=["gradientUnits"],this.inheritStopContainer=function(y){for(var m=0;m<this.attributesToInherit.length;m++){var U=this.attributesToInherit[m];!this.attribute(U).hasValue()&&y.attribute(U).hasValue()&&(this.attribute(U,!0).value=y.attribute(U).value)}},this.createGradient=function(y,m,U){var K=this;this.getHrefAttribute().hasValue()&&(K=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(K));var J=function(de){if(U.hasValue()){var fe=new u.Property("color",de);return fe.addOpacity(U).value}return de},re=this.getGradient(y,m);if(re==null)return J(K.stops[K.stops.length-1].color);for(var C=0;C<K.stops.length;C++)re.addColorStop(K.stops[C].offset,J(K.stops[C].color));if(this.attribute("gradientTransform").hasValue()){var G=u.ViewPort.viewPorts[0],N=new u.Element.rect;N.attributes.x=new u.Property("x",-u.MAX_VIRTUAL_PIXELS/3),N.attributes.y=new u.Property("y",-u.MAX_VIRTUAL_PIXELS/3),N.attributes.width=new u.Property("width",u.MAX_VIRTUAL_PIXELS),N.attributes.height=new u.Property("height",u.MAX_VIRTUAL_PIXELS);var V=new u.Element.g;V.attributes.transform=new u.Property("transform",this.attribute("gradientTransform").value),V.children=[N];var ne=new u.Element.svg;ne.attributes.x=new u.Property("x",0),ne.attributes.y=new u.Property("y",0),ne.attributes.width=new u.Property("width",G.width),ne.attributes.height=new u.Property("height",G.height),ne.children=[V];var oe=document.createElement("canvas");oe.width=G.width,oe.height=G.height;var ve=oe.getContext("2d");return ve.fillStyle=re,ne.render(ve),ve.createPattern(oe,"no-repeat")}return re}},u.Element.GradientBase.prototype=new u.Element.ElementBase,u.Element.linearGradient=function(d){this.base=u.Element.GradientBase,this.base(d),this.attributesToInherit.push("x1"),this.attributesToInherit.push("y1"),this.attributesToInherit.push("x2"),this.attributesToInherit.push("y2"),this.getGradient=function(c,g){var y=this.gradientUnits()=="objectBoundingBox"?g.getBoundingBox():null;!this.attribute("x1").hasValue()&&!this.attribute("y1").hasValue()&&!this.attribute("x2").hasValue()&&!this.attribute("y2").hasValue()&&(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var m=this.gradientUnits()=="objectBoundingBox"?y.x()+y.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),U=this.gradientUnits()=="objectBoundingBox"?y.y()+y.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),K=this.gradientUnits()=="objectBoundingBox"?y.x()+y.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),J=this.gradientUnits()=="objectBoundingBox"?y.y()+y.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return m==K&&U==J?null:c.createLinearGradient(m,U,K,J)}},u.Element.linearGradient.prototype=new u.Element.GradientBase,u.Element.radialGradient=function(d){this.base=u.Element.GradientBase,this.base(d),this.attributesToInherit.push("cx"),this.attributesToInherit.push("cy"),this.attributesToInherit.push("r"),this.attributesToInherit.push("fx"),this.attributesToInherit.push("fy"),this.getGradient=function(c,g){var y=g.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var m=this.gradientUnits()=="objectBoundingBox"?y.x()+y.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),U=this.gradientUnits()=="objectBoundingBox"?y.y()+y.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),K=m,J=U;this.attribute("fx").hasValue()&&(K=this.gradientUnits()=="objectBoundingBox"?y.x()+y.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(J=this.gradientUnits()=="objectBoundingBox"?y.y()+y.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var re=this.gradientUnits()=="objectBoundingBox"?(y.width()+y.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return c.createRadialGradient(K,J,0,m,U,re)}},u.Element.radialGradient.prototype=new u.Element.GradientBase,u.Element.stop=function(d){this.base=u.Element.ElementBase,this.base(d),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var c=this.style("stop-color",!0);c.value===""&&(c.value="#000"),this.style("stop-opacity").hasValue()&&(c=c.addOpacity(this.style("stop-opacity"))),this.color=c.value},u.Element.stop.prototype=new u.Element.ElementBase,u.Element.AnimateBase=function(d){this.base=u.Element.ElementBase,this.base(d),u.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var c=this.attribute("attributeType").value,g=this.attribute("attributeName").value;return c=="CSS"?this.parent.style(g,!0):this.parent.attribute(g,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(c){if(this.initialValue==null&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if(this.attribute("repeatCount").value=="indefinite"||this.attribute("repeatDur").value=="indefinite")this.duration=0;else if(this.attribute("fill").valueOrDefault("remove")=="freeze"&&!this.frozen)this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;else if(this.attribute("fill").valueOrDefault("remove")=="remove"&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0;return!1}this.duration=this.duration+c;var g=!1;if(this.begin<this.duration){var y=this.calcValue();if(this.attribute("type").hasValue()){var m=this.attribute("type").value;y=m+"("+y+")"}this.getProperty().value=y,g=!0}return g},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var c={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var g=c.progress*(this.values.value.length-1),y=Math.floor(g),m=Math.ceil(g);c.from=new u.Property("from",parseFloat(this.values.value[y])),c.to=new u.Property("to",parseFloat(this.values.value[m])),c.progress=(g-y)/(m-y)}else c.from=this.from,c.to=this.to;return c}},u.Element.AnimateBase.prototype=new u.Element.ElementBase,u.Element.animate=function(d){this.base=u.Element.AnimateBase,this.base(d),this.calcValue=function(){var c=this.progress(),g=c.from.numValue()+(c.to.numValue()-c.from.numValue())*c.progress;return g+this.initialUnits}},u.Element.animate.prototype=new u.Element.AnimateBase,u.Element.animateColor=function(d){this.base=u.Element.AnimateBase,this.base(d),this.calcValue=function(){var c=this.progress(),g=new B(c.from.value),y=new B(c.to.value);if(g.ok&&y.ok){var m=g.r+(y.r-g.r)*c.progress,U=g.g+(y.g-g.g)*c.progress,K=g.b+(y.b-g.b)*c.progress;return"rgb("+parseInt(m,10)+","+parseInt(U,10)+","+parseInt(K,10)+")"}return this.attribute("from").value}},u.Element.animateColor.prototype=new u.Element.AnimateBase,u.Element.animateTransform=function(d){this.base=u.Element.AnimateBase,this.base(d),this.calcValue=function(){for(var c=this.progress(),g=u.ToNumberArray(c.from.value),y=u.ToNumberArray(c.to.value),m="",U=0;U<g.length;U++)m+=g[U]+(y[U]-g[U])*c.progress+" ";return m}},u.Element.animateTransform.prototype=new u.Element.animate,u.Element.font=function(d){this.base=u.Element.ElementBase,this.base(d),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var c=0;c<this.children.length;c++){var g=this.children[c];g.type=="font-face"?(this.fontFace=g,g.style("font-family").hasValue()&&(u.Definitions[g.style("font-family").value]=this)):g.type=="missing-glyph"?this.missingGlyph=g:g.type=="glyph"&&(g.arabicForm!=""?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[g.unicode]>"u"&&(this.glyphs[g.unicode]=[]),this.glyphs[g.unicode][g.arabicForm]=g):this.glyphs[g.unicode]=g)}},u.Element.font.prototype=new u.Element.ElementBase,u.Element.fontface=function(d){this.base=u.Element.ElementBase,this.base(d),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},u.Element.fontface.prototype=new u.Element.ElementBase,u.Element.missingglyph=function(d){this.base=u.Element.path,this.base(d),this.horizAdvX=0},u.Element.missingglyph.prototype=new u.Element.path,u.Element.glyph=function(d){this.base=u.Element.path,this.base(d),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},u.Element.glyph.prototype=new u.Element.path,u.Element.text=function(d){this.captureTextNodes=!0,this.base=u.Element.RenderedElementBase,this.base(d),this.baseSetContext=this.setContext,this.setContext=function(c){this.baseSetContext(c);var g=this.style("dominant-baseline").toTextBaseline();g==null&&(g=this.style("alignment-baseline").toTextBaseline()),g!=null&&(c.textBaseline=g)},this.getBoundingBox=function(){var c=this.attribute("x").toPixels("x"),g=this.attribute("y").toPixels("y"),y=this.parent.style("font-size").numValueOrDefault(u.Font.Parse(u.ctx.font).fontSize);return new u.BoundingBox(c,g-y,c+Math.floor(y*2/3)*this.children[0].getText().length,g)},this.renderChildren=function(c){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),this.x+=this.getAnchorDelta(c,this,0);for(var g=0;g<this.children.length;g++)this.renderChild(c,this,this,g)},this.getAnchorDelta=function(c,g,y){var m=this.style("text-anchor").valueOrDefault("start");if(m!="start"){for(var U=0,K=y;K<g.children.length;K++){var J=g.children[K];if(K>y&&J.attribute("x").hasValue())break;U+=J.measureTextRecursive(c)}return-1*(m=="end"?U:U/2)}return 0},this.renderChild=function(c,g,y,m){var U=y.children[m];U.attribute("x").hasValue()?(U.x=U.attribute("x").toPixels("x")+g.getAnchorDelta(c,y,m),U.attribute("dx").hasValue()&&(U.x+=U.attribute("dx").toPixels("x"))):(U.attribute("dx").hasValue()&&(g.x+=U.attribute("dx").toPixels("x")),U.x=g.x),g.x=U.x+U.measureText(c),U.attribute("y").hasValue()?(U.y=U.attribute("y").toPixels("y"),U.attribute("dy").hasValue()&&(U.y+=U.attribute("dy").toPixels("y"))):(U.attribute("dy").hasValue()&&(g.y+=U.attribute("dy").toPixels("y")),U.y=g.y),g.y=U.y,U.render(c);for(var m=0;m<U.children.length;m++)g.renderChild(c,g,U,m)}},u.Element.text.prototype=new u.Element.RenderedElementBase,u.Element.TextElementBase=function(d){this.base=u.Element.RenderedElementBase,this.base(d),this.getGlyph=function(c,g,y){var m=g[y],U=null;if(c.isArabic){var K="isolated";(y==0||g[y-1]==" ")&&y<g.length-2&&g[y+1]!=" "&&(K="terminal"),y>0&&g[y-1]!=" "&&y<g.length-2&&g[y+1]!=" "&&(K="medial"),y>0&&g[y-1]!=" "&&(y==g.length-1||g[y+1]==" ")&&(K="initial"),typeof c.glyphs[m]<"u"&&(U=c.glyphs[m][K],U==null&&c.glyphs[m].type=="glyph"&&(U=c.glyphs[m]))}else U=c.glyphs[m];return U==null&&(U=c.missingGlyph),U},this.renderChildren=function(c){var g=this.parent.style("font-family").getDefinition();if(g!=null){var y=this.parent.style("font-size").numValueOrDefault(u.Font.Parse(u.ctx.font).fontSize),m=this.parent.style("font-style").valueOrDefault(u.Font.Parse(u.ctx.font).fontStyle),U=this.getText();g.isRTL&&(U=U.split("").reverse().join(""));for(var K=u.ToNumberArray(this.parent.attribute("dx").value),J=0;J<U.length;J++){var re=this.getGlyph(g,U,J),C=y/g.fontFace.unitsPerEm;c.translate(this.x,this.y),c.scale(C,-C);var G=c.lineWidth;c.lineWidth=c.lineWidth*g.fontFace.unitsPerEm/y,m=="italic"&&c.transform(1,0,.4,1,0,0),re.render(c),m=="italic"&&c.transform(1,0,-.4,1,0,0),c.lineWidth=G,c.scale(1/C,-1/C),c.translate(-this.x,-this.y),this.x+=y*(re.horizAdvX||g.horizAdvX)/g.fontFace.unitsPerEm,typeof K[J]<"u"&&!isNaN(K[J])&&(this.x+=K[J])}return}c.fillStyle!=""&&c.fillText(u.compressSpaces(this.getText()),this.x,this.y),c.strokeStyle!=""&&c.strokeText(u.compressSpaces(this.getText()),this.x,this.y)},this.getText=function(){},this.measureTextRecursive=function(c){for(var g=this.measureText(c),y=0;y<this.children.length;y++)g+=this.children[y].measureTextRecursive(c);return g},this.measureText=function(c){var g=this.parent.style("font-family").getDefinition();if(g!=null){var y=this.parent.style("font-size").numValueOrDefault(u.Font.Parse(u.ctx.font).fontSize),m=0,U=this.getText();g.isRTL&&(U=U.split("").reverse().join(""));for(var K=u.ToNumberArray(this.parent.attribute("dx").value),J=0;J<U.length;J++){var re=this.getGlyph(g,U,J);m+=(re.horizAdvX||g.horizAdvX)*y/g.fontFace.unitsPerEm,typeof K[J]<"u"&&!isNaN(K[J])&&(m+=K[J])}return m}var C=u.compressSpaces(this.getText());if(!c.measureText)return C.length*10;c.save(),this.setContext(c);var G=c.measureText(C).width;return c.restore(),G}},u.Element.TextElementBase.prototype=new u.Element.RenderedElementBase,u.Element.tspan=function(d){this.captureTextNodes=!0,this.base=u.Element.TextElementBase,this.base(d),this.text=u.compressSpaces(d.value||d.text||d.textContent||""),this.getText=function(){return this.children.length>0?"":this.text}},u.Element.tspan.prototype=new u.Element.TextElementBase,u.Element.tref=function(d){this.base=u.Element.TextElementBase,this.base(d),this.getText=function(){var c=this.getHrefAttribute().getDefinition();if(c!=null)return c.children[0].getText()}},u.Element.tref.prototype=new u.Element.TextElementBase,u.Element.a=function(d){this.base=u.Element.TextElementBase,this.base(d),this.hasText=d.childNodes.length>0;for(var c=0;c<d.childNodes.length;c++)d.childNodes[c].nodeType!=3&&(this.hasText=!1);this.text=this.hasText?d.childNodes[0].value:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(g){if(this.hasText){this.baseRenderChildren(g);var y=new u.Property("fontSize",u.Font.Parse(u.ctx.font).fontSize);u.Mouse.checkBoundingBox(this,new u.BoundingBox(this.x,this.y-y.toPixels("y"),this.x+this.measureText(g),this.y))}else if(this.children.length>0){var m=new u.Element.g;m.children=this.children,m.parent=this,m.render(g)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){u.ctx.canvas.style.cursor="pointer"}},u.Element.a.prototype=new u.Element.TextElementBase,u.Element.image=function(d){this.base=u.Element.RenderedElementBase,this.base(d);var c=this.getHrefAttribute().value;if(c!=""){var g=c.match(/\.svg$/);if(u.Images.push(this),this.loaded=!1,g)this.img=u.ajax(c),this.loaded=!0;else{this.img=document.createElement("img"),u.opts.useCORS==!0&&(this.img.crossOrigin="Anonymous");var y=this;this.img.onload=function(){y.loaded=!0},this.img.onerror=function(){u.log('ERROR: image "'+c+'" not found'),y.loaded=!0},this.img.src=c}this.renderChildren=function(m){var U=this.attribute("x").toPixels("x"),K=this.attribute("y").toPixels("y"),J=this.attribute("width").toPixels("x"),re=this.attribute("height").toPixels("y");J==0||re==0||(m.save(),g?m.drawSvg(this.img,U,K,J,re):(m.translate(U,K),u.AspectRatio(m,this.attribute("preserveAspectRatio").value,J,this.img.width,re,this.img.height,0,0),m.drawImage(this.img,0,0)),m.restore())},this.getBoundingBox=function(){var m=this.attribute("x").toPixels("x"),U=this.attribute("y").toPixels("y"),K=this.attribute("width").toPixels("x"),J=this.attribute("height").toPixels("y");return new u.BoundingBox(m,U,m+K,U+J)}}},u.Element.image.prototype=new u.Element.RenderedElementBase,u.Element.g=function(d){this.base=u.Element.RenderedElementBase,this.base(d),this.getBoundingBox=function(){for(var c=new u.BoundingBox,g=0;g<this.children.length;g++)c.addBoundingBox(this.children[g].getBoundingBox());return c}},u.Element.g.prototype=new u.Element.RenderedElementBase,u.Element.symbol=function(d){this.base=u.Element.RenderedElementBase,this.base(d),this.render=function(c){}},u.Element.symbol.prototype=new u.Element.RenderedElementBase,u.Element.style=function(d){this.base=u.Element.ElementBase,this.base(d);for(var c="",g=0;g<d.childNodes.length;g++)c+=d.childNodes[g].data;c=c.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),c=u.compressSpaces(c);for(var y=c.split("}"),g=0;g<y.length;g++)if(u.trim(y[g])!="")for(var m=y[g].split("{"),U=m[0].split(","),K=m[1].split(";"),J=0;J<U.length;J++){var re=u.trim(U[J]);if(re!=""){for(var C=u.Styles[re]||{},G=0;G<K.length;G++){var N=K[G].indexOf(":"),V=K[G].substr(0,N),ne=K[G].substr(N+1,K[G].length-N);V!=null&&ne!=null&&(C[u.trim(V)]=new u.Property(u.trim(V),u.trim(ne)))}if(u.Styles[re]=C,u.StylesSpecificity[re]=T(re),re=="@font-face"){for(var oe=C["font-family"].value.replace(/"/g,""),ve=C.src.value.split(","),de=0;de<ve.length;de++)if(ve[de].indexOf('format("svg")')>0)for(var fe=ve[de].indexOf("url"),ye=ve[de].indexOf(")",fe),e=ve[de].substr(fe+5,ye-fe-6),n=u.parseXml(u.ajax(e)),r=n.getElementsByTagName("font"),s=0;s<r.length;s++){var l=u.CreateElement(r[s]);u.Definitions[oe]=l}}}}},u.Element.style.prototype=new u.Element.ElementBase,u.Element.use=function(d){this.base=u.Element.RenderedElementBase,this.base(d),this.baseSetContext=this.setContext,this.setContext=function(g){this.baseSetContext(g),this.attribute("x").hasValue()&&g.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&g.translate(0,this.attribute("y").toPixels("y"))};var c=this.getHrefAttribute().getDefinition();this.path=function(g){c!=null&&c.path(g)},this.getBoundingBox=function(){if(c!=null)return c.getBoundingBox()},this.renderChildren=function(g){if(c!=null){var y=c;c.type=="symbol"&&(y=new u.Element.svg,y.type="svg",y.attributes.viewBox=new u.Property("viewBox",c.attribute("viewBox").value),y.attributes.preserveAspectRatio=new u.Property("preserveAspectRatio",c.attribute("preserveAspectRatio").value),y.attributes.overflow=new u.Property("overflow",c.attribute("overflow").value),y.children=c.children),y.type=="svg"&&(this.attribute("width").hasValue()&&(y.attributes.width=new u.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(y.attributes.height=new u.Property("height",this.attribute("height").value)));var m=y.parent;y.parent=null,y.render(g),y.parent=m}}},u.Element.use.prototype=new u.Element.RenderedElementBase,u.Element.mask=function(d){this.base=u.Element.ElementBase,this.base(d),this.apply=function(c,g){var y=this.attribute("x").toPixels("x"),m=this.attribute("y").toPixels("y"),U=this.attribute("width").toPixels("x"),K=this.attribute("height").toPixels("y");if(U==0&&K==0){for(var J=new u.BoundingBox,re=0;re<this.children.length;re++)J.addBoundingBox(this.children[re].getBoundingBox());var y=Math.floor(J.x1),m=Math.floor(J.y1),U=Math.floor(J.width()),K=Math.floor(J.height())}var C=g.attribute("mask").value;g.attribute("mask").value="";var G=document.createElement("canvas");G.width=y+U,G.height=m+K;var N=G.getContext("2d");this.renderChildren(N);var V=document.createElement("canvas");V.width=y+U,V.height=m+K;var ne=V.getContext("2d");g.render(ne),ne.globalCompositeOperation="destination-in",ne.fillStyle=N.createPattern(G,"no-repeat"),ne.fillRect(0,0,y+U,m+K),c.fillStyle=ne.createPattern(V,"no-repeat"),c.fillRect(0,0,y+U,m+K),g.attribute("mask").value=C},this.render=function(c){}},u.Element.mask.prototype=new u.Element.ElementBase,u.Element.clipPath=function(d){this.base=u.Element.ElementBase,this.base(d),this.apply=function(c){var g=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};var y=CanvasRenderingContext2D.prototype.closePath;CanvasRenderingContext2D.prototype.closePath=function(){},g.call(c);for(var m=0;m<this.children.length;m++){var U=this.children[m];if(typeof U.path<"u"){var K=null;U.style("transform",!1,!0).hasValue()&&(K=new u.Transform(U.style("transform",!1,!0).value),K.apply(c)),U.path(c),CanvasRenderingContext2D.prototype.closePath=y,K&&K.unapply(c)}}y.call(c),c.clip(),CanvasRenderingContext2D.prototype.beginPath=g,CanvasRenderingContext2D.prototype.closePath=y},this.render=function(c){}},u.Element.clipPath.prototype=new u.Element.ElementBase,u.Element.filter=function(d){this.base=u.Element.ElementBase,this.base(d),this.apply=function(c,g){var y=g.getBoundingBox(),m=Math.floor(y.x1),U=Math.floor(y.y1),K=Math.floor(y.width()),J=Math.floor(y.height()),re=g.style("filter").value;g.style("filter").value="";for(var C=0,G=0,N=0;N<this.children.length;N++){var V=this.children[N].extraFilterDistance||0;C=Math.max(C,V),G=Math.max(G,V)}var ne=document.createElement("canvas");ne.width=K+2*C,ne.height=J+2*G;var oe=ne.getContext("2d");oe.translate(-m+C,-U+G),g.render(oe);for(var N=0;N<this.children.length;N++)typeof this.children[N].apply=="function"&&this.children[N].apply(oe,0,0,K+2*C,J+2*G);c.drawImage(ne,0,0,K+2*C,J+2*G,m-C,U-G,K+2*C,J+2*G),g.style("filter",!0).value=re},this.render=function(c){}},u.Element.filter.prototype=new u.Element.ElementBase,u.Element.feMorphology=function(d){this.base=u.Element.ElementBase,this.base(d),this.apply=function(c,g,y,m,U){}},u.Element.feMorphology.prototype=new u.Element.ElementBase,u.Element.feComposite=function(d){this.base=u.Element.ElementBase,this.base(d),this.apply=function(c,g,y,m,U){}},u.Element.feComposite.prototype=new u.Element.ElementBase,u.Element.feColorMatrix=function(d){this.base=u.Element.ElementBase,this.base(d);var c=u.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var g=c[0];c=[.213+.787*g,.715-.715*g,.072-.072*g,0,0,.213-.213*g,.715+.285*g,.072-.072*g,0,0,.213-.213*g,.715-.715*g,.072+.928*g,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var y=c[0]*Math.PI/180,m=function(re,C,G){return re+Math.cos(y)*C+Math.sin(y)*G};c=[m(.213,.787,-.213),m(.715,-.715,-.715),m(.072,-.072,.928),0,0,m(.213,-.213,.143),m(.715,.285,.14),m(.072,-.072,-.283),0,0,m(.213,-.213,-.787),m(.715,-.715,.715),m(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}function U(re,C,G,N,V,ne){return re[G*N*4+C*4+ne]}function K(re,C,G,N,V,ne,oe){re[G*N*4+C*4+ne]=oe}function J(re,C){var G=c[re];return G*(G<0?C-255:C)}this.apply=function(re,C,G,N,V){for(var ne=re.getImageData(0,0,N,V),G=0;G<V;G++)for(var C=0;C<N;C++){var oe=U(ne.data,C,G,N,V,0),ve=U(ne.data,C,G,N,V,1),de=U(ne.data,C,G,N,V,2),fe=U(ne.data,C,G,N,V,3);K(ne.data,C,G,N,V,0,J(0,oe)+J(1,ve)+J(2,de)+J(3,fe)+J(4,1)),K(ne.data,C,G,N,V,1,J(5,oe)+J(6,ve)+J(7,de)+J(8,fe)+J(9,1)),K(ne.data,C,G,N,V,2,J(10,oe)+J(11,ve)+J(12,de)+J(13,fe)+J(14,1)),K(ne.data,C,G,N,V,3,J(15,oe)+J(16,ve)+J(17,de)+J(18,fe)+J(19,1))}re.clearRect(0,0,N,V),re.putImageData(ne,0,0)}},u.Element.feColorMatrix.prototype=new u.Element.ElementBase,u.Element.feGaussianBlur=function(d){this.base=u.Element.ElementBase,this.base(d),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(c,g,y,m,U){if(typeof O.canvasRGBA>"u"){u.log("ERROR: StackBlur.js must be included for blur to work");return}c.canvas.id=u.UniqueId(),c.canvas.style.display="none",document.body.appendChild(c.canvas),O.canvasRGBA(c.canvas.id,g,y,m,U,this.blurRadius),document.body.removeChild(c.canvas)}},u.Element.feGaussianBlur.prototype=new u.Element.ElementBase,u.Element.title=function(d){},u.Element.title.prototype=new u.Element.ElementBase,u.Element.desc=function(d){},u.Element.desc.prototype=new u.Element.ElementBase,u.Element.MISSING=function(d){u.log("ERROR: Element '"+d.nodeName+"' not yet implemented.")},u.Element.MISSING.prototype=new u.Element.ElementBase,u.CreateElement=function(d){var c=d.nodeName.replace(/^[^:]+:/,"");c=c.replace(/\-/g,"");var g=null;return typeof u.Element[c]<"u"?g=new u.Element[c](d):g=new u.Element.MISSING(d),g.type=d.nodeName,g},u.load=function(d,c){u.loadXml(d,u.ajax(c))},u.loadXml=function(d,c){u.loadXmlDoc(d,u.parseXml(c))},u.loadXmlDoc=function(d,c){u.init(d);var g=function(J){for(var re=d.canvas;re;)J.x-=re.offsetLeft,J.y-=re.offsetTop,re=re.offsetParent;return window.scrollX&&(J.x+=window.scrollX),window.scrollY&&(J.y+=window.scrollY),J};u.opts.ignoreMouse!=!0&&(d.canvas.onclick=function(J){var re=g(new u.Point(J!=null?J.clientX:event.clientX,J!=null?J.clientY:event.clientY));u.Mouse.onclick(re.x,re.y)},d.canvas.onmousemove=function(J){var re=g(new u.Point(J!=null?J.clientX:event.clientX,J!=null?J.clientY:event.clientY));u.Mouse.onmousemove(re.x,re.y)});var y=u.CreateElement(c.documentElement);y.root=!0,y.addStylesFromStyleDefinition();var m=!0,U=function(){u.ViewPort.Clear(),d.canvas.parentNode&&u.ViewPort.SetCurrent(d.canvas.parentNode.clientWidth,d.canvas.parentNode.clientHeight),u.opts.ignoreDimensions!=!0&&(y.style("width").hasValue()&&(d.canvas.width=y.style("width").toPixels("x"),d.canvas.style.width=d.canvas.width+"px"),y.style("height").hasValue()&&(d.canvas.height=y.style("height").toPixels("y"),d.canvas.style.height=d.canvas.height+"px"));var J=d.canvas.clientWidth||d.canvas.width,re=d.canvas.clientHeight||d.canvas.height;if(u.opts.ignoreDimensions==!0&&y.style("width").hasValue()&&y.style("height").hasValue()&&(J=y.style("width").toPixels("x"),re=y.style("height").toPixels("y")),u.ViewPort.SetCurrent(J,re),u.opts.offsetX!=null&&(y.attribute("x",!0).value=u.opts.offsetX),u.opts.offsetY!=null&&(y.attribute("y",!0).value=u.opts.offsetY),u.opts.scaleWidth!=null||u.opts.scaleHeight!=null){var C=null,G=null,N=u.ToNumberArray(y.attribute("viewBox").value);u.opts.scaleWidth!=null&&(y.attribute("width").hasValue()?C=y.attribute("width").toPixels("x")/u.opts.scaleWidth:isNaN(N[2])||(C=N[2]/u.opts.scaleWidth)),u.opts.scaleHeight!=null&&(y.attribute("height").hasValue()?G=y.attribute("height").toPixels("y")/u.opts.scaleHeight:isNaN(N[3])||(G=N[3]/u.opts.scaleHeight)),C==null&&(C=G),G==null&&(G=C),y.attribute("width",!0).value=u.opts.scaleWidth,y.attribute("height",!0).value=u.opts.scaleHeight,y.style("transform",!0,!0).value+=" scale("+1/C+","+1/G+")"}u.opts.ignoreClear!=!0&&d.clearRect(0,0,J,re),y.render(d),m&&(m=!1,typeof u.opts.renderCallback=="function"&&u.opts.renderCallback(c))},K=!0;u.ImagesLoaded()&&(K=!1,U()),u.intervalID=setInterval(function(){var J=!1;if(K&&u.ImagesLoaded()&&(K=!1,J=!0),u.opts.ignoreMouse!=!0&&(J=J|u.Mouse.hasEvents()),u.opts.ignoreAnimation!=!0)for(var re=0;re<u.Animations.length;re++)J=J|u.Animations[re].update(1e3/u.FRAMERATE);typeof u.opts.forceRedraw=="function"&&u.opts.forceRedraw()==!0&&(J=!0),J&&(U(),u.Mouse.runEvents())},1e3/u.FRAMERATE)},u.stop=function(){u.intervalID&&clearInterval(u.intervalID)},u.Mouse=new function(){this.events=[],this.hasEvents=function(){return this.events.length!=0},this.onclick=function(d,c){this.events.push({type:"onclick",x:d,y:c,run:function(g){g.onclick&&g.onclick()}})},this.onmousemove=function(d,c){this.events.push({type:"onmousemove",x:d,y:c,run:function(g){g.onmousemove&&g.onmousemove()}})},this.eventElements=[],this.checkPath=function(d,c){for(var g=0;g<this.events.length;g++){var y=this.events[g];c.isPointInPath&&c.isPointInPath(y.x,y.y)&&(this.eventElements[g]=d)}},this.checkBoundingBox=function(d,c){for(var g=0;g<this.events.length;g++){var y=this.events[g];c.isPointInBox(y.x,y.y)&&(this.eventElements[g]=d)}},this.runEvents=function(){u.ctx.canvas.style.cursor="";for(var d=0;d<this.events.length;d++)for(var c=this.events[d],g=this.eventElements[d];g;)c.run(g),g=g.parent;this.events=[],this.eventElements=[]}},u}return typeof CanvasRenderingContext2D<"u"&&(CanvasRenderingContext2D.prototype.drawSvg=function(E,u,k,d,c,g){var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:u,offsetY:k,scaleWidth:d,scaleHeight:c};for(var m in g)g.hasOwnProperty(m)&&(y[m]=g[m]);p(this.canvas,E,y)}),p})})(canvg);var promise={exports:{}};(function(t){(function(B){var O=setTimeout;function p(){}function z(T,R){return function(){T.apply(R,arguments)}}function a(T){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if(typeof T!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],A(T,this)}function H(T,R){for(;T._state===3;)T=T._value;if(T._state===0){T._deferreds.push(R);return}T._handled=!0,a._immediateFn(function(){var E=T._state===1?R.onFulfilled:R.onRejected;if(E===null){(T._state===1?b:x)(R.promise,T._value);return}var u;try{u=E(T._value)}catch(k){x(R.promise,k);return}b(R.promise,u)})}function b(T,R){try{if(R===T)throw new TypeError("A promise cannot be resolved with itself.");if(R&&(typeof R=="object"||typeof R=="function")){var E=R.then;if(R instanceof a){T._state=3,T._value=R,M(T);return}else if(typeof E=="function"){A(z(E,R),T);return}}T._state=1,T._value=R,M(T)}catch(u){x(T,u)}}function x(T,R){T._state=2,T._value=R,M(T)}function M(T){T._state===2&&T._deferreds.length===0&&a._immediateFn(function(){T._handled||a._unhandledRejectionFn(T._value)});for(var R=0,E=T._deferreds.length;R<E;R++)H(T,T._deferreds[R]);T._deferreds=null}function S(T,R,E){this.onFulfilled=typeof T=="function"?T:null,this.onRejected=typeof R=="function"?R:null,this.promise=E}function A(T,R){var E=!1;try{T(function(u){E||(E=!0,b(R,u))},function(u){E||(E=!0,x(R,u))})}catch(u){if(E)return;E=!0,x(R,u)}}a.prototype.catch=function(T){return this.then(null,T)},a.prototype.then=function(T,R){var E=new this.constructor(p);return H(this,new S(T,R,E)),E},a.all=function(T){return new a(function(R,E){if(!T||typeof T.length>"u")throw new TypeError("Promise.all accepts an array");var u=Array.prototype.slice.call(T);if(u.length===0)return R([]);var k=u.length;function d(g,y){try{if(y&&(typeof y=="object"||typeof y=="function")){var m=y.then;if(typeof m=="function"){m.call(y,function(U){d(g,U)},E);return}}u[g]=y,--k===0&&R(u)}catch(U){E(U)}}for(var c=0;c<u.length;c++)d(c,u[c])})},a.resolve=function(T){return T&&typeof T=="object"&&T.constructor===a?T:new a(function(R){R(T)})},a.reject=function(T){return new a(function(R,E){E(T)})},a.race=function(T){return new a(function(R,E){for(var u=0,k=T.length;u<k;u++)T[u].then(R,E)})},a._immediateFn=typeof setImmediate=="function"&&function(T){setImmediate(T)}||function(T){O(T,0)},a._unhandledRejectionFn=function(R){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",R)},a._setImmediateFn=function(R){a._immediateFn=R},a._setUnhandledRejectionFn=function(R){a._unhandledRejectionFn=R},t.exports?t.exports=a:B.Promise||(B.Promise=a)})(commonjsGlobal)})(promise);const Promise$1=promise.exports;window.Promise||(window.Promise=Promise$1);var strxml$1={};strxml$1.attr=attr;strxml$1.tagClose=tagClose;strxml$1.tag=tag$1;strxml$1.encode=encode$1;function attr(t){return t&&t.length?" "+t.map(function(B){return B[0]+'="'+B[1]+'"'}).join(" "):""}function tagClose(t,B){return"<"+t+attr(B)+"/>"}function tag$1(t,B,O){return"<"+t+attr(O)+">"+B+"</"+t+">"}function encode$1(t){return(t===null?"":t.toString()).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var strxml=strxml$1,tag=strxml.tag,encode=strxml.encode,tokml=function(B,O){return O=O||{documentName:void 0,documentDescription:void 0,name:"name",description:"description",simplestyle:!1,timestamp:"timestamp"},'<?xml version="1.0" encoding="UTF-8"?>'+tag("kml",tag("Document",documentName(O)+documentDescription(O)+root(B,O)),[["xmlns","http://www.opengis.net/kml/2.2"]])};function feature(t,B){return function(O){if(!O.properties||!geometry.valid(O.geometry))return"";var p=geometry.any(O.geometry);if(!p)return"";var z="",a="";if(t.simplestyle){var H=hashStyle(O.properties);H&&(geometry.isPoint(O.geometry)&&hasMarkerStyle(O.properties)?(B.indexOf(H)===-1&&(z=markerStyle(O.properties,H),B.push(H)),a=tag("styleUrl","#"+H)):(geometry.isPolygon(O.geometry)||geometry.isLine(O.geometry))&&hasPolygonAndLineStyle(O.properties)&&(B.indexOf(H)===-1&&(z=polygonAndLineStyle(O.properties,H),B.push(H)),a=tag("styleUrl","#"+H)))}return z+tag("Placemark",name(O.properties,t)+description(O.properties,t)+extendeddata(O.properties)+timestamp(O.properties,t)+p+a)}}function root(t,B){if(!t.type)return"";var O=[];switch(t.type){case"FeatureCollection":return t.features?t.features.map(feature(B,O)).join(""):"";case"Feature":return feature(B,O)(t);default:return feature(B,O)({type:"Feature",geometry:t,properties:{}})}}function documentName(t){return t.documentName!==void 0?tag("name",t.documentName):""}function documentDescription(t){return t.documentDescription!==void 0?tag("description",t.documentDescription):""}function name(t,B){return t[B.name]?tag("name",encode(t[B.name])):""}function description(t,B){return t[B.description]?tag("description",encode(t[B.description])):""}function timestamp(t,B){return t[B.timestamp]?tag("TimeStamp",tag("when",encode(t[B.timestamp]))):""}var geometry={Point:function(t){return tag("Point",tag("coordinates",t.coordinates.join(",")))},LineString:function(t){return tag("LineString",tag("coordinates",linearring(t.coordinates)))},Polygon:function(t){if(!t.coordinates.length)return"";var B=t.coordinates[0],O=t.coordinates.slice(1),p=tag("outerBoundaryIs",tag("LinearRing",tag("coordinates",linearring(B)))),z=O.map(function(a){return tag("innerBoundaryIs",tag("LinearRing",tag("coordinates",linearring(a))))}).join("");return tag("Polygon",p+z)},MultiPoint:function(t){return t.coordinates.length?tag("MultiGeometry",t.coordinates.map(function(B){return geometry.Point({coordinates:B})}).join("")):""},MultiPolygon:function(t){return t.coordinates.length?tag("MultiGeometry",t.coordinates.map(function(B){return geometry.Polygon({coordinates:B})}).join("")):""},MultiLineString:function(t){return t.coordinates.length?tag("MultiGeometry",t.coordinates.map(function(B){return geometry.LineString({coordinates:B})}).join("")):""},GeometryCollection:function(t){return tag("MultiGeometry",t.geometries.map(geometry.any).join(""))},valid:function(t){return t&&t.type&&(t.coordinates||t.type==="GeometryCollection"&&t.geometries&&t.geometries.every(geometry.valid))},any:function(t){return geometry[t.type]?geometry[t.type](t):""},isPoint:function(t){return t.type==="Point"||t.type==="MultiPoint"},isPolygon:function(t){return t.type==="Polygon"||t.type==="MultiPolygon"},isLine:function(t){return t.type==="LineString"||t.type==="MultiLineString"}};function linearring(t){return t.map(function(B){return B.join(",")}).join(" ")}function extendeddata(t){return tag("ExtendedData",pairs(t).map(data).join(""))}function data(t){return tag("Data",tag("value",encode(t[1])),[["name",encode(t[0])]])}function hasMarkerStyle(t){return!!(t["marker-size"]||t["marker-symbol"]||t["marker-color"])}function markerStyle(t,B){return tag("Style",tag("IconStyle",tag("Icon",tag("href",iconUrl(t))))+iconSize(),[["id",B]])}function iconUrl(t){var B=t["marker-size"]||"medium",O=t["marker-symbol"]?"-"+t["marker-symbol"]:"",p=(t["marker-color"]||"7e7e7e").replace("#","");return"https://api.tiles.mapbox.com/v3/marker/pin-"+B.charAt(0)+O+"+"+p+".png"}function iconSize(t){return tag("hotSpot","",[["xunits","fraction"],["yunits","fraction"],["x",.5],["y",.5]])}function hasPolygonAndLineStyle(t){for(var B in t)if({stroke:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,"fill-opacity":!0}[B])return!0}function polygonAndLineStyle(t,B){var O=tag("LineStyle",[tag("color",hexToKmlColor(t.stroke,t["stroke-opacity"])||"ff555555")+tag("width",t["stroke-width"]===void 0?2:t["stroke-width"])]),p="";return(t.fill||t["fill-opacity"])&&(p=tag("PolyStyle",[tag("color",hexToKmlColor(t.fill,t["fill-opacity"])||"88555555")])),tag("Style",O+p,[["id",B]])}function hashStyle(t){var B="";return t["marker-symbol"]&&(B=B+"ms"+t["marker-symbol"]),t["marker-color"]&&(B=B+"mc"+t["marker-color"].replace("#","")),t["marker-size"]&&(B=B+"ms"+t["marker-size"]),t.stroke&&(B=B+"s"+t.stroke.replace("#","")),t["stroke-width"]&&(B=B+"sw"+t["stroke-width"].toString().replace(".","")),t["stroke-opacity"]&&(B=B+"mo"+t["stroke-opacity"].toString().replace(".","")),t.fill&&(B=B+"f"+t.fill.replace("#","")),t["fill-opacity"]&&(B=B+"fo"+t["fill-opacity"].toString().replace(".","")),B}function hexToKmlColor(t,B){if(typeof t!="string")return"";if(t=t.replace("#","").toLowerCase(),t.length===3)t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2];else if(t.length!==6)return"";var O=t[0]+t[1],p=t[2]+t[3],z=t[4]+t[5],a="ff";return typeof B=="number"&&B>=0&&B<=1&&(a=(B*255).toString(16),a.indexOf(".")>-1&&(a=a.substr(0,a.indexOf("."))),a.length<2&&(a="0"+a)),a+z+p+O}function pairs(t){var B=[];for(var O in t)B.push([O,t[O]]);return B}var jxon={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);(function(t,B){(function(O,p){typeof window=="object"&&window.DOMImplementation&&window.XMLSerializer&&window.DOMParser?t.exports=p(window):t.exports=p(require$$0,!0)})(commonjsGlobal,function(O,p){var z={valueKey:"_",attrKey:"$",attrPrefix:"$",lowerCaseTags:!1,trueIsEmpty:!1,autoDate:!1,ignorePrefixedNodes:!1,parseValues:!1},a=[],H=/^\s*$/,b=/^(?:true|false)$/i,x;return new function(){this.config=function(E){for(var u in E)z[u]=E[u];z.parserErrorHandler&&(x=new O.DOMParser({errorHandler:z.parserErrorHandler,locator:{}}))};function M(E){return z.parseValues?H.test(E)?null:b.test(E)?E.toLowerCase()==="true":isFinite(E)?parseFloat(E):z.autoDate&&isFinite(Date.parse(E))?new Date(E):E:E}function S(){}S.prototype.toString=function(){return"null"},S.prototype.valueOf=function(){return null};function A(E){return E===null?new S:E instanceof Object?E:new E.constructor(E)}function T(E,u,k,d){var c=4,g=3,y=1,m=a.length,U=E.hasChildNodes(),K=E.nodeType===E.ELEMENT_NODE&&E.hasAttributes(),J=Boolean(u&2),re=0,C="",G=J?{}:z.trueIsEmpty?!0:"",N,V;if(U)for(var ne,oe=0;oe<E.childNodes.length;oe++)ne=E.childNodes.item(oe),ne.nodeType===c?C+=ne.nodeValue:ne.nodeType===g?C+=ne.nodeValue.trim():ne.nodeType===y&&!(z.ignorePrefixedNodes&&ne.prefix)&&a.push(ne);var ve=a.length,de=M(C);!J&&(U||K)&&(G=u===0?A(de):{});for(var fe=m;fe<ve;fe++)N=a[fe].nodeName,z.lowerCaseTags&&(N=N.toLowerCase()),V=T(a[fe],u,k,d),G.hasOwnProperty(N)?(G[N].constructor!==Array&&(G[N]=[G[N]]),G[N].push(V)):(G[N]=V,re++);if(K){for(var ye=E.attributes.length,e=d?"":z.attrPrefix,n=d?{}:G,r,s,l=0;l<ye;re++,l++)r=E.attributes.item(l),s=r.name,z.lowerCaseTags&&(s=s.toLowerCase()),n[e+s]=M(r.value.trim());d&&(k&&Object.freeze(n),G[z.attrKey]=n,re-=ye-1)}return u===3||(u===2||u===1&&re>0)&&C?G[z.valueKey]=de:!J&&re===0&&C&&(G=de),k&&(J||re>0)&&Object.freeze(G),a.length=m,G}function R(E,u,k){var d,c,g;if(k.constructor===String||k.constructor===Number||k.constructor===Boolean){if(u.appendChild(E.createTextNode(k.toString())),k===k.valueOf())return}else k.constructor===Date&&u.appendChild(E.createTextNode(k.toISOString()));for(var y in k)if(d=k[y],d!==void 0&&(d===null&&(d={}),!(isFinite(y)||d instanceof Function)))if(y===z.valueKey)d!==null&&d!==!0&&u.appendChild(E.createTextNode(d.constructor===Date?d.toISOString():String(d)));else if(y===z.attrKey)for(var m in d)u.setAttribute(m,d[m]);else if(y===z.attrPrefix+"xmlns")p&&u.setAttribute(y.slice(1),d);else if(y.charAt(0)===z.attrPrefix)u.setAttribute(y.slice(1),d);else if(d.constructor===Array)for(var U in d)!d.hasOwnProperty(U)||(g=d[U]&&d[U][z.attrPrefix+"xmlns"]||u.namespaceURI,g?c=E.createElementNS(g,y):c=E.createElement(y),R(E,c,d[U]||{}),u.appendChild(c));else g=(d||{})[z.attrPrefix+"xmlns"]||u.namespaceURI,g?c=E.createElementNS(g,y):c=E.createElement(y),d instanceof Object?R(E,c,d):d!==null&&(d!==!0||!z.trueIsEmpty)&&c.appendChild(E.createTextNode(d.toString())),u.appendChild(c)}this.xmlToJs=this.build=function(E,u,k,d){var c=arguments.length>1&&typeof u=="number"?u&3:1;return T(E,c,k||!1,arguments.length>3?d:c===3)},this.jsToXml=this.unbuild=function(E,u,k,d){var c=O.document&&O.document.implementation||new O.DOMImplementation,g=c.createDocument(u||null,k||"",d||null);return R(g,g.documentElement||g,E),g},this.stringToXml=function(E){return x||(x=new O.DOMParser),x.parseFromString(E,"application/xml")},this.xmlToString=function(E){return typeof E.xml<"u"?E.xml:new O.XMLSerializer().serializeToString(E)},this.stringToJs=function(E){var u=this.stringToXml(E);return this.xmlToJs(u)},this.jsToString=this.stringify=function(E,u,k,d){return this.xmlToString(this.jsToXml(E,u,k,d))},this.each=function(E,u,k){E instanceof Array?E.forEach(u,k):[E].forEach(u,k)}}})})(jxon);var JXON=jxon.exports;JXON.config({attrPrefix:"@"});function togpx(t,B){if(B=function(M,S){for(var A in M)S.hasOwnProperty(A)&&(M[A]=S[A]);return M}({creator:"togpx",metadata:void 0,featureTitle:p,featureDescription:z,featureLink:void 0,featureCoordTimes:a},B||{}),typeof B.featureCoordTimes=="string"){var O=B.featureCoordTimes;B.featureCoordTimes=function(M){return M.properties[O]}}function p(M){if(!M)return"";if(typeof M.tags=="object"){var S=p(M.tags);if(S!=="")return S}return M.name?M.name:M.ref?M.ref:M.id?M.id:""}function z(M){if(!M)return"";if(typeof M.tags=="object")return z(M.tags);var S="";for(var A in M)typeof M[A]!="object"&&(S+=A+"="+M[A]+`
`);return S.substr(0,S.length-1)}function a(M){return M.properties&&(M.properties.times||M.properties.coordTimes)||null}function H(M,S){B.featureLink&&(M.link={"@href":B.featureLink(S.properties)})}var b={gpx:{"@xmlns":"http://www.topografix.com/GPX/1/1","@xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","@xsi:schemaLocation":"http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd","@version":"1.1",metadata:null,wpt:[],trk:[]}};B.creator&&(b.gpx["@creator"]=B.creator),B.metadata?b.gpx.metadata=B.metadata:delete B.metadata;var x;return t.type==="FeatureCollection"?x=t.features:t.type==="Feature"?x=[t]:x=[{type:"Feature",properties:{},geometry:t}],x.forEach(function M(S){switch(S.geometry.type){case"Point":case"MultiPoint":var A=S.geometry.coordinates;S.geometry.type=="Point"&&(A=[A]),A.forEach(function(R){o={"@lat":R[1],"@lon":R[0],name:B.featureTitle(S.properties),desc:B.featureDescription(S.properties)},R[2]!==void 0&&(o.ele=R[2]),H(o,S),b.gpx.wpt.push(o)});break;case"LineString":case"MultiLineString":var A=S.geometry.coordinates,T=B.featureCoordTimes(S);S.geometry.type=="LineString"&&(A=[A]),o={name:B.featureTitle(S.properties),desc:B.featureDescription(S.properties)},H(o,S),o.trkseg=[],A.forEach(function(R){var E={trkpt:[]};R.forEach(function(u,k){var d={"@lat":u[1],"@lon":u[0]};u[2]!==void 0&&(d.ele=u[2]),T&&T[k]&&(d.time=T[k]),E.trkpt.push(d)}),o.trkseg.push(E)}),b.gpx.trk.push(o);break;case"Polygon":case"MultiPolygon":o={name:B.featureTitle(S.properties),desc:B.featureDescription(S.properties)},H(o,S),o.trkseg=[];var A=S.geometry.coordinates,T=B.featureCoordTimes(S);S.geometry.type=="Polygon"&&(A=[A]),A.forEach(function(R){R.forEach(function(E){var u={trkpt:[]},k=0;E.forEach(function(d){var c={"@lat":d[1],"@lon":d[0]};d[2]!==void 0&&(c.ele=d[2]),T&&T[k]&&(c.time=T[k]),k++,u.trkpt.push(c)}),o.trkseg.push(u)})}),b.gpx.trk.push(o);break;case"GeometryCollection":S.geometry.geometries.forEach(function(R){var E={properties:S.properties,geometry:R};M(E)});break;default:console.log("warning: unsupported geometry type: "+S.geometry.type)}}),gpx_str=JXON.stringify(b),gpx_str}var togpx_1=togpx,FileSaver={exports:{}};(function(t){/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */var B=B||function(O){if(!(typeof O>"u"||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var p=O.document,z=function(){return O.URL||O.webkitURL||O},a=p.createElementNS("http://www.w3.org/1999/xhtml","a"),H="download"in a,b=function(g){var y=new MouseEvent("click");g.dispatchEvent(y)},x=/constructor/i.test(O.HTMLElement)||O.safari,M=/CriOS\/[\d]+/.test(navigator.userAgent),S=function(g){(O.setImmediate||O.setTimeout)(function(){throw g},0)},A="application/octet-stream",T=1e3*40,R=function(g){var y=function(){typeof g=="string"?z().revokeObjectURL(g):g.remove()};setTimeout(y,T)},E=function(g,y,m){y=[].concat(y);for(var U=y.length;U--;){var K=g["on"+y[U]];if(typeof K=="function")try{K.call(g,m||g)}catch(J){S(J)}}},u=function(g){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob([String.fromCharCode(65279),g],{type:g.type}):g},k=function(g,y,m){m||(g=u(g));var U=this,K=g.type,J=K===A,re,C=function(){E(U,"writestart progress write writeend".split(" "))},G=function(){if((M||J&&x)&&O.FileReader){var N=new FileReader;N.onloadend=function(){var ne=M?N.result:N.result.replace(/^data:[^;]*;/,"data:attachment/file;"),oe=O.open(ne,"_blank");oe||(O.location.href=ne),ne=void 0,U.readyState=U.DONE,C()},N.readAsDataURL(g),U.readyState=U.INIT;return}if(re||(re=z().createObjectURL(g)),J)O.location.href=re;else{var V=O.open(re,"_blank");V||(O.location.href=re)}U.readyState=U.DONE,C(),R(re)};if(U.readyState=U.INIT,H){re=z().createObjectURL(g),setTimeout(function(){a.href=re,a.download=y,b(a),C(),R(re),U.readyState=U.DONE});return}G()},d=k.prototype,c=function(g,y,m){return new k(g,y||g.name||"download",m)};return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(g,y,m){return y=y||g.name||"download",m||(g=u(g)),navigator.msSaveOrOpenBlob(g,y)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,c)}}(typeof self<"u"&&self||typeof window<"u"&&window||commonjsGlobal.content);t.exports&&(t.exports.saveAs=B)})(FileSaver);/*! @source http://purl.eligrey.com/github/canvas-toBlob.js/blob/master/canvas-toBlob.js */(function(t){var B=t.Uint8Array,O=t.HTMLCanvasElement,p=O&&O.prototype,z=/\s*;\s*base64\s*(?:;|$)/i,a="toDataURL",H,b=function(x){for(var M=x.length,S=new B(M/4*3|0),A=0,T=0,R=[0,0],E=0,u=0,k,d,c;M--;)d=x.charCodeAt(A++),k=H[d-43],k!==255&&k!==c&&(R[1]=R[0],R[0]=d,u=u<<6|k,E++,E===4&&(S[T++]=u>>>16,R[1]!==61&&(S[T++]=u>>>8),R[0]!==61&&(S[T++]=u),E=0));return S};B&&(H=new B([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),O&&(!p.toBlob||!p.toBlobHD)&&(p.toBlob||(p.toBlob=function(x,M){if(M||(M="image/png"),this.mozGetAsFile){x(this.mozGetAsFile("canvas",M));return}if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(M)){x(this.msToBlob());return}var S=Array.prototype.slice.call(arguments,1),A=this[a].apply(this,S),T=A.indexOf(","),R=A.substring(T+1),E=z.test(A.substring(0,T)),u;Blob.fake?(u=new Blob,E?u.encoding="base64":u.encoding="URI",u.data=R,u.size=R.length):B&&(E?u=new Blob([b(R)],{type:M}):u=new Blob([decodeURIComponent(R)],{type:M})),x(u)}),!p.toBlobHD&&p.toDataURLHD?p.toBlobHD=function(){a="toDataURLHD";var x=this.toBlob();return a="toDataURL",x}:p.toBlobHD=p.toBlob)})(typeof self<"u"&&self||typeof window<"u"&&window||commonjsGlobal.content||commonjsGlobal);var cache={};function Nominatim(){var t={};function B(O,p){$.ajax("https://nominatim.openstreetmap.org/search?X-Requested-With="+configs.appname,{data:{format:"json",q:O},success:function(z){if(typeof z=="string")try{z=JSON.parse(z)}catch{}cache[O]=z,p(void 0,z)},error:function(){var z="An error occurred while contacting the osm search server nominatim.openstreetmap.org :(";console.log(z),p(z,null)}})}return t.get=function(O,p){return cache[O]===void 0?B(O,p):p(void 0,cache[O]),t},t.getBest=function(O,p,z){return z||(z=p,p=null),t.get(O,function(a,H){if(a){z(a,null);return}p&&(H=H.filter(p)),H.length===0?z("No result found",null):z(a,H[0])}),t},t}const scriptRel="modulepreload",assetsURL=function(t){return"/"+t},seen={},__vitePreload=function(B,O,p){return!O||O.length===0?B():Promise.all(O.map(z=>{if(z=assetsURL(z),z in seen)return;seen[z]=!0;const a=z.endsWith(".css"),H=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${z}"]${H}`))return;const b=document.createElement("link");if(b.rel=a?"stylesheet":scriptRel,a||(b.as="script",b.crossOrigin=""),b.href=z,document.head.appendChild(b),a)return new Promise((x,M)=>{b.addEventListener("load",x),b.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${z}`)))})})).then(()=>B())},__variableDynamicImportRuntimeHelper=(t,B)=>{const O=t[B];return O?typeof O=="function"?O():Promise.resolve(O):new Promise((p,z)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(z.bind(null,new Error("Unknown variable dynamic import: "+B)))})};var i18n=new function(){function t(){var a;return navigator.languages?a=navigator.languages[0]:navigator.userLanguage?a=navigator.userLanguage:a=navigator.language,a}var B="en",O={en:"English",ca:"Catalan",cs:"Czech",da:"Danish",eo:"Esperanto",de:"German",el:"Greek",es:"Spanish",et:"Estonian",fr:"French",gl:"Galician",hr:"Croatian",hu:"Hungarian",it:"Italian",ja:"Japanese",lv:"Latvian",nl:"Dutch",no:"Norwegian",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",ru:"Russian",sl:"Slovenian",uk:"Ukrainian",vi:"Vietnamese","zh-CN":"Chinese (Simplified)","zh-TW":"Chinese (Taiwan)"},p=_.keys(O);this.getSupportedLanguages=function(){return p},this.getSupportedLanguagesDescriptions=function(){return O},this.getLanguage=function(a){if(a=a||settings.ui_language,a=="auto"){try{a=t().toLowerCase()}catch{}a==="nb"&&(a="no");var H;(H=a.match(/(.*)-(.*)/))&&(a=H[1]+"-"+H[2].toUpperCase()),$.inArray(a,p)==-1&&(a=a.replace(/-.*/,""))}return a},this.translate=function(a){a=i18n.getLanguage(a),$.inArray(a,p)==-1&&(console.log("unsupported language: "+a+" switching back to: "+B),a=B);try{return __variableDynamicImportRuntimeHelper(Object.assign({"../locales/ast-ES.json":()=>__vitePreload(()=>import("./ast-ES.5895577d.js"),[]),"../locales/ast_ES.json":()=>__vitePreload(()=>import("./ast_ES.4e15a37b.js"),[]),"../locales/ca.json":()=>__vitePreload(()=>import("./ca.5088a7d0.js"),[]),"../locales/cs.json":()=>__vitePreload(()=>import("./cs.67dc4c10.js"),[]),"../locales/da.json":()=>__vitePreload(()=>import("./da.60d4e645.js"),[]),"../locales/de.json":()=>__vitePreload(()=>import("./de.e6bd9210.js"),[]),"../locales/el.json":()=>__vitePreload(()=>import("./el.98947be3.js"),[]),"../locales/en.json":()=>__vitePreload(()=>import("./en.4c115a8c.js"),[]),"../locales/eo.json":()=>__vitePreload(()=>import("./eo.0b484b28.js"),[]),"../locales/es.json":()=>__vitePreload(()=>import("./es.705cde77.js"),[]),"../locales/et.json":()=>__vitePreload(()=>import("./et.85563ab3.js"),[]),"../locales/fa.json":()=>__vitePreload(()=>import("./fa.6d6bd38f.js"),[]),"../locales/fr.json":()=>__vitePreload(()=>import("./fr.898f36df.js"),[]),"../locales/gl.json":()=>__vitePreload(()=>import("./gl.75ef2f0e.js"),[]),"../locales/hr.json":()=>__vitePreload(()=>import("./hr.0724b9c8.js"),[]),"../locales/hu.json":()=>__vitePreload(()=>import("./hu.52902bff.js"),[]),"../locales/it.json":()=>__vitePreload(()=>import("./it.0cd7952c.js"),[]),"../locales/ja.json":()=>__vitePreload(()=>import("./ja.64ddf31f.js"),[]),"../locales/lv.json":()=>__vitePreload(()=>import("./lv.557b5f33.js"),[]),"../locales/nl.json":()=>__vitePreload(()=>import("./nl.e1a619be.js"),[]),"../locales/no.json":()=>__vitePreload(()=>import("./no.5f1df548.js"),[]),"../locales/pl.json":()=>__vitePreload(()=>import("./pl.751ecb72.js"),[]),"../locales/pt-BR.json":()=>__vitePreload(()=>import("./pt-BR.bc48d38c.js"),[]),"../locales/pt.json":()=>__vitePreload(()=>import("./pt.6924f8ad.js"),[]),"../locales/pt_BR.json":()=>__vitePreload(()=>import("./pt_BR.04798038.js"),[]),"../locales/ro.json":()=>__vitePreload(()=>import("./ro.74557a20.js"),[]),"../locales/ru.json":()=>__vitePreload(()=>import("./ru.5c59238a.js"),[]),"../locales/sl.json":()=>__vitePreload(()=>import("./sl.2783dd9e.js"),[]),"../locales/sv.json":()=>__vitePreload(()=>import("./sv.168df24b.js"),[]),"../locales/tr-TR.json":()=>__vitePreload(()=>import("./tr-TR.224e9ff5.js"),[]),"../locales/tr_TR.json":()=>__vitePreload(()=>import("./tr_TR.1ad02bd8.js"),[]),"../locales/uk.json":()=>__vitePreload(()=>import("./uk.c431ce51.js"),[]),"../locales/vi.json":()=>__vitePreload(()=>import("./vi.e3c6ab95.js"),[]),"../locales/zh-TW.json":()=>__vitePreload(()=>import("./zh-TW.9451746e.js"),[]),"../locales/zh_CN.json":()=>__vitePreload(()=>import("./zh_CN.26d0a05f.js"),[]),"../locales/zh_TW.json":()=>__vitePreload(()=>import("./zh_TW.62420806.js"),[])}),`../locales/${a}.json`).then(function(H){return z=H.default,i18n.translate_ui(),H.default},function(H){console.log("failed to load language file "+a,H)})}catch(H){console.log("failed to load language file "+a,H)}},this.translate_ui=function(a){$(a||".t").each(function(H,b){var x=$(b).attr("data-t");x=x.split(";");for(var M=0;M<x.length;M++){var S=x[M],A=S.match(/^(\[(.*)\])?(.*)$/),T=A[2],R=A[3],E=i18n.t(R);T==="html"?$(b).html(E):T!==void 0?$(b).attr(T,E):$(b).text(E)}})},this.t=function(a){return z[a]||"/missing translation/"};var z={}},freeFormQuery={},presets={};function setPresets(t){presets=t,Object.keys(presets).forEach(function(B){var O=presets[B];O.nameCased=O.name,O.name=O.name.toLowerCase(),O.terms=O.terms?O.terms.map(function(p){return p.toLowerCase()}):[]})}function ffs_free(t){Object.keys(presets).length>0?t(freeFormQuery):B().then(O).then(function(){t(freeFormQuery)});function B(){return __vitePreload(()=>import("./iD_presets.5f4e1153.js"),[]).then(function(p){setPresets(p.presets)}).catch(function(p){throw console.warn("failed to load presets file",p),new Error("failed to load presets file")})}function O(){var p=i18n.getLanguage();!p||p==="en"||__variableDynamicImportRuntimeHelper(Object.assign({"../../data/iD_presets_ca.json":()=>__vitePreload(()=>import("./iD_presets_ca.1f1d92bf.js"),[]),"../../data/iD_presets_cs.json":()=>__vitePreload(()=>import("./iD_presets_cs.d3f0d2e7.js"),[]),"../../data/iD_presets_da.json":()=>__vitePreload(()=>import("./iD_presets_da.1cba1855.js"),[]),"../../data/iD_presets_de.json":()=>__vitePreload(()=>import("./iD_presets_de.df33c456.js"),[]),"../../data/iD_presets_el.json":()=>__vitePreload(()=>import("./iD_presets_el.7f838de1.js"),[]),"../../data/iD_presets_en.json":()=>__vitePreload(()=>import("./iD_presets_en.0bff4d4a.js"),[]),"../../data/iD_presets_eo.json":()=>__vitePreload(()=>import("./iD_presets_eo.26ac4b3c.js"),[]),"../../data/iD_presets_es.json":()=>__vitePreload(()=>import("./iD_presets_es.1272cbcc.js"),[]),"../../data/iD_presets_et.json":()=>__vitePreload(()=>import("./iD_presets_et.92efcc5a.js"),[]),"../../data/iD_presets_fa.json":()=>__vitePreload(()=>import("./iD_presets_fa.deeb7d5b.js"),[]),"../../data/iD_presets_fr.json":()=>__vitePreload(()=>import("./iD_presets_fr.2225093d.js"),[]),"../../data/iD_presets_gl.json":()=>__vitePreload(()=>import("./iD_presets_gl.0fbc84bc.js"),[]),"../../data/iD_presets_hr.json":()=>__vitePreload(()=>import("./iD_presets_hr.fd0cff4e.js"),[]),"../../data/iD_presets_hu.json":()=>__vitePreload(()=>import("./iD_presets_hu.0f185980.js"),[]),"../../data/iD_presets_it.json":()=>__vitePreload(()=>import("./iD_presets_it.7a9cc262.js"),[]),"../../data/iD_presets_ja.json":()=>__vitePreload(()=>import("./iD_presets_ja.9bb86f27.js"),[]),"../../data/iD_presets_lv.json":()=>__vitePreload(()=>import("./iD_presets_lv.408ec058.js"),[]),"../../data/iD_presets_nl.json":()=>__vitePreload(()=>import("./iD_presets_nl.2e7c80c1.js"),[]),"../../data/iD_presets_no.json":()=>__vitePreload(()=>import("./iD_presets_no.2e89bad1.js"),[]),"../../data/iD_presets_pl.json":()=>__vitePreload(()=>import("./iD_presets_pl.fc2b2caa.js"),[]),"../../data/iD_presets_pt-BR.json":()=>__vitePreload(()=>import("./iD_presets_pt-BR.62f5908d.js"),[]),"../../data/iD_presets_pt.json":()=>__vitePreload(()=>import("./iD_presets_pt.28409ae9.js"),[]),"../../data/iD_presets_ro.json":()=>__vitePreload(()=>import("./iD_presets_ro.06f02956.js"),[]),"../../data/iD_presets_ru.json":()=>__vitePreload(()=>import("./iD_presets_ru.5560e332.js"),[]),"../../data/iD_presets_sl.json":()=>__vitePreload(()=>import("./iD_presets_sl.7820262e.js"),[]),"../../data/iD_presets_sv.json":()=>__vitePreload(()=>import("./iD_presets_sv.1fea0425.js"),[]),"../../data/iD_presets_uk.json":()=>__vitePreload(()=>import("./iD_presets_uk.de020ee3.js"),[]),"../../data/iD_presets_vi.json":()=>__vitePreload(()=>import("./iD_presets_vi.d8a7ffd5.js"),[]),"../../data/iD_presets_zh-TW.json":()=>__vitePreload(()=>import("./iD_presets_zh-TW.d9d4910e.js"),[])}),`../../data/iD_presets_${p}.json`).then(function(z){Object.keys(z).forEach(function(a){var H=z[a];a=presets[a],a.translated=!0;var b=a.name;a.nameCased=H.name,a.name=H.name.toLowerCase(),H.terms&&(a.terms=H.terms.split(",").map(function(x){return x.trim().toLowerCase()}).concat(a.terms)),a.terms.unshift(b)})}).catch(function(z){throw console.warn("failed to load preset translations file: "+p,z),new Error("failed to load preset translations file: "+p)})}}freeFormQuery.get_query_clause=function(t){var B=t.free.toLowerCase(),O=Object.keys(presets).map(function(H){return presets[H]}).filter(function(H){return H.searchable===!1?!1:H.name===B?!0:(H._termsIndex=H.terms.indexOf(B),H._termsIndex!=-1)});if(O.length===0)return!1;O.sort(function(H,b){return H.name===B?-1:b.name===B?1:H._termsIndex-b._termsIndex});var p=O[0],z=[];p.geometry.forEach(function(H){switch(H){case"point":case"vertex":z.push("node");break;case"line":z.push("way");break;case"area":z.push("way"),z.push("relation");break;case"relation":z.push("relation");break;default:console.log("unknown geometry type "+H+" of preset "+p.name)}});function a(H,b,x){return x.indexOf(H)===b}return{types:z.filter(a),conditions:Object.keys(p.tags).map(function(H){var b=p.tags[H];return{query:b==="*"?"key":"eq",key:H,val:b}})}};freeFormQuery.fuzzy_search=function(t){var B=t.free.toLowerCase(),O=2+Math.floor(B.length/7);function p(b){return levenshteinDistance(b,B)<=O}var z=Object.keys(presets).map(function(b){return presets[b]}).filter(function(b){return b.searchable===!1?!1:p(b.name)?!0:b.terms.some(p)});if(z.length===0)return!1;function a(b){return[b.name].concat(b.terms).map(function(x,M){return levenshteinDistance(x,B)}).reduce(function(M,S){return M<=S?M:S})}z.sort(function(b,x){return a(b)-a(x)});var H=z[0];return H.nameCased};const ffs_parser=function(){function t(p,z){function a(){this.constructor=p}a.prototype=z.prototype,p.prototype=new a}function B(p,z,a,H){this.message=p,this.expected=z,this.found=a,this.location=H,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,B)}t(B,Error),B.buildMessage=function(p,z){var a={literal:function(T){return'"'+b(T.text)+'"'},class:function(T){var R="",E;for(E=0;E<T.parts.length;E++)R+=T.parts[E]instanceof Array?x(T.parts[E][0])+"-"+x(T.parts[E][1]):x(T.parts[E]);return"["+(T.inverted?"^":"")+R+"]"},any:function(T){return"any character"},end:function(T){return"end of input"},other:function(T){return T.description}};function H(T){return T.charCodeAt(0).toString(16).toUpperCase()}function b(T){return T.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(R){return"\\x0"+H(R)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(R){return"\\x"+H(R)})}function x(T){return T.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(R){return"\\x0"+H(R)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(R){return"\\x"+H(R)})}function M(T){return a[T.type](T)}function S(T){var R=new Array(T.length),E,u;for(E=0;E<T.length;E++)R[E]=M(T[E]);if(R.sort(),R.length>0){for(E=1,u=1;E<R.length;E++)R[E-1]!==R[E]&&(R[u]=R[E],u++);R.length=u}switch(R.length){case 1:return R[0];case 2:return R[0]+" or "+R[1];default:return R.slice(0,-1).join(", ")+", or "+R[R.length-1]}}function A(T){return T?'"'+b(T)+'"':"end of input"}return"Expected "+S(p)+" but "+A(z)+" found."};function O(p,z){z=z!==void 0?z:{};var a={},H={start:on},b=on,x=function(P){return P},M="in bbox",S=rt("in bbox",!1),A="IN BBOX",T=rt("IN BBOX",!1),R=function(P){return{bounds:"bbox",query:P}},E="in",u=rt("in",!1),k="IN",d=rt("IN",!1),c=function(P,X){return{bounds:"area",query:P,area:X}},g="around",y=rt("around",!1),m="AROUND",U=rt("AROUND",!1),K=function(P,X){return{bounds:"around",query:P,area:X}},J="global",re=rt("global",!1),C="GLOBAL",G=rt("GLOBAL",!1),N=function(P){return{bounds:"global",query:P}},V="or",ne=rt("or",!1),oe="OR",ve=rt("OR",!1),de="||",fe=rt("||",!1),ye="|",e=rt("|",!1),n=function(P,X){return{logical:"or",queries:[P,X]}},r="and",s=rt("and",!1),l="AND",h=rt("AND",!1),v="&&",D=rt("&&",!1),F="&",Z=rt("&",!1),ae=function(P,X){return{logical:"and",queries:[P,X]}},ge="(",Q=rt("(",!1),ie=")",le=rt(")",!1),ce=function(P){return P},ke="=",Pe=rt("=",!1),ze="==",je=rt("==",!1),q=function(P,X){return{query:"eq",key:P,val:X}},he="!=",be=rt("!=",!1),Ce="<>",Te=rt("<>",!1),Ie=function(P,X){return{query:"neq",key:P,val:X}},Oe="*",Ae=rt("*",!1),Ge=function(P){return{query:"key",key:P}},Je="is",Ct=rt("is",!1),ct="not",$t=rt("not",!1),lt="null",Qe=rt("null",!1),Vt="IS",it=rt("IS",!1),Tt="NOT",Mt=rt("NOT",!1),Gt="NULL",li=rt("NULL",!1),Yt=function(P){return{query:"nokey",key:P}},Kt="~=",xi=rt("~=",!1),pi="~",Ci=rt("~",!1),At="=~",I=rt("=~",!1),se=function(P,X){return{query:"like",key:P,val:X.regex?X:{regex:X}}},te="like",we=rt("like",!1),De="LIKE",xe=rt("LIKE",!1),Fe=function(P,X){return{query:"likelike",key:P,val:X.regex?X:{regex:X}}},Ke="!~",Ye=rt("!~",!1),Ze=function(P,X){return{query:"notlike",key:P,val:X.regex?X:{regex:X}}},mt=":",ft=rt(":",!1),ri=function(P,X){return{query:"substr",key:P,val:X}},Rt="type",ht=rt("type",!1),gi=function(P){return{query:"type",type:P}},St="user",mi=rt("user",!1),qt="uid",qe=rt("uid",!1),Ft="newer",Jt=rt("newer",!1),ui="id",vi=rt("id",!1),kt=function(P,X){return{query:"meta",meta:P,val:X}},Ue=function(P){return{query:"free form",free:P}},Xt=Ki("Key"),Pt=/^[a-zA-Z0-9_:\-]/,Me=ji([["a","z"],["A","Z"],["0","9"],"_",":","-"],!1,!1),Ot=function(P){return P.join("")},ti='"',Ut=rt('"',!1),vt="'",dt=rt("'",!1),Bt=function(P){return P[1]},Dt=Ki("string"),wt=/^[^'" ()~=!*\/:<>&|[\]{}#+@$%?\^.,]/,Wt=ji(["'",'"'," ","(",")","~","=","!","*","/",":","<",">","&","|","[","]","{","}","#","+","@","$","%","?","^",".",","],!0,!1),si=function(P){return P.join("")},Qt="\\",ii=rt("\\",!1),hi=Tn(),ni=function(P){return P},Di=function(P){return P},Ti=/^['"\\bfnrtv]/,It=ji(["'",'"',"\\","b","f","n","r","t","v"],!1,!1),Ht=function(P){return P.replace("b","\b").replace("f","\f").replace("n",`
`).replace("r","\r").replace("t","	").replace("v","\v")},Fi="/",fi=rt("/",!1),ci="i",Li=rt("i",!1),Hi="",Pi=function(P){return{regex:P[1],modifier:P[3]}},ki="\\/",Nt=rt("\\/",!1),Dn=function(){return"/"},Yi=Ki("whitespace"),rn=/^[ \t\n\r]/,Ei=ji([" ","	",`
`,"\r"],!1,!1),W=0,at=[{line:1,column:1}],Zt=0,Wi=[],Be=0,Vi;if("startRule"in z){if(!(z.startRule in H))throw new Error(`Can't start parsing from rule "`+z.startRule+'".');b=H[z.startRule]}function rt(P,X){return{type:"literal",text:P,ignoreCase:X}}function ji(P,X,me){return{type:"class",parts:P,inverted:X,ignoreCase:me}}function Tn(){return{type:"any"}}function Pn(){return{type:"end"}}function Ki(P){return{type:"other",description:P}}function sn(P){var X=at[P],me;if(X)return X;for(me=P-1;!at[me];)me--;for(X=at[me],X={line:X.line,column:X.column};me<P;)p.charCodeAt(me)===10?(X.line++,X.column=1):X.column++,me++;return at[P]=X,X}function Oi(P,X){var me=sn(P),ue=sn(X);return{start:{offset:P,line:me.line,column:me.column},end:{offset:X,line:ue.line,column:ue.column}}}function He(P){W<Zt||(W>Zt&&(Zt=W,Wi=[]),Wi.push(P))}function an(P,X,me){return new B(B.buildMessage(P,X),P,X,me)}function on(){var P,X,me,ue;return P=W,X=bt(),X!==a?(me=Xi(),me!==a?(ue=bt(),ue!==a?(X=x(me),P=X):(W=P,P=a)):(W=P,P=a)):(W=P,P=a),P}function Xi(){var P,X,me,ue,Le,Se;if(P=W,X=bi(),X!==a){if(me=[],ue=$e(),ue!==a)for(;ue!==a;)me.push(ue),ue=$e();else me=a;me!==a?(p.substr(W,7)===M?(ue=M,W+=7):(ue=a,Be===0&&He(S)),ue===a&&(p.substr(W,7)===A?(ue=A,W+=7):(ue=a,Be===0&&He(T))),ue!==a?(X=R(X),P=X):(W=P,P=a)):(W=P,P=a)}else W=P,P=a;if(P===a){if(P=W,X=bi(),X!==a){if(me=[],ue=$e(),ue!==a)for(;ue!==a;)me.push(ue),ue=$e();else me=a;if(me!==a)if(p.substr(W,2)===E?(ue=E,W+=2):(ue=a,Be===0&&He(u)),ue===a&&(p.substr(W,2)===k?(ue=k,W+=2):(ue=a,Be===0&&He(d))),ue!==a){if(Le=[],Se=$e(),Se!==a)for(;Se!==a;)Le.push(Se),Se=$e();else Le=a;Le!==a?(Se=zt(),Se!==a?(X=c(X,Se),P=X):(W=P,P=a)):(W=P,P=a)}else W=P,P=a;else W=P,P=a}else W=P,P=a;if(P===a){if(P=W,X=bi(),X!==a){if(me=[],ue=$e(),ue!==a)for(;ue!==a;)me.push(ue),ue=$e();else me=a;if(me!==a)if(p.substr(W,6)===g?(ue=g,W+=6):(ue=a,Be===0&&He(y)),ue===a&&(p.substr(W,6)===m?(ue=m,W+=6):(ue=a,Be===0&&He(U))),ue!==a){if(Le=[],Se=$e(),Se!==a)for(;Se!==a;)Le.push(Se),Se=$e();else Le=a;Le!==a?(Se=zt(),Se!==a?(X=K(X,Se),P=X):(W=P,P=a)):(W=P,P=a)}else W=P,P=a;else W=P,P=a}else W=P,P=a;if(P===a){if(P=W,X=bi(),X!==a){if(me=[],ue=$e(),ue!==a)for(;ue!==a;)me.push(ue),ue=$e();else me=a;me!==a?(p.substr(W,6)===J?(ue=J,W+=6):(ue=a,Be===0&&He(re)),ue===a&&(p.substr(W,6)===C?(ue=C,W+=6):(ue=a,Be===0&&He(G))),ue!==a?(X=N(X),P=X):(W=P,P=a)):(W=P,P=a)}else W=P,P=a;P===a&&(P=W,X=bi(),X!==a&&(X=R(X)),P=X)}}}return P}function bi(){var P,X,me,ue,Le,Se;if(P=W,X=Qi(),X!==a){if(me=[],ue=$e(),ue!==a)for(;ue!==a;)me.push(ue),ue=$e();else me=a;if(me!==a)if(p.substr(W,2)===V?(ue=V,W+=2):(ue=a,Be===0&&He(ne)),ue===a&&(p.substr(W,2)===oe?(ue=oe,W+=2):(ue=a,Be===0&&He(ve)),ue===a&&(p.substr(W,2)===de?(ue=de,W+=2):(ue=a,Be===0&&He(fe)),ue===a&&(p.charCodeAt(W)===124?(ue=ye,W++):(ue=a,Be===0&&He(e))))),ue!==a){if(Le=[],Se=$e(),Se!==a)for(;Se!==a;)Le.push(Se),Se=$e();else Le=a;Le!==a?(Se=bi(),Se!==a?(X=n(X,Se),P=X):(W=P,P=a)):(W=P,P=a)}else W=P,P=a;else W=P,P=a}else W=P,P=a;return P===a&&(P=Qi()),P}function Qi(){var P,X,me,ue,Le,Se;if(P=W,X=ln(),X!==a){if(me=[],ue=$e(),ue!==a)for(;ue!==a;)me.push(ue),ue=$e();else me=a;if(me!==a)if(p.substr(W,3)===r?(ue=r,W+=3):(ue=a,Be===0&&He(s)),ue===a&&(p.substr(W,3)===l?(ue=l,W+=3):(ue=a,Be===0&&He(h)),ue===a&&(p.substr(W,2)===v?(ue=v,W+=2):(ue=a,Be===0&&He(D)),ue===a&&(p.charCodeAt(W)===38?(ue=F,W++):(ue=a,Be===0&&He(Z))))),ue!==a){if(Le=[],Se=$e(),Se!==a)for(;Se!==a;)Le.push(Se),Se=$e();else Le=a;Le!==a?(Se=Qi(),Se!==a?(X=ae(X,Se),P=X):(W=P,P=a)):(W=P,P=a)}else W=P,P=a;else W=P,P=a}else W=P,P=a;return P===a&&(P=ln()),P}function ln(){var P,X,me,ue,Le,Se;return P=Mi(),P===a&&(P=W,p.charCodeAt(W)===40?(X=ge,W++):(X=a,Be===0&&He(Q)),X!==a?(me=bt(),me!==a?(ue=bi(),ue!==a?(Le=bt(),Le!==a?(p.charCodeAt(W)===41?(Se=ie,W++):(Se=a,Be===0&&He(le)),Se!==a?(X=ce(ue),P=X):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)),P}function Mi(){var P;return P=dn(),P===a&&(P=di(),P===a&&(P=Ji(),P===a&&(P=un(),P===a&&(P=hn(),P===a&&(P=Mn(),P===a&&(P=An(),P===a&&(P=fn(),P===a&&(P=cn(),P===a&&(P=Zi(),P===a&&(P=Bi())))))))))),P}function Ji(){var P,X,me,ue,Le,Se;return P=W,X=Si(),X!==a?(me=bt(),me!==a?(p.charCodeAt(W)===61?(ue=ke,W++):(ue=a,Be===0&&He(Pe)),ue===a&&(p.substr(W,2)===ze?(ue=ze,W+=2):(ue=a,Be===0&&He(je))),ue!==a?(Le=bt(),Le!==a?(Se=zt(),Se!==a?(X=q(X,Se),P=X):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a),P}function un(){var P,X,me,ue,Le,Se;return P=W,X=Si(),X!==a?(me=bt(),me!==a?(p.substr(W,2)===he?(ue=he,W+=2):(ue=a,Be===0&&He(be)),ue===a&&(p.substr(W,2)===Ce?(ue=Ce,W+=2):(ue=a,Be===0&&He(Te))),ue!==a?(Le=bt(),Le!==a?(Se=zt(),Se!==a?(X=Ie(X,Se),P=X):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a),P}function hn(){var P,X,me,ue,Le,Se,Xe,jt,pt;if(P=W,X=Si(),X!==a?(me=bt(),me!==a?(p.charCodeAt(W)===61?(ue=ke,W++):(ue=a,Be===0&&He(Pe)),ue===a&&(p.substr(W,2)===ze?(ue=ze,W+=2):(ue=a,Be===0&&He(je))),ue!==a?(Le=bt(),Le!==a?(p.charCodeAt(W)===42?(Se=Oe,W++):(Se=a,Be===0&&He(Ae)),Se!==a?(X=Ge(X),P=X):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a),P===a)if(P=W,X=zt(),X!==a){if(me=[],ue=$e(),ue!==a)for(;ue!==a;)me.push(ue),ue=$e();else me=a;if(me!==a){if(ue=W,p.substr(W,2)===Je?(Le=Je,W+=2):(Le=a,Be===0&&He(Ct)),Le!==a){if(Se=[],Xe=$e(),Xe!==a)for(;Xe!==a;)Se.push(Xe),Xe=$e();else Se=a;if(Se!==a)if(p.substr(W,3)===ct?(Xe=ct,W+=3):(Xe=a,Be===0&&He($t)),Xe!==a){if(jt=[],pt=$e(),pt!==a)for(;pt!==a;)jt.push(pt),pt=$e();else jt=a;jt!==a?(p.substr(W,4)===lt?(pt=lt,W+=4):(pt=a,Be===0&&He(Qe)),pt!==a?(Le=[Le,Se,Xe,jt,pt],ue=Le):(W=ue,ue=a)):(W=ue,ue=a)}else W=ue,ue=a;else W=ue,ue=a}else W=ue,ue=a;if(ue===a)if(ue=W,p.substr(W,2)===Vt?(Le=Vt,W+=2):(Le=a,Be===0&&He(it)),Le!==a){if(Se=[],Xe=$e(),Xe!==a)for(;Xe!==a;)Se.push(Xe),Xe=$e();else Se=a;if(Se!==a)if(p.substr(W,3)===Tt?(Xe=Tt,W+=3):(Xe=a,Be===0&&He(Mt)),Xe!==a){if(jt=[],pt=$e(),pt!==a)for(;pt!==a;)jt.push(pt),pt=$e();else jt=a;jt!==a?(p.substr(W,4)===Gt?(pt=Gt,W+=4):(pt=a,Be===0&&He(li)),pt!==a?(Le=[Le,Se,Xe,jt,pt],ue=Le):(W=ue,ue=a)):(W=ue,ue=a)}else W=ue,ue=a;else W=ue,ue=a}else W=ue,ue=a;ue!==a?(X=Ge(X),P=X):(W=P,P=a)}else W=P,P=a}else W=P,P=a;return P}function Mn(){var P,X,me,ue,Le,Se,Xe;if(P=W,X=Si(),X!==a?(me=bt(),me!==a?(p.substr(W,2)===he?(ue=he,W+=2):(ue=a,Be===0&&He(be)),ue===a&&(p.substr(W,2)===Ce?(ue=Ce,W+=2):(ue=a,Be===0&&He(Te))),ue!==a?(Le=bt(),Le!==a?(p.charCodeAt(W)===42?(Se=Oe,W++):(Se=a,Be===0&&He(Ae)),Se!==a?(X=Yt(X),P=X):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a),P===a)if(P=W,X=zt(),X!==a){if(me=[],ue=$e(),ue!==a)for(;ue!==a;)me.push(ue),ue=$e();else me=a;if(me!==a){if(ue=W,p.substr(W,2)===Je?(Le=Je,W+=2):(Le=a,Be===0&&He(Ct)),Le!==a){if(Se=[],Xe=$e(),Xe!==a)for(;Xe!==a;)Se.push(Xe),Xe=$e();else Se=a;Se!==a?(p.substr(W,4)===lt?(Xe=lt,W+=4):(Xe=a,Be===0&&He(Qe)),Xe!==a?(Le=[Le,Se,Xe],ue=Le):(W=ue,ue=a)):(W=ue,ue=a)}else W=ue,ue=a;if(ue===a)if(ue=W,p.substr(W,2)===Vt?(Le=Vt,W+=2):(Le=a,Be===0&&He(it)),Le!==a){if(Se=[],Xe=$e(),Xe!==a)for(;Xe!==a;)Se.push(Xe),Xe=$e();else Se=a;Se!==a?(p.substr(W,4)===Gt?(Xe=Gt,W+=4):(Xe=a,Be===0&&He(li)),Xe!==a?(Le=[Le,Se,Xe],ue=Le):(W=ue,ue=a)):(W=ue,ue=a)}else W=ue,ue=a;ue!==a?(X=Yt(X),P=X):(W=P,P=a)}else W=P,P=a}else W=P,P=a;return P}function An(){var P,X,me,ue,Le,Se;if(P=W,X=Si(),X!==a?(me=bt(),me!==a?(p.substr(W,2)===Kt?(ue=Kt,W+=2):(ue=a,Be===0&&He(xi)),ue===a&&(p.charCodeAt(W)===126?(ue=pi,W++):(ue=a,Be===0&&He(Ci)),ue===a&&(p.substr(W,2)===At?(ue=At,W+=2):(ue=a,Be===0&&He(I)))),ue!==a?(Le=bt(),Le!==a?(Se=zt(),Se===a&&(Se=_i()),Se!==a?(X=se(X,Se),P=X):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a),P===a)if(P=W,X=zt(),X!==a){if(me=[],ue=$e(),ue!==a)for(;ue!==a;)me.push(ue),ue=$e();else me=a;if(me!==a)if(p.substr(W,4)===te?(ue=te,W+=4):(ue=a,Be===0&&He(we)),ue===a&&(p.substr(W,4)===De?(ue=De,W+=4):(ue=a,Be===0&&He(xe))),ue!==a){if(Le=[],Se=$e(),Se!==a)for(;Se!==a;)Le.push(Se),Se=$e();else Le=a;Le!==a?(Se=zt(),Se===a&&(Se=_i()),Se!==a?(X=se(X,Se),P=X):(W=P,P=a)):(W=P,P=a)}else W=P,P=a;else W=P,P=a}else W=P,P=a;return P}function fn(){var P,X,me,ue,Le,Se,Xe,jt;return P=W,p.charCodeAt(W)===126?(X=pi,W++):(X=a,Be===0&&He(Ci)),X!==a?(me=bt(),me!==a?(ue=zt(),ue!==a?(Le=bt(),Le!==a?(p.substr(W,2)===Kt?(Se=Kt,W+=2):(Se=a,Be===0&&He(xi)),Se===a&&(p.charCodeAt(W)===126?(Se=pi,W++):(Se=a,Be===0&&He(Ci)),Se===a&&(p.substr(W,2)===At?(Se=At,W+=2):(Se=a,Be===0&&He(I)))),Se!==a?(Xe=bt(),Xe!==a?(jt=zt(),jt===a&&(jt=_i()),jt!==a?(X=Fe(ue,jt),P=X):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a),P}function cn(){var P,X,me,ue,Le,Se,Xe;if(P=W,X=Si(),X!==a?(me=bt(),me!==a?(p.substr(W,2)===Ke?(ue=Ke,W+=2):(ue=a,Be===0&&He(Ye)),ue!==a?(Le=bt(),Le!==a?(Se=zt(),Se===a&&(Se=_i()),Se!==a?(X=Ze(X,Se),P=X):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a),P===a)if(P=W,X=zt(),X!==a){if(me=[],ue=$e(),ue!==a)for(;ue!==a;)me.push(ue),ue=$e();else me=a;if(me!==a){if(ue=W,p.substr(W,3)===ct?(Le=ct,W+=3):(Le=a,Be===0&&He($t)),Le!==a){if(Se=[],Xe=$e(),Xe!==a)for(;Xe!==a;)Se.push(Xe),Xe=$e();else Se=a;Se!==a?(p.substr(W,4)===te?(Xe=te,W+=4):(Xe=a,Be===0&&He(we)),Xe!==a?(Le=[Le,Se,Xe],ue=Le):(W=ue,ue=a)):(W=ue,ue=a)}else W=ue,ue=a;if(ue===a)if(ue=W,p.substr(W,3)===Tt?(Le=Tt,W+=3):(Le=a,Be===0&&He(Mt)),Le!==a){if(Se=[],Xe=$e(),Xe!==a)for(;Xe!==a;)Se.push(Xe),Xe=$e();else Se=a;Se!==a?(p.substr(W,4)===De?(Xe=De,W+=4):(Xe=a,Be===0&&He(xe)),Xe!==a?(Le=[Le,Se,Xe],ue=Le):(W=ue,ue=a)):(W=ue,ue=a)}else W=ue,ue=a;if(ue!==a){if(Le=[],Se=$e(),Se!==a)for(;Se!==a;)Le.push(Se),Se=$e();else Le=a;Le!==a?(Se=zt(),Se===a&&(Se=_i()),Se!==a?(X=Ze(X,Se),P=X):(W=P,P=a)):(W=P,P=a)}else W=P,P=a}else W=P,P=a}else W=P,P=a;return P}function Zi(){var P,X,me,ue,Le,Se;return P=W,X=zt(),X!==a?(me=bt(),me!==a?(p.charCodeAt(W)===58?(ue=mt,W++):(ue=a,Be===0&&He(ft)),ue!==a?(Le=bt(),Le!==a?(Se=zt(),Se!==a?(X=ri(X,Se),P=X):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a),P}function dn(){var P,X,me,ue,Le,Se;return P=W,p.substr(W,4)===Rt?(X=Rt,W+=4):(X=a,Be===0&&He(ht)),X!==a?(me=bt(),me!==a?(p.charCodeAt(W)===58?(ue=mt,W++):(ue=a,Be===0&&He(ft)),ue!==a?(Le=bt(),Le!==a?(Se=zt(),Se!==a?(X=gi(Se),P=X):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a),P}function di(){var P,X,me,ue,Le,Se;return P=W,p.substr(W,4)===St?(X=St,W+=4):(X=a,Be===0&&He(mi)),X===a&&(p.substr(W,3)===qt?(X=qt,W+=3):(X=a,Be===0&&He(qe)),X===a&&(p.substr(W,5)===Ft?(X=Ft,W+=5):(X=a,Be===0&&He(Jt)),X===a&&(p.substr(W,2)===ui?(X=ui,W+=2):(X=a,Be===0&&He(vi))))),X!==a?(me=bt(),me!==a?(p.charCodeAt(W)===58?(ue=mt,W++):(ue=a,Be===0&&He(ft)),ue!==a?(Le=bt(),Le!==a?(Se=zt(),Se!==a?(X=kt(X,Se),P=X):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a)):(W=P,P=a),P}function Bi(){var P,X;return P=W,X=zt(),X!==a&&(X=Ue(X)),P=X,P}function Si(){var P,X,me,ue,Le;if(Be++,P=W,X=[],Pt.test(p.charAt(W))?(me=p.charAt(W),W++):(me=a,Be===0&&He(Me)),me!==a)for(;me!==a;)X.push(me),Pt.test(p.charAt(W))?(me=p.charAt(W),W++):(me=a,Be===0&&He(Me));else X=a;return X!==a&&(X=Ot(X)),P=X,P===a&&(P=W,X=W,p.charCodeAt(W)===34?(me=ti,W++):(me=a,Be===0&&He(Ut)),me!==a?(ue=qi(),ue!==a?(p.charCodeAt(W)===34?(Le=ti,W++):(Le=a,Be===0&&He(Ut)),Le!==a?(me=[me,ue,Le],X=me):(W=X,X=a)):(W=X,X=a)):(W=X,X=a),X===a&&(X=W,p.charCodeAt(W)===39?(me=vt,W++):(me=a,Be===0&&He(dt)),me!==a?(ue=Ni(),ue!==a?(p.charCodeAt(W)===39?(Le=vt,W++):(Le=a,Be===0&&He(dt)),Le!==a?(me=[me,ue,Le],X=me):(W=X,X=a)):(W=X,X=a)):(W=X,X=a)),X!==a&&(X=Bt(X)),P=X),Be--,P===a&&(X=a,Be===0&&He(Xt)),P}function zt(){var P,X,me,ue,Le;if(Be++,P=W,X=[],wt.test(p.charAt(W))?(me=p.charAt(W),W++):(me=a,Be===0&&He(Wt)),me!==a)for(;me!==a;)X.push(me),wt.test(p.charAt(W))?(me=p.charAt(W),W++):(me=a,Be===0&&He(Wt));else X=a;return X!==a&&(X=Ot(X)),P=X,P===a&&(P=W,X=W,p.charCodeAt(W)===34?(me=ti,W++):(me=a,Be===0&&He(Ut)),me!==a?(ue=qi(),ue!==a?(p.charCodeAt(W)===34?(Le=ti,W++):(Le=a,Be===0&&He(Ut)),Le!==a?(me=[me,ue,Le],X=me):(W=X,X=a)):(W=X,X=a)):(W=X,X=a),X===a&&(X=W,p.charCodeAt(W)===39?(me=vt,W++):(me=a,Be===0&&He(dt)),me!==a?(ue=Ni(),ue!==a?(p.charCodeAt(W)===39?(Le=vt,W++):(Le=a,Be===0&&He(dt)),Le!==a?(me=[me,ue,Le],X=me):(W=X,X=a)):(W=X,X=a)):(W=X,X=a)),X!==a&&(X=Bt(X)),P=X),Be--,P===a&&(X=a,Be===0&&He(Dt)),P}function qi(){var P,X,me;for(P=W,X=[],me=Ai();me!==a;)X.push(me),me=Ai();return X!==a&&(X=si(X)),P=X,P}function Ni(){var P,X,me;for(P=W,X=[],me=ei();me!==a;)X.push(me),me=ei();return X!==a&&(X=si(X)),P=X,P}function Ai(){var P,X,me;return P=W,X=W,Be++,p.charCodeAt(W)===34?(me=ti,W++):(me=a,Be===0&&He(Ut)),me===a&&(p.charCodeAt(W)===92?(me=Qt,W++):(me=a,Be===0&&He(ii))),Be--,me===a?X=void 0:(W=X,X=a),X!==a?(p.length>W?(me=p.charAt(W),W++):(me=a,Be===0&&He(hi)),me!==a?(X=ni(me),P=X):(W=P,P=a)):(W=P,P=a),P===a&&(P=W,p.charCodeAt(W)===92?(X=Qt,W++):(X=a,Be===0&&He(ii)),X!==a?(me=zi(),me!==a?(X=Di(me),P=X):(W=P,P=a)):(W=P,P=a)),P}function ei(){var P,X,me;return P=W,X=W,Be++,p.charCodeAt(W)===39?(me=vt,W++):(me=a,Be===0&&He(dt)),me===a&&(p.charCodeAt(W)===92?(me=Qt,W++):(me=a,Be===0&&He(ii))),Be--,me===a?X=void 0:(W=X,X=a),X!==a?(p.length>W?(me=p.charAt(W),W++):(me=a,Be===0&&He(hi)),me!==a?(X=ni(me),P=X):(W=P,P=a)):(W=P,P=a),P===a&&(P=W,p.charCodeAt(W)===92?(X=Qt,W++):(X=a,Be===0&&He(ii)),X!==a?(me=zi(),me!==a?(X=Di(me),P=X):(W=P,P=a)):(W=P,P=a)),P}function zi(){var P,X;return P=W,Ti.test(p.charAt(W))?(X=p.charAt(W),W++):(X=a,Be===0&&He(It)),X!==a&&(X=Ht(X)),P=X,P}function _i(){var P,X,me,ue,Le,Se;return Be++,P=W,X=W,p.charCodeAt(W)===47?(me=Fi,W++):(me=a,Be===0&&He(fi)),me!==a?(ue=ai(),ue!==a?(p.charCodeAt(W)===47?(Le=Fi,W++):(Le=a,Be===0&&He(fi)),Le!==a?(p.charCodeAt(W)===105?(Se=ci,W++):(Se=a,Be===0&&He(Li)),Se===a&&(Se=Hi),Se===a&&(Se=null),Se!==a?(me=[me,ue,Le,Se],X=me):(W=X,X=a)):(W=X,X=a)):(W=X,X=a)):(W=X,X=a),X!==a&&(X=Pi(X)),P=X,Be--,P===a&&(X=a,Be===0&&He(Dt)),P}function ai(){var P,X,me;if(P=W,X=[],me=pn(),me!==a)for(;me!==a;)X.push(me),me=pn();else X=a;return X!==a&&(X=si(X)),P=X,P}function pn(){var P,X,me;return P=W,X=W,Be++,p.charCodeAt(W)===47?(me=Fi,W++):(me=a,Be===0&&He(fi)),me===a&&(p.substr(W,2)===ki?(me=ki,W+=2):(me=a,Be===0&&He(Nt))),Be--,me===a?X=void 0:(W=X,X=a),X!==a?(p.length>W?(me=p.charAt(W),W++):(me=a,Be===0&&He(hi)),me!==a?(X=ni(me),P=X):(W=P,P=a)):(W=P,P=a),P===a&&(P=W,p.substr(W,2)===ki?(X=ki,W+=2):(X=a,Be===0&&He(Nt)),X!==a&&(X=Dn()),P=X),P}function bt(){var P,X;for(Be++,P=[],X=$e();X!==a;)P.push(X),X=$e();return Be--,P===a&&(X=a,Be===0&&He(Yi)),P}function $e(){var P;return Be++,rn.test(p.charAt(W))?(P=p.charAt(W),W++):(P=a,Be===0&&He(Ei)),Be--,P===a&&Be===0&&He(Yi),P}if(Vi=b(),Vi!==a&&W===p.length)return Vi;throw Vi!==a&&W<p.length&&He(Pn()),an(Wi,Zt<p.length?p.charAt(Zt):null,Zt<p.length?Oi(Zt,Zt+1):Oi(Zt,Zt))}return{SyntaxError:B,parse:O}}();var ffs={};function normalize(t){var B={logical:"or",queries:[]};function O(p){if(p.logical)if(p.logical==="and"){for(var z=O(p.queries[0]),a=O(p.queries[1]),H=[],b=0;b<z.length;b++)for(var x=0;x<a.length;x++)H.push({logical:"and",queries:z[b].queries.concat(a[x].queries)});return H}else if(p.logical==="or"){var z=O(p.queries[0]),a=O(p.queries[1]);return[].concat(z,a)}else alert("unsupported boolean operator: "+p.logical);else return[{logical:"and",queries:[p]}]}return B.queries=O(t),B}function escRegexp(t){return t.replace(/([()[{*+.$^\\|?])/g,"\\$1")}ffs.construct_query=function(t,B,O){function p(R){return R.replace(/\*\//g,"[\u2026]").replace(/\n/g,"\\n")}try{ffs=ffs_parser.parse(t)}catch(R){return console.warn("ffs parse error",R),O("ffs parse error")}var z=[],a;switch(z.push("/*"),B?z.push(B):(z.push("This has been generated by the overpass-turbo wizard."),z.push("The original search was:"),z.push("\u201C"+p(t)+"\u201D")),z.push("*/"),z.push("[out:json][timeout:25];"),ffs.bounds){case"area":z.push("// fetch area \u201C"+ffs.area+"\u201D to search in"),z.push("{{geocodeArea:"+ffs.area+"}}->.searchArea;"),a="(area.searchArea)";break;case"around":z.push("// adjust the search radius (in meters) here"),z.push("{{radius=1000}}"),a="(around:{{radius}},{{geocodeCoords:"+ffs.area+"}})";break;case"bbox":a="({{bbox}})";break;case"global":a=void 0;break;default:return alert("unknown bounds condition: "+ffs.bounds),!1}function H(R){function E(d){if(typeof d=="string")return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\t/g,"\\t").replace(/\n/g,"\\n")}var u=E(R.key),k=E(R.val);switch(R.query==="substr"&&(R.query="like",R.val={regex:escRegexp(R.val)}),k===""&&(R.query==="eq"?(R.query="like",R.val={regex:"^$"}):R.query==="neq"&&(R.query="notlike",R.val={regex:"^$"})),u===""&&(R.query==="key"?(R.query="likelike",u="^$",R.val={regex:".*"}):R.query==="eq"?(R.query="likelike",u="^$",R.val={regex:"^"+escRegexp(R.val)+"$"}):R.query==="like"&&(R.query="likelike",u="^$")),R.query){case"key":return'["'+u+'"]';case"nokey":return'["'+u+'"!~".*"]';case"eq":return'["'+u+'"="'+k+'"]';case"neq":return'["'+u+'"!="'+k+'"]';case"like":return'["'+u+'"~"'+E(R.val.regex)+'"'+(R.val.modifier==="i"?",i":"")+"]";case"likelike":return'[~"'+u+'"~"'+E(R.val.regex)+'"'+(R.val.modifier==="i"?",i":"")+"]";case"notlike":return'["'+u+'"!~"'+E(R.val.regex)+'"'+(R.val.modifier==="i"?",i":"")+"]";case"meta":switch(R.meta){case"id":return"("+k+")";case"newer":return R.val.match(/^-?\d+ ?(seconds?|minutes?|hours?|days?|weeks?|months?|years?)?$/)?'(newer:"{{date:'+k+'}}")':'(newer:"'+k+'")';case"user":return'(user:"'+k+'")';case"uid":return"(uid:"+k+")";default:return console.log("unknown query type: meta/"+R.meta),!1}case"free form":default:return console.log("unknown query type: "+R.query),!1}}function b(R){function E(k){return k.match(/^[a-zA-Z0-9_]+$/)===null?'"'+k.replace(/"/g,'\\"')+'"':k}function u(k){return k.regex.match(/^[a-zA-Z0-9_]+$/)===null||k.modifier?"/"+k.regex.replace(/\//g,"\\/")+"/"+(k.modifier||""):k.regex}switch(R.query){case"key":return p(E(R.key)+"=*");case"nokey":return p(E(R.key)+"!=*");case"eq":return p(E(R.key)+"="+E(R.val));case"neq":return p(E(R.key)+"!="+E(R.val));case"like":return p(E(R.key)+"~"+u(R.val));case"likelike":return p("~"+E(R.key)+"~"+u(R.val));case"notlike":return p(E(R.key)+"!~"+u(R.val));case"substr":return p(E(R.key)+":"+E(R.val));case"meta":switch(R.meta){case"id":return p("id:"+E(R.val));case"newer":return p("newer:"+E(R.val));case"user":return p("user:"+E(R.val));case"uid":return p("uid:"+E(R.val));default:return""}case"free form":return p(E(R.free));default:return""}}ffs.query=normalize(ffs.query);for(var x=!1,M=0;M<ffs.query.queries.length;M++)for(var S=ffs.query.queries[M],A=0;A<S.queries.length;A++){var T=S.queries[A];if(T.query==="free form"){x=!0;break}}(x?ffs_free:function(R){R(null)})(function(R){z.push("// gather results"),z.push("(");for(var E=0;E<ffs.query.queries.length;E++){for(var u=ffs.query.queries[E],k=["node","way","relation"],d=[],c=[],g=0;g<u.queries.length;g++){var y=u.queries[g];if(y.query==="free form"){var m=R.get_query_clause(y);if(m===!1)return O("unknown ffs string");k=k.filter(function(C){return m.types.indexOf(C)!=-1}),c.push(b(y)),d=d.concat(m.conditions.map(function(C){return H(C)}))}else if(y.query==="type")k=k.indexOf(y.type)!=-1?[y.type]:[];else{c.push(b(y));var U=H(y);if(U===!1)return!1;d.push(U)}}c=c.join(" and "),z.push("  // query part for: \u201C"+c+"\u201D"),k.length===3&&(k=["nwr"],z.push("  // nwr is short for node/way/relation"));for(var K=0;K<k.length;K++){for(var J="  "+k[K],re=0;re<d.length;re++)J+=d[re];a&&(J+=a),J+=";",z.push(J)}}z.push(");"),z.push("// print results"),z.push("out body;"),z.push(">;"),z.push("out skel qt;"),O(null,z.join(`
`))})};ffs.repair_search=function(t,B){try{ffs=ffs_parser.parse(t)}catch{return B(!1)}function O(a){return a.match(/^[a-zA-Z0-9_]+$/)===null?'"'+a.replace(/"/g,'\\"')+'"':a}var p=[],z=!1;ffs_free(function(a){ffs.query=normalize(ffs.query),ffs.query.queries.forEach(function(b){b.queries.forEach(H)});function H(b){if(b.query==="free form"){var x=a.get_query_clause(b);if(x===!1){var M=a.fuzzy_search(b),S=null;try{S=new RegExp(`['"]?`+escRegexp(b.free)+`['"]?`)}catch{}if(M&&t.match(S)){p=p.concat(t.split(S)),t=p.pop();var A=O(M);p.push(A),z=!0}}}}p.push(t),B(z?p:!1)})};ffs.invalidateCache=function(){};const ffs$1=ffs;function urlParameters(t){var B={has_query:!1,query:void 0,has_coords:!1,coords:void 0,has_zoom:!1,zoom:void 0,run_query:!1};function O(R){var E={};if(typeof R=="string"&&R.length>0)for(var u=R.substring(1).split("&"),k=0;k<u.length;k++){var d=u[k].split("="),c=decodeURIComponent(d.shift().replace(/\+/g,"%20")),g=d.length>0?decodeURIComponent(d.join("=").replace(/\+/g,"%20")):!0;E[c]=g}return E}var p=O(t);if(p.q&&(B.query=lzw_decode(Base64.decode(p.q)),B.has_query=!0),p.Q&&(B.query=p.Q,B.has_query=!0),p.c){var z=p.c.match(/([A-Za-z0-9\-_]+)([A-Za-z0-9\-_])/),a=function(R){var E=Base64.decodeNum(R),u={};return u.lat=E%(180*1e5)/1e5-90,u.lng=Math.floor(E/(180*1e5))/1e5-180,u};B.coords=a(z[1]),B.has_coords=!0,B.zoom=Base64.decodeNum(z[2]),B.has_zoom=!0}if(p.C){var z=p.C.match(/(-?[\d.]+);(-?[\d.]+);(\d+)/);B.coords={lat:+z[1],lng:+z[2]},B.has_coords=!0,B.zoom=+z[3],B.has_zoom=!0}if(p.lat&&p.lon&&(B.coords={lat:+p.lat,lng:+p.lon},B.has_coords=!0),p.zoom&&(B.zoom=+p.zoom,B.has_zoom=!0),p.template){var H=settings.saves[p.template];if(H&&H.type=="template"){for(var b=H.wizard,x=H.parameters,M=0;M<x.length;M++){var S=x[M],A=p[S];typeof A!="string"&&(A="???"),b=b.replace("{{"+S+"}}",quotes(A))}p.w=b;var T=H.comment}else console.log("template not found: "+p.template)}return p.w&&ffs$1.construct_query(p.w,T,function(R,E){R?console.log(`invalid wizard syntax:
  `+p.w):(B.query=E,B.has_query=!0)}),p.R!==void 0&&B.has_query&&(B.run_query=!0),B}function quotes(t){return t.match(/^[a-zA-Z0-9_]+$/)===null?'"'+t.replace(/"/g,'\\"')+'"':t}function autorepair(t,B){var O={},p={};return function(){if(B=="xml")for(var a=t.match(/<!--[\s\S]*?-->/g)||[],H=0;H<a.length;H++){var b="<!--"+Base64.encode(Math.random().toString())+"-->";t=t.replace(a[H],b),p[b]=a[H]}else{for(var a=t.match(/\/\*[\s\S]*?\*\//g)||[],H=0;H<a.length;H++){var b="/*"+Base64.encode(Math.random().toString())+"*/";t=t.replace(a[H],b),p[b]=a[H]}for(var a=t.match(/\/\/[^\n]*/g)||[],H=0;H<a.length;H++){var b="/*"+Base64.encode(Math.random().toString())+"*/";t=t.replace(a[H],b),p[b]=a[H]}}}(),O.getQuery=function(){for(var z in p)t=t.replace(z,p[z]);return t},O.recurse=function(){if(B=="xml"){for(var z=t.match(/(\n?[^\S\n]*<print[\s\S]*?(\/>|<\/print>))/g)||[],a=0;a<z.length;a++){var H=z[a].match(/^\n?(\s*)/)[1],b=$("print",$.parseXML(z[a])).attr("from"),x,M,S;b?(x=' into="'+b+'"',M=' set="'+b+'"',S=' from="'+b+'"'):(x="",M="",S=""),t=t.replace(z[a],`
`+H+`<!-- added by auto repair -->
`+H+"<union"+x+`>
`+H+"  <item"+M+`/>
`+H+"  <recurse"+S+` type="down"/>
`+H+`</union>
`+H+"<!-- end of auto repair --><autorepair>"+a+"</autorepair>")}for(var a=0;a<z.length;a++)t=t.replace("<autorepair>"+a+"</autorepair>",z[a])}else{for(var A=t.match(/(\n?[^\S\n]*(\.[^.;]+)?out[^:;"\]]*;)/g)||[],a=0;a<A.length;a++){var H=A[a].match(/^\n?(\s*)/)[0],b=A[a].match(/\.([^;.]+?)\s+out/),T;b?T="(."+b[1]+";."+b[1]+" >;)->."+b[1]+";":T="(._;>;);",t=t.replace(A[a],H+"/*added by auto repair*/"+H+T+H+"/*end of auto repair*/<autorepair>"+a+"</autorepair>")}for(var a=0;a<A.length;a++)t=t.replace("<autorepair>"+a+"</autorepair>",A[a])}return!0},O.editors=function(){if(B=="xml"){var z=t.match(/<osm-script([^>]*)>/);if(z){var a=$("osm-script",$.parseXML(z[0]+"</osm-script>")).attr("output");if(a&&a!="xml"){var H=z[0].replace(a,"xml");t=t.replace(z[0],H+"<!-- fixed by auto repair -->")}}for(var b=t.match(/(<print[\s\S]*?(\/>|<\/print>))/g)||[],x=0;x<b.length;x++){var M=$("print",$.parseXML(b[x])),S=M.attr("mode"),A=M.attr("geometry"),T="",R,E=!1;if(S!=="meta"&&(M.attr("mode","meta"),E=!0),A&&A!=="skeleton"){M.attr("geometry",null);var u=M.attr("from");u?T='<union into="'+u+'"><item set="'+u+'"/><recurse from="'+u+'" type="down"/></union>':T='<union><item/><recurse type="down"/></union>',E=!0}E&&(R=T+new XMLSerializer().serializeToString(M[0]),R+="<!-- fixed by auto repair -->",t=t.replace(b[x],R))}}else{var k=t.match(/\[\s*out\s*:\s*([^\]\s]+)\s*\]\s*;?/);k&&k[1]!="xml"&&(t=t.replace(/(\[\s*out\s*:\s*)([^\]\s]+)(\s*\]\s*;?)/,"$1xml$3/*fixed by auto repair*/"));for(var b=t.match(/(\.([^;.]+?)\s+)?(out[^:;"\]]*;)/g)||[],x=0;x<b.length;x++){var M=b[x].match(/(\.([^;.]+?)\s+)?(out[^:;"\]]*;)/),d=M[3],u=M[2],M=M[0],R=M;if(d.match(/\s(body|skel|ids|tags)/)||!d.match(/\s(meta)/)){var c=d.replace(/\s(body|skel|ids|tags|meta)/g,"").replace(/^out/,"out meta");R=R.replace(d,c),d=c}if(d.match(/\s(center|bb|geom)/)){var c=d.replace(/\s(center|bb|geom)/g,"");R=R.replace(d,c),d=c,u?R="(."+u+";."+u+" >;)->."+u+"; "+R:R="(._;>;); "+R}R!=M&&(t=t.replace(M,R+"/*fixed by auto repair*/"))}}return!0},O}autorepair.detect={};autorepair.detect.editors=function(t,B){t=t.replace(/{{.*?}}/g,"");var O={};if(B=="xml")try{var p=$.parseXML("<x>"+t+"</x>"),z=$("osm-script",p).attr("output");z!==void 0&&z!=="xml"&&(O.output=!0),$("print",p).each(function(H,b){$(b).attr("mode")!=="meta"&&(O.meta=!0)}),$("print",p).each(function(H,b){$(b).attr("geometry").match(/(center|bounds|full)/)&&(O.geometry=!0)})}catch{}else{t=t.replace(/\/\*[\s\S]*?\*\//g,""),t=t.replace(/\/\/[^\n]*/g,"");var z=t.match(/\[\s*out\s*:\s*([^\]\s]+)\s*\]/);z&&z[1]!="xml"&&(O.output=!0);var a=t.match(/out([^:;]*);/g);$(a).each(function(b,x){(x.match(/\s(body|skel|ids|tags)/)||!x.match(/meta/))&&(O.meta=!0)}),$(a).each(function(b,x){x.match(/\s(center|bb|geom)/)&&(O.geometry=!0)})}return $.isEmptyObject(O)};var hashes$1={exports:{}};(function(t,B){(function(){var O;function p(E){var u,k,d="",c=-1,g;if(E&&E.length)for(g=E.length;(c+=1)<g;)u=E.charCodeAt(c),k=c+1<g?E.charCodeAt(c+1):0,55296<=u&&u<=56319&&56320<=k&&k<=57343&&(u=65536+((u&1023)<<10)+(k&1023),c+=1),u<=127?d+=String.fromCharCode(u):u<=2047?d+=String.fromCharCode(192|u>>>6&31,128|u&63):u<=65535?d+=String.fromCharCode(224|u>>>12&15,128|u>>>6&63,128|u&63):u<=2097151&&(d+=String.fromCharCode(240|u>>>18&7,128|u>>>12&63,128|u>>>6&63,128|u&63));return d}function z(E){var u,k,d,c,g,y=[],m;if(u=k=d=c=g=0,E&&E.length)for(m=E.length,E+="";u<m;)d=E.charCodeAt(u),k+=1,d<128?(y[k]=String.fromCharCode(d),u+=1):d>191&&d<224?(c=E.charCodeAt(u+1),y[k]=String.fromCharCode((d&31)<<6|c&63),u+=2):(c=E.charCodeAt(u+1),g=E.charCodeAt(u+2),y[k]=String.fromCharCode((d&15)<<12|(c&63)<<6|g&63),u+=3);return y.join("")}function a(E,u){var k=(E&65535)+(u&65535),d=(E>>16)+(u>>16)+(k>>16);return d<<16|k&65535}function H(E,u){return E<<u|E>>>32-u}function b(E,u){for(var k=u?"0123456789ABCDEF":"0123456789abcdef",d="",c,g=0,y=E.length;g<y;g+=1)c=E.charCodeAt(g),d+=k.charAt(c>>>4&15)+k.charAt(c&15);return d}function x(E){var u,k=E.length*32,d="";for(u=0;u<k;u+=8)d+=String.fromCharCode(E[u>>5]>>>24-u%32&255);return d}function M(E){var u,k=E.length*32,d="";for(u=0;u<k;u+=8)d+=String.fromCharCode(E[u>>5]>>>u%32&255);return d}function S(E){var u,k=E.length*8,d=Array(E.length>>2),c=d.length;for(u=0;u<c;u+=1)d[u]=0;for(u=0;u<k;u+=8)d[u>>5]|=(E.charCodeAt(u/8)&255)<<u%32;return d}function A(E){var u,k=E.length*8,d=Array(E.length>>2),c=d.length;for(u=0;u<c;u+=1)d[u]=0;for(u=0;u<k;u+=8)d[u>>5]|=(E.charCodeAt(u/8)&255)<<24-u%32;return d}function T(E,u){var k=u.length,d=Array(),c,g,y,m,U,K,J,re;for(K=Array(Math.ceil(E.length/2)),m=K.length,c=0;c<m;c+=1)K[c]=E.charCodeAt(c*2)<<8|E.charCodeAt(c*2+1);for(;K.length>0;){for(U=Array(),y=0,c=0;c<K.length;c+=1)y=(y<<16)+K[c],g=Math.floor(y/k),y-=g*k,(U.length>0||g>0)&&(U[U.length]=g);d[d.length]=y,K=U}for(J="",c=d.length-1;c>=0;c--)J+=u.charAt(d[c]);for(re=Math.ceil(E.length*8/(Math.log(u.length)/Math.log(2))),c=J.length;c<re;c+=1)J=u[0]+J;return J}function R(E,u){var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="",c=E.length,g,y,m;for(u=u||"=",g=0;g<c;g+=3)for(m=E.charCodeAt(g)<<16|(g+1<c?E.charCodeAt(g+1)<<8:0)|(g+2<c?E.charCodeAt(g+2):0),y=0;y<4;y+=1)g*8+y*6>E.length*8?d+=u:d+=k.charAt(m>>>6*(3-y)&63);return d}O={VERSION:"1.0.6",Base64:function(){var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="=",k=!0;this.encode=function(d){var c,g,y,m="",U=d.length;for(u=u||"=",d=k?p(d):d,c=0;c<U;c+=3)for(y=d.charCodeAt(c)<<16|(c+1<U?d.charCodeAt(c+1)<<8:0)|(c+2<U?d.charCodeAt(c+2):0),g=0;g<4;g+=1)c*8+g*6>U*8?m+=u:m+=E.charAt(y>>>6*(3-g)&63);return m},this.decode=function(d){var c,g,y,m,U,K,J,re,C,G,N="",V=[];if(!d)return d;c=G=0,d=d.replace(new RegExp("\\"+u,"gi"),"");do U=E.indexOf(d.charAt(c+=1)),K=E.indexOf(d.charAt(c+=1)),J=E.indexOf(d.charAt(c+=1)),re=E.indexOf(d.charAt(c+=1)),C=U<<18|K<<12|J<<6|re,g=C>>16&255,y=C>>8&255,m=C&255,G+=1,J===64?V[G]=String.fromCharCode(g):re===64?V[G]=String.fromCharCode(g,y):V[G]=String.fromCharCode(g,y,m);while(c<d.length);return N=V.join(""),N=k?z(N):N,N},this.setPad=function(d){return u=d||u,this},this.setTab=function(d){return E=d||E,this},this.setUTF8=function(d){return typeof d=="boolean"&&(k=d),this}},CRC32:function(E){var u=0,k=0,d=0,c,g,y;for(E=p(E),c=["00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 ","79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 ","84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F ","63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD ","A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC ","51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 ","B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 ","06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 ","E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 ","12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 ","D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 ","33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 ","CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 ","9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E ","7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D ","806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 ","60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA ","AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 ","5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 ","B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 ","05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 ","F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA ","11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 ","D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F ","30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E ","C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D"].join(""),u=u^-1,g=0,y=E.length;g<y;g+=1)d=(u^E.charCodeAt(g))&255,k="0x"+c.substr(d*9,8),u=u>>>8^k;return(u^-1)>>>0},MD5:function(E){var u=E&&typeof E.uppercase=="boolean"?E.uppercase:!1,k=E&&typeof E.pad=="string"?E.pad:"=",d=E&&typeof E.utf8=="boolean"?E.utf8:!0;this.hex=function(C){return b(c(C),u)},this.b64=function(C){return R(c(C),k)},this.any=function(C,G){return T(c(C),G)},this.raw=function(C){return c(C)},this.hex_hmac=function(C,G){return b(g(C,G),u)},this.b64_hmac=function(C,G){return R(g(C,G),k)},this.any_hmac=function(C,G,N){return T(g(C,G),N)},this.vm_test=function(){return hex("abc").toLowerCase()==="900150983cd24fb0d6963f7d28e17f72"},this.setUpperCase=function(C){return typeof C=="boolean"&&(u=C),this},this.setPad=function(C){return k=C||k,this},this.setUTF8=function(C){return typeof C=="boolean"&&(d=C),this};function c(C){return C=d?p(C):C,M(y(S(C),C.length*8))}function g(C,G){var N,V,ne,oe,ve;for(C=d?p(C):C,G=d?p(G):G,N=S(C),N.length>16&&(N=y(N,C.length*8)),V=Array(16),ne=Array(16),ve=0;ve<16;ve+=1)V[ve]=N[ve]^909522486,ne[ve]=N[ve]^1549556828;return oe=y(V.concat(S(G)),512+G.length*8),M(y(ne.concat(oe),512+128))}function y(C,G){var N,V,ne,oe,ve,de=1732584193,fe=-271733879,ye=-1732584194,e=271733878;for(C[G>>5]|=128<<G%32,C[(G+64>>>9<<4)+14]=G,N=0;N<C.length;N+=16)V=de,ne=fe,oe=ye,ve=e,de=U(de,fe,ye,e,C[N+0],7,-680876936),e=U(e,de,fe,ye,C[N+1],12,-389564586),ye=U(ye,e,de,fe,C[N+2],17,606105819),fe=U(fe,ye,e,de,C[N+3],22,-1044525330),de=U(de,fe,ye,e,C[N+4],7,-176418897),e=U(e,de,fe,ye,C[N+5],12,1200080426),ye=U(ye,e,de,fe,C[N+6],17,-1473231341),fe=U(fe,ye,e,de,C[N+7],22,-45705983),de=U(de,fe,ye,e,C[N+8],7,1770035416),e=U(e,de,fe,ye,C[N+9],12,-1958414417),ye=U(ye,e,de,fe,C[N+10],17,-42063),fe=U(fe,ye,e,de,C[N+11],22,-1990404162),de=U(de,fe,ye,e,C[N+12],7,1804603682),e=U(e,de,fe,ye,C[N+13],12,-40341101),ye=U(ye,e,de,fe,C[N+14],17,-1502002290),fe=U(fe,ye,e,de,C[N+15],22,1236535329),de=K(de,fe,ye,e,C[N+1],5,-165796510),e=K(e,de,fe,ye,C[N+6],9,-1069501632),ye=K(ye,e,de,fe,C[N+11],14,643717713),fe=K(fe,ye,e,de,C[N+0],20,-373897302),de=K(de,fe,ye,e,C[N+5],5,-701558691),e=K(e,de,fe,ye,C[N+10],9,38016083),ye=K(ye,e,de,fe,C[N+15],14,-660478335),fe=K(fe,ye,e,de,C[N+4],20,-405537848),de=K(de,fe,ye,e,C[N+9],5,568446438),e=K(e,de,fe,ye,C[N+14],9,-1019803690),ye=K(ye,e,de,fe,C[N+3],14,-187363961),fe=K(fe,ye,e,de,C[N+8],20,1163531501),de=K(de,fe,ye,e,C[N+13],5,-1444681467),e=K(e,de,fe,ye,C[N+2],9,-51403784),ye=K(ye,e,de,fe,C[N+7],14,1735328473),fe=K(fe,ye,e,de,C[N+12],20,-1926607734),de=J(de,fe,ye,e,C[N+5],4,-378558),e=J(e,de,fe,ye,C[N+8],11,-2022574463),ye=J(ye,e,de,fe,C[N+11],16,1839030562),fe=J(fe,ye,e,de,C[N+14],23,-35309556),de=J(de,fe,ye,e,C[N+1],4,-1530992060),e=J(e,de,fe,ye,C[N+4],11,1272893353),ye=J(ye,e,de,fe,C[N+7],16,-155497632),fe=J(fe,ye,e,de,C[N+10],23,-1094730640),de=J(de,fe,ye,e,C[N+13],4,681279174),e=J(e,de,fe,ye,C[N+0],11,-358537222),ye=J(ye,e,de,fe,C[N+3],16,-722521979),fe=J(fe,ye,e,de,C[N+6],23,76029189),de=J(de,fe,ye,e,C[N+9],4,-640364487),e=J(e,de,fe,ye,C[N+12],11,-421815835),ye=J(ye,e,de,fe,C[N+15],16,530742520),fe=J(fe,ye,e,de,C[N+2],23,-995338651),de=re(de,fe,ye,e,C[N+0],6,-198630844),e=re(e,de,fe,ye,C[N+7],10,1126891415),ye=re(ye,e,de,fe,C[N+14],15,-1416354905),fe=re(fe,ye,e,de,C[N+5],21,-57434055),de=re(de,fe,ye,e,C[N+12],6,1700485571),e=re(e,de,fe,ye,C[N+3],10,-1894986606),ye=re(ye,e,de,fe,C[N+10],15,-1051523),fe=re(fe,ye,e,de,C[N+1],21,-2054922799),de=re(de,fe,ye,e,C[N+8],6,1873313359),e=re(e,de,fe,ye,C[N+15],10,-30611744),ye=re(ye,e,de,fe,C[N+6],15,-1560198380),fe=re(fe,ye,e,de,C[N+13],21,1309151649),de=re(de,fe,ye,e,C[N+4],6,-145523070),e=re(e,de,fe,ye,C[N+11],10,-1120210379),ye=re(ye,e,de,fe,C[N+2],15,718787259),fe=re(fe,ye,e,de,C[N+9],21,-343485551),de=a(de,V),fe=a(fe,ne),ye=a(ye,oe),e=a(e,ve);return Array(de,fe,ye,e)}function m(C,G,N,V,ne,oe){return a(H(a(a(G,C),a(V,oe)),ne),N)}function U(C,G,N,V,ne,oe,ve){return m(G&N|~G&V,C,G,ne,oe,ve)}function K(C,G,N,V,ne,oe,ve){return m(G&V|N&~V,C,G,ne,oe,ve)}function J(C,G,N,V,ne,oe,ve){return m(G^N^V,C,G,ne,oe,ve)}function re(C,G,N,V,ne,oe,ve){return m(N^(G|~V),C,G,ne,oe,ve)}},SHA1:function(E){var u=E&&typeof E.uppercase=="boolean"?E.uppercase:!1,k=E&&typeof E.pad=="string"?E.pad:"=",d=E&&typeof E.utf8=="boolean"?E.utf8:!0;this.hex=function(K){return b(c(K),u)},this.b64=function(K){return R(c(K),k)},this.any=function(K,J){return T(c(K),J)},this.raw=function(K){return c(K)},this.hex_hmac=function(K,J){return b(g(K,J))},this.b64_hmac=function(K,J){return R(g(K,J),k)},this.any_hmac=function(K,J,re){return T(g(K,J),re)},this.vm_test=function(){return hex("abc").toLowerCase()==="900150983cd24fb0d6963f7d28e17f72"},this.setUpperCase=function(K){return typeof K=="boolean"&&(u=K),this},this.setPad=function(K){return k=K||k,this},this.setUTF8=function(K){return typeof K=="boolean"&&(d=K),this};function c(K){return K=d?p(K):K,x(y(A(K),K.length*8))}function g(K,J){var re,C,G,N,V;for(K=d?p(K):K,J=d?p(J):J,re=A(K),re.length>16&&(re=y(re,K.length*8)),C=Array(16),G=Array(16),N=0;N<16;N+=1)C[N]=re[N]^909522486,G[N]=re[N]^1549556828;return V=y(C.concat(A(J)),512+J.length*8),x(y(G.concat(V),512+160))}function y(K,J){var re,C,G,N,V,ne,oe,ve,de=Array(80),fe=1732584193,ye=-271733879,e=-1732584194,n=271733878,r=-1009589776;for(K[J>>5]|=128<<24-J%32,K[(J+64>>9<<4)+15]=J,re=0;re<K.length;re+=16){for(N=fe,V=ye,ne=e,oe=n,ve=r,C=0;C<80;C+=1)C<16?de[C]=K[re+C]:de[C]=H(de[C-3]^de[C-8]^de[C-14]^de[C-16],1),G=a(a(H(fe,5),m(C,ye,e,n)),a(a(r,de[C]),U(C))),r=n,n=e,e=H(ye,30),ye=fe,fe=G;fe=a(fe,N),ye=a(ye,V),e=a(e,ne),n=a(n,oe),r=a(r,ve)}return Array(fe,ye,e,n,r)}function m(K,J,re,C){return K<20?J&re|~J&C:K<40?J^re^C:K<60?J&re|J&C|re&C:J^re^C}function U(K){return K<20?1518500249:K<40?1859775393:K<60?-1894007588:-899497514}},SHA256:function(E){E&&typeof E.uppercase=="boolean"&&E.uppercase;var u=E&&typeof E.pad=="string"?E.pad:"=",k=E&&typeof E.utf8=="boolean"?E.utf8:!0,d;this.hex=function(V){return b(c(V,k))},this.b64=function(V){return R(c(V,k),u)},this.any=function(V,ne){return T(c(V,k),ne)},this.raw=function(V){return c(V,k)},this.hex_hmac=function(V,ne){return b(g(V,ne))},this.b64_hmac=function(V,ne){return R(g(V,ne),u)},this.any_hmac=function(V,ne,oe){return T(g(V,ne),oe)},this.vm_test=function(){return hex("abc").toLowerCase()==="900150983cd24fb0d6963f7d28e17f72"},this.setUpperCase=function(V){return this},this.setPad=function(V){return u=V||u,this},this.setUTF8=function(V){return typeof V=="boolean"&&(k=V),this};function c(V,ne){return V=ne?p(V):V,x(N(A(V),V.length*8))}function g(V,ne){V=k?p(V):V,ne=k?p(ne):ne;var oe,ve=0,de=A(V),fe=Array(16),ye=Array(16);for(de.length>16&&(de=N(de,V.length*8));ve<16;ve+=1)fe[ve]=de[ve]^909522486,ye[ve]=de[ve]^1549556828;return oe=N(fe.concat(A(ne)),512+ne.length*8),x(N(ye.concat(oe),512+256))}function y(V,ne){return V>>>ne|V<<32-ne}function m(V,ne){return V>>>ne}function U(V,ne,oe){return V&ne^~V&oe}function K(V,ne,oe){return V&ne^V&oe^ne&oe}function J(V){return y(V,2)^y(V,13)^y(V,22)}function re(V){return y(V,6)^y(V,11)^y(V,25)}function C(V){return y(V,7)^y(V,18)^m(V,3)}function G(V){return y(V,17)^y(V,19)^m(V,10)}d=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];function N(V,ne){var oe=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],ve=new Array(64),de,fe,ye,e,n,r,s,l,h,v,D,F;for(V[ne>>5]|=128<<24-ne%32,V[(ne+64>>9<<4)+15]=ne,h=0;h<V.length;h+=16){for(de=oe[0],fe=oe[1],ye=oe[2],e=oe[3],n=oe[4],r=oe[5],s=oe[6],l=oe[7],v=0;v<64;v+=1)v<16?ve[v]=V[v+h]:ve[v]=a(a(a(G(ve[v-2]),ve[v-7]),C(ve[v-15])),ve[v-16]),D=a(a(a(a(l,re(n)),U(n,r,s)),d[v]),ve[v]),F=a(J(de),K(de,fe,ye)),l=s,s=r,r=n,n=a(e,D),e=ye,ye=fe,fe=de,de=a(D,F);oe[0]=a(de,oe[0]),oe[1]=a(fe,oe[1]),oe[2]=a(ye,oe[2]),oe[3]=a(e,oe[3]),oe[4]=a(n,oe[4]),oe[5]=a(r,oe[5]),oe[6]=a(s,oe[6]),oe[7]=a(l,oe[7])}return oe}},SHA512:function(E){E&&typeof E.uppercase=="boolean"&&E.uppercase;var u=E&&typeof E.pad=="string"?E.pad:"=",k=E&&typeof E.utf8=="boolean"?E.utf8:!0,d;this.hex=function(V){return b(c(V))},this.b64=function(V){return R(c(V),u)},this.any=function(V,ne){return T(c(V),ne)},this.raw=function(V){return c(V)},this.hex_hmac=function(V,ne){return b(g(V,ne))},this.b64_hmac=function(V,ne){return R(g(V,ne),u)},this.any_hmac=function(V,ne,oe){return T(g(V,ne),oe)},this.vm_test=function(){return hex("abc").toLowerCase()==="900150983cd24fb0d6963f7d28e17f72"},this.setUpperCase=function(V){return this},this.setPad=function(V){return u=V||u,this},this.setUTF8=function(V){return typeof V=="boolean"&&(k=V),this};function c(V){return V=k?p(V):V,x(y(A(V),V.length*8))}function g(V,ne){V=k?p(V):V,ne=k?p(ne):ne;var oe,ve=0,de=A(V),fe=Array(32),ye=Array(32);for(de.length>32&&(de=y(de,V.length*8));ve<32;ve+=1)fe[ve]=de[ve]^909522486,ye[ve]=de[ve]^1549556828;return oe=y(fe.concat(A(ne)),1024+ne.length*8),x(y(ye.concat(oe),1024+512))}function y(V,ne){var oe,ve,de,fe=new Array(80),ye=new Array(16),e=[new m(1779033703,-205731576),new m(-1150833019,-2067093701),new m(1013904242,-23791573),new m(-1521486534,1595750129),new m(1359893119,-1377402159),new m(-1694144372,725511199),new m(528734635,-79577749),new m(1541459225,327033209)],n=new m(0,0),r=new m(0,0),s=new m(0,0),l=new m(0,0),h=new m(0,0),v=new m(0,0),D=new m(0,0),F=new m(0,0),Z=new m(0,0),ae=new m(0,0),ge=new m(0,0),Q=new m(0,0),ie=new m(0,0),le=new m(0,0),ce=new m(0,0),ke=new m(0,0),Pe=new m(0,0);for(d===void 0&&(d=[new m(1116352408,-685199838),new m(1899447441,602891725),new m(-1245643825,-330482897),new m(-373957723,-2121671748),new m(961987163,-213338824),new m(1508970993,-1241133031),new m(-1841331548,-1357295717),new m(-1424204075,-630357736),new m(-670586216,-1560083902),new m(310598401,1164996542),new m(607225278,1323610764),new m(1426881987,-704662302),new m(1925078388,-226784913),new m(-2132889090,991336113),new m(-1680079193,633803317),new m(-1046744716,-815192428),new m(-459576895,-1628353838),new m(-272742522,944711139),new m(264347078,-1953704523),new m(604807628,2007800933),new m(770255983,1495990901),new m(1249150122,1856431235),new m(1555081692,-1119749164),new m(1996064986,-2096016459),new m(-1740746414,-295247957),new m(-1473132947,766784016),new m(-1341970488,-1728372417),new m(-1084653625,-1091629340),new m(-958395405,1034457026),new m(-710438585,-1828018395),new m(113926993,-536640913),new m(338241895,168717936),new m(666307205,1188179964),new m(773529912,1546045734),new m(1294757372,1522805485),new m(1396182291,-1651133473),new m(1695183700,-1951439906),new m(1986661051,1014477480),new m(-2117940946,1206759142),new m(-1838011259,344077627),new m(-1564481375,1290863460),new m(-1474664885,-1136513023),new m(-1035236496,-789014639),new m(-949202525,106217008),new m(-778901479,-688958952),new m(-694614492,1432725776),new m(-200395387,1467031594),new m(275423344,851169720),new m(430227734,-1194143544),new m(506948616,1363258195),new m(659060556,-544281703),new m(883997877,-509917016),new m(958139571,-976659869),new m(1322822218,-482243893),new m(1537002063,2003034995),new m(1747873779,-692930397),new m(1955562222,1575990012),new m(2024104815,1125592928),new m(-2067236844,-1578062990),new m(-1933114872,442776044),new m(-1866530822,593698344),new m(-1538233109,-561857047),new m(-1090935817,-1295615723),new m(-965641998,-479046869),new m(-903397682,-366583396),new m(-779700025,566280711),new m(-354779690,-840897762),new m(-176337025,-294727304),new m(116418474,1914138554),new m(174292421,-1563912026),new m(289380356,-1090974290),new m(460393269,320620315),new m(685471733,587496836),new m(852142971,1086792851),new m(1017036298,365543100),new m(1126000580,-1676669620),new m(1288033470,-885112138),new m(1501505948,-60457430),new m(1607167915,987167468),new m(1816402316,1246189591)]),ve=0;ve<80;ve+=1)fe[ve]=new m(0,0);for(V[ne>>5]|=128<<24-(ne&31),V[(ne+128>>10<<5)+31]=ne,de=V.length,ve=0;ve<de;ve+=32){for(U(s,e[0]),U(l,e[1]),U(h,e[2]),U(v,e[3]),U(D,e[4]),U(F,e[5]),U(Z,e[6]),U(ae,e[7]),oe=0;oe<16;oe+=1)fe[oe].h=V[ve+2*oe],fe[oe].l=V[ve+2*oe+1];for(oe=16;oe<80;oe+=1)K(ce,fe[oe-2],19),J(ke,fe[oe-2],29),re(Pe,fe[oe-2],6),Q.l=ce.l^ke.l^Pe.l,Q.h=ce.h^ke.h^Pe.h,K(ce,fe[oe-15],1),K(ke,fe[oe-15],8),re(Pe,fe[oe-15],7),ge.l=ce.l^ke.l^Pe.l,ge.h=ce.h^ke.h^Pe.h,G(fe[oe],Q,fe[oe-7],ge,fe[oe-16]);for(oe=0;oe<80;oe+=1)ie.l=D.l&F.l^~D.l&Z.l,ie.h=D.h&F.h^~D.h&Z.h,K(ce,D,14),K(ke,D,18),J(Pe,D,9),Q.l=ce.l^ke.l^Pe.l,Q.h=ce.h^ke.h^Pe.h,K(ce,s,28),J(ke,s,2),J(Pe,s,7),ge.l=ce.l^ke.l^Pe.l,ge.h=ce.h^ke.h^Pe.h,le.l=s.l&l.l^s.l&h.l^l.l&h.l,le.h=s.h&l.h^s.h&h.h^l.h&h.h,N(n,ae,Q,ie,d[oe],fe[oe]),C(r,ge,le),U(ae,Z),U(Z,F),U(F,D),C(D,v,n),U(v,h),U(h,l),U(l,s),C(s,n,r);C(e[0],e[0],s),C(e[1],e[1],l),C(e[2],e[2],h),C(e[3],e[3],v),C(e[4],e[4],D),C(e[5],e[5],F),C(e[6],e[6],Z),C(e[7],e[7],ae)}for(ve=0;ve<8;ve+=1)ye[2*ve]=e[ve].h,ye[2*ve+1]=e[ve].l;return ye}function m(V,ne){this.h=V,this.l=ne}function U(V,ne){V.h=ne.h,V.l=ne.l}function K(V,ne,oe){V.l=ne.l>>>oe|ne.h<<32-oe,V.h=ne.h>>>oe|ne.l<<32-oe}function J(V,ne,oe){V.l=ne.h>>>oe|ne.l<<32-oe,V.h=ne.l>>>oe|ne.h<<32-oe}function re(V,ne,oe){V.l=ne.l>>>oe|ne.h<<32-oe,V.h=ne.h>>>oe}function C(V,ne,oe){var ve=(ne.l&65535)+(oe.l&65535),de=(ne.l>>>16)+(oe.l>>>16)+(ve>>>16),fe=(ne.h&65535)+(oe.h&65535)+(de>>>16),ye=(ne.h>>>16)+(oe.h>>>16)+(fe>>>16);V.l=ve&65535|de<<16,V.h=fe&65535|ye<<16}function G(V,ne,oe,ve,de){var fe=(ne.l&65535)+(oe.l&65535)+(ve.l&65535)+(de.l&65535),ye=(ne.l>>>16)+(oe.l>>>16)+(ve.l>>>16)+(de.l>>>16)+(fe>>>16),e=(ne.h&65535)+(oe.h&65535)+(ve.h&65535)+(de.h&65535)+(ye>>>16),n=(ne.h>>>16)+(oe.h>>>16)+(ve.h>>>16)+(de.h>>>16)+(e>>>16);V.l=fe&65535|ye<<16,V.h=e&65535|n<<16}function N(V,ne,oe,ve,de,fe){var ye=(ne.l&65535)+(oe.l&65535)+(ve.l&65535)+(de.l&65535)+(fe.l&65535),e=(ne.l>>>16)+(oe.l>>>16)+(ve.l>>>16)+(de.l>>>16)+(fe.l>>>16)+(ye>>>16),n=(ne.h&65535)+(oe.h&65535)+(ve.h&65535)+(de.h&65535)+(fe.h&65535)+(e>>>16),r=(ne.h>>>16)+(oe.h>>>16)+(ve.h>>>16)+(de.h>>>16)+(fe.h>>>16)+(n>>>16);V.l=ye&65535|e<<16,V.h=n&65535|r<<16}},RMD160:function(E){E&&typeof E.uppercase=="boolean"&&E.uppercase;var u=E&&typeof E.pad=="string"?E.pa:"=",k=E&&typeof E.utf8=="boolean"?E.utf8:!0,d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];this.hex=function(N){return b(m(N))},this.b64=function(N){return R(m(N),u)},this.any=function(N,V){return T(m(N),V)},this.raw=function(N){return m(N)},this.hex_hmac=function(N,V){return b(U(N,V))},this.b64_hmac=function(N,V){return R(U(N,V),u)},this.any_hmac=function(N,V,ne){return T(U(N,V),ne)},this.vm_test=function(){return hex("abc").toLowerCase()==="900150983cd24fb0d6963f7d28e17f72"},this.setUpperCase=function(N){return this},this.setPad=function(N){return typeof N<"u"&&(u=N),this},this.setUTF8=function(N){return typeof N=="boolean"&&(k=N),this};function m(N){return N=k?p(N):N,K(J(S(N),N.length*8))}function U(N,V){N=k?p(N):N,V=k?p(V):V;var ne,oe,ve=S(N),de=Array(16),fe=Array(16);for(ve.length>16&&(ve=J(ve,N.length*8)),ne=0;ne<16;ne+=1)de[ne]=ve[ne]^909522486,fe[ne]=ve[ne]^1549556828;return oe=J(de.concat(S(V)),512+V.length*8),K(J(fe.concat(oe),512+160))}function K(N){var V,ne="",oe=N.length*32;for(V=0;V<oe;V+=8)ne+=String.fromCharCode(N[V>>5]>>>V%32&255);return ne}function J(N,V){var ne,oe,ve,de,fe=1732584193,ye=4023233417,e=2562383102,n=271733878,r=3285377520,s,l,h,v,D,F,Z,ae,ge,Q;for(N[V>>5]|=128<<V%32,N[(V+64>>>9<<4)+14]=V,de=N.length,ve=0;ve<de;ve+=16){for(s=F=fe,l=Z=ye,h=ae=e,v=ge=n,D=Q=r,oe=0;oe<=79;oe+=1)ne=a(s,re(oe,l,h,v)),ne=a(ne,N[ve+d[oe]]),ne=a(ne,C(oe)),ne=a(H(ne,g[oe]),D),s=D,D=v,v=H(h,10),h=l,l=ne,ne=a(F,re(79-oe,Z,ae,ge)),ne=a(ne,N[ve+c[oe]]),ne=a(ne,G(oe)),ne=a(H(ne,y[oe]),Q),F=Q,Q=ge,ge=H(ae,10),ae=Z,Z=ne;ne=a(ye,a(h,ge)),ye=a(e,a(v,Q)),e=a(n,a(D,F)),n=a(r,a(s,Z)),r=a(fe,a(l,ae)),fe=ne}return[fe,ye,e,n,r]}function re(N,V,ne,oe){return 0<=N&&N<=15?V^ne^oe:16<=N&&N<=31?V&ne|~V&oe:32<=N&&N<=47?(V|~ne)^oe:48<=N&&N<=63?V&oe|ne&~oe:64<=N&&N<=79?V^(ne|~oe):"rmd160_f: j out of range"}function C(N){return 0<=N&&N<=15?0:16<=N&&N<=31?1518500249:32<=N&&N<=47?1859775393:48<=N&&N<=63?2400959708:64<=N&&N<=79?2840853838:"rmd160_K1: j out of range"}function G(N){return 0<=N&&N<=15?1352829926:16<=N&&N<=31?1548603684:32<=N&&N<=47?1836072691:48<=N&&N<=63?2053994217:64<=N&&N<=79?0:"rmd160_K2: j out of range"}}},function(E,u){var k=!1;k=B,B&&typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal===commonjsGlobal.global&&(E=commonjsGlobal),typeof u=="function"&&typeof u.amd=="object"&&u.amd?u(function(){return O}):k?t&&t.exports===k?t.exports=O:k.Hashes=O:E.Hashes=O}(this)})()})(hashes$1,hashes$1.exports);var hashes=hashes$1.exports;new hashes.SHA1;var resolveUrl={exports:{}};(function(t,B){(function(O,p){t.exports=p()})(commonjsGlobal,function(){function O(){var p=arguments.length;if(p===0)throw new Error("resolveUrl requires at least one argument; got none.");var z=document.createElement("base");if(z.href=arguments[0],p===1)return z.href;var a=document.getElementsByTagName("head")[0];a.insertBefore(z,a.firstChild);for(var H=document.createElement("a"),b,x=1;x<p;x++)H.href=arguments[x],b=H.href,z.href=b;return a.removeChild(z),b}return O})})(resolveUrl);var assign=make_assign(),create$1=make_create(),trim$1=make_trim(),Global$5=typeof window<"u"?window:commonjsGlobal,util$6={assign,create:create$1,trim:trim$1,bind:bind$1,slice:slice$1,each:each$7,map,pluck:pluck$1,isList:isList$1,isFunction:isFunction$1,isObject:isObject$1,Global:Global$5};function make_assign(){return Object.assign?Object.assign:function(B,O,p,z){for(var a=1;a<arguments.length;a++)each$7(Object(arguments[a]),function(H,b){B[b]=H});return B}}function make_create(){if(Object.create)return function(B,O,p,z){var a=slice$1(arguments,1);return assign.apply(this,[Object.create(B)].concat(a))};{let t=function(){};return function(O,p,z,a){var H=slice$1(arguments,1);return t.prototype=O,assign.apply(this,[new t].concat(H))}}}function make_trim(){return String.prototype.trim?function(B){return String.prototype.trim.call(B)}:function(B){return B.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function bind$1(t,B){return function(){return B.apply(t,Array.prototype.slice.call(arguments,0))}}function slice$1(t,B){return Array.prototype.slice.call(t,B||0)}function each$7(t,B){pluck$1(t,function(O,p){return B(O,p),!1})}function map(t,B){var O=isList$1(t)?[]:{};return pluck$1(t,function(p,z){return O[z]=B(p,z),!1}),O}function pluck$1(t,B){if(isList$1(t)){for(var O=0;O<t.length;O++)if(B(t[O],O))return t[O]}else for(var p in t)if(t.hasOwnProperty(p)&&B(t[p],p))return t[p]}function isList$1(t){return t!=null&&typeof t!="function"&&typeof t.length=="number"}function isFunction$1(t){return t&&{}.toString.call(t)==="[object Function]"}function isObject$1(t){return t&&{}.toString.call(t)==="[object Object]"}var util$5=util$6,slice=util$5.slice,pluck=util$5.pluck,each$6=util$5.each,bind=util$5.bind,create=util$5.create,isList=util$5.isList,isFunction=util$5.isFunction,isObject=util$5.isObject,storeEngine={createStore},storeAPI={version:"2.0.12",enabled:!1,get:function(t,B){var O=this.storage.read(this._namespacePrefix+t);return this._deserialize(O,B)},set:function(t,B){return B===void 0?this.remove(t):(this.storage.write(this._namespacePrefix+t,this._serialize(B)),B)},remove:function(t){this.storage.remove(this._namespacePrefix+t)},each:function(t){var B=this;this.storage.each(function(O,p){t.call(B,B._deserialize(O),(p||"").replace(B._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},createStore:function(){return createStore.apply(this,arguments)},addPlugin:function(t){this._addPlugin(t)},namespace:function(t){return createStore(this.storage,this.plugins,t)}};function _warn(){var t=typeof console>"u"?null:console;if(!!t){var B=t.warn?t.warn:t.log;B.apply(t,arguments)}}function createStore(t,B,O){O||(O=""),t&&!isList(t)&&(t=[t]),B&&!isList(B)&&(B=[B]);var p=O?"__storejs_"+O+"_":"",z=O?new RegExp("^"+p):null,a=/^[a-zA-Z0-9_\-]*$/;if(!a.test(O))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var H={_namespacePrefix:p,_namespaceRegexp:z,_testStorage:function(x){try{var M="__storejs__test__";x.write(M,M);var S=x.read(M)===M;return x.remove(M),S}catch{return!1}},_assignPluginFnProp:function(x,M){var S=this[M];this[M]=function(){var T=slice(arguments,0),R=this;function E(){if(!!S)return each$6(arguments,function(k,d){T[d]=k}),S.apply(R,T)}var u=[E].concat(T);return x.apply(R,u)}},_serialize:function(x){return JSON.stringify(x)},_deserialize:function(x,M){if(!x)return M;var S="";try{S=JSON.parse(x)}catch{S=x}return S!==void 0?S:M},_addStorage:function(x){this.enabled||this._testStorage(x)&&(this.storage=x,this.enabled=!0)},_addPlugin:function(x){var M=this;if(isList(x)){each$6(x,function(T){M._addPlugin(T)});return}var S=pluck(this.plugins,function(T){return x===T});if(!S){if(this.plugins.push(x),!isFunction(x))throw new Error("Plugins must be function values that return objects");var A=x.call(this);if(!isObject(A))throw new Error("Plugins must return an object of function properties");each$6(A,function(T,R){if(!isFunction(T))throw new Error("Bad plugin property: "+R+" from plugin "+x.name+". Plugins should only return functions.");M._assignPluginFnProp(T,R)})}},addStorage:function(x){_warn("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(x)}},b=create(H,storeAPI,{plugins:[]});return b.raw={},each$6(b,function(x,M){isFunction(x)&&(b.raw[M]=bind(b,x))}),each$6(t,function(x){b._addStorage(x)}),each$6(B,function(x){b._addPlugin(x)}),b}var util$4=util$6,Global$4=util$4.Global,localStorage_1={name:"localStorage",read:read$5,write:write$5,each:each$5,remove:remove$5,clearAll:clearAll$5};function localStorage$1(){return Global$4.localStorage}function read$5(t){return localStorage$1().getItem(t)}function write$5(t,B){return localStorage$1().setItem(t,B)}function each$5(t){for(var B=localStorage$1().length-1;B>=0;B--){var O=localStorage$1().key(B);t(read$5(O),O)}}function remove$5(t){return localStorage$1().removeItem(t)}function clearAll$5(){return localStorage$1().clear()}var util$3=util$6,Global$3=util$3.Global,oldFFGlobalStorage={name:"oldFF-globalStorage",read:read$4,write:write$4,each:each$4,remove:remove$4,clearAll:clearAll$4},globalStorage=Global$3.globalStorage;function read$4(t){return globalStorage[t]}function write$4(t,B){globalStorage[t]=B}function each$4(t){for(var B=globalStorage.length-1;B>=0;B--){var O=globalStorage.key(B);t(globalStorage[O],O)}}function remove$4(t){return globalStorage.removeItem(t)}function clearAll$4(){each$4(function(t,B){delete globalStorage[t]})}var util$2=util$6,Global$2=util$2.Global,oldIEUserDataStorage={name:"oldIE-userDataStorage",write:write$3,read:read$3,each:each$3,remove:remove$3,clearAll:clearAll$3},storageName="storejs",doc$1=Global$2.document,_withStorageEl=_makeIEStorageElFunction(),disable=(Global$2.navigator?Global$2.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);function write$3(t,B){if(!disable){var O=fixKey(t);_withStorageEl(function(p){p.setAttribute(O,B),p.save(storageName)})}}function read$3(t){if(!disable){var B=fixKey(t),O=null;return _withStorageEl(function(p){O=p.getAttribute(B)}),O}}function each$3(t){_withStorageEl(function(B){for(var O=B.XMLDocument.documentElement.attributes,p=O.length-1;p>=0;p--){var z=O[p];t(B.getAttribute(z.name),z.name)}})}function remove$3(t){var B=fixKey(t);_withStorageEl(function(O){O.removeAttribute(B),O.save(storageName)})}function clearAll$3(){_withStorageEl(function(t){var B=t.XMLDocument.documentElement.attributes;t.load(storageName);for(var O=B.length-1;O>=0;O--)t.removeAttribute(B[O].name);t.save(storageName)})}var forbiddenCharsRegex=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function fixKey(t){return t.replace(/^\d/,"___$&").replace(forbiddenCharsRegex,"___")}function _makeIEStorageElFunction(){if(!doc$1||!doc$1.documentElement||!doc$1.documentElement.addBehavior)return null;var t="script",B,O,p;try{O=new ActiveXObject("htmlfile"),O.open(),O.write("<"+t+">document.w=window</"+t+'><iframe src="/favicon.ico"></iframe>'),O.close(),B=O.w.frames[0].document,p=B.createElement("div")}catch{p=doc$1.createElement("div"),B=doc$1.body}return function(z){var a=[].slice.call(arguments,0);a.unshift(p),B.appendChild(p),p.addBehavior("#default#userData"),p.load(storageName),z.apply(this,a),B.removeChild(p)}}var util$1=util$6,Global$1=util$1.Global,trim=util$1.trim,cookieStorage={name:"cookieStorage",read:read$2,write:write$2,each:each$2,remove:remove$2,clearAll:clearAll$2},doc=Global$1.document;function read$2(t){if(!t||!_has(t))return null;var B="(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(doc.cookie.replace(new RegExp(B),"$1"))}function each$2(t){for(var B=doc.cookie.split(/; ?/g),O=B.length-1;O>=0;O--)if(!!trim(B[O])){var p=B[O].split("="),z=unescape(p[0]),a=unescape(p[1]);t(a,z)}}function write$2(t,B){!t||(doc.cookie=escape(t)+"="+escape(B)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function remove$2(t){!t||!_has(t)||(doc.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function clearAll$2(){each$2(function(t,B){remove$2(B)})}function _has(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(doc.cookie)}var util=util$6,Global=util.Global,sessionStorage_1={name:"sessionStorage",read:read$1,write:write$1,each:each$1,remove:remove$1,clearAll:clearAll$1};function sessionStorage(){return Global.sessionStorage}function read$1(t){return sessionStorage().getItem(t)}function write$1(t,B){return sessionStorage().setItem(t,B)}function each$1(t){for(var B=sessionStorage().length-1;B>=0;B--){var O=sessionStorage().key(B);t(read$1(O),O)}}function remove$1(t){return sessionStorage().removeItem(t)}function clearAll$1(){return sessionStorage().clear()}var memoryStorage_1={name:"memoryStorage",read,write,each,remove,clearAll},memoryStorage={};function read(t){return memoryStorage[t]}function write(t,B){memoryStorage[t]=B}function each(t){for(var B in memoryStorage)memoryStorage.hasOwnProperty(B)&&t(memoryStorage[B],B)}function remove(t){delete memoryStorage[t]}function clearAll(t){memoryStorage={}}var all=[localStorage_1,oldFFGlobalStorage,oldIEUserDataStorage,cookieStorage,sessionStorage_1,memoryStorage_1],json2$1={},hasRequiredJson2;function requireJson2(){return hasRequiredJson2||(hasRequiredJson2=1,typeof JSON!="object"&&(JSON={}),function(){var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function f(t){return t<10?"0"+t:t}function this_value(){return this.valueOf()}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(B){var O=meta[B];return typeof O=="string"?O:"\\u"+("0000"+B.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,B){var O,p,z,a,H=gap,b,x=B[t];switch(x&&typeof x=="object"&&typeof x.toJSON=="function"&&(x=x.toJSON(t)),typeof rep=="function"&&(x=rep.call(B,t,x)),typeof x){case"string":return quote(x);case"number":return isFinite(x)?String(x):"null";case"boolean":case"null":return String(x);case"object":if(!x)return"null";if(gap+=indent,b=[],Object.prototype.toString.apply(x)==="[object Array]"){for(a=x.length,O=0;O<a;O+=1)b[O]=str(O,x)||"null";return z=b.length===0?"[]":gap?`[
`+gap+b.join(`,
`+gap)+`
`+H+"]":"["+b.join(",")+"]",gap=H,z}if(rep&&typeof rep=="object")for(a=rep.length,O=0;O<a;O+=1)typeof rep[O]=="string"&&(p=rep[O],z=str(p,x),z&&b.push(quote(p)+(gap?": ":":")+z));else for(p in x)Object.prototype.hasOwnProperty.call(x,p)&&(z=str(p,x),z&&b.push(quote(p)+(gap?": ":":")+z));return z=b.length===0?"{}":gap?`{
`+gap+b.join(`,
`+gap)+`
`+H+"}":"{"+b.join(",")+"}",gap=H,z}}typeof JSON.stringify!="function"&&(meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,B,O){var p;if(gap="",indent="",typeof O=="number")for(p=0;p<O;p+=1)indent+=" ";else typeof O=="string"&&(indent=O);if(rep=B,B&&typeof B!="function"&&(typeof B!="object"||typeof B.length!="number"))throw new Error("JSON.stringify");return str("",{"":t})}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){var j;function walk(t,B){var O,p,z=t[B];if(z&&typeof z=="object")for(O in z)Object.prototype.hasOwnProperty.call(z,O)&&(p=walk(z,O),p!==void 0?z[O]=p:delete z[O]);return reviver.call(t,B,z)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()),json2$1}var json2=json2Plugin;function json2Plugin(){return requireJson2(),{}}var engine=storeEngine,storages=all,plugins=[json2];engine.createStore(storages,plugins);var enabled=configs.osmAuth,auth;const sync={enabled,load:function(t){auth.authenticated()?loadQueries(t):auth.authenticate(function(B){if(B)return t(B);loadQueries(t)})},save:function(t,B){auth.authenticated()?saveQuery(t,B):auth.authenticate(function(O){if(O)return B(O);saveQuery(t,B)})},delete:function(t,B){if(!auth.authenticated())return B(new Error("must be logged in to delete a synced query"));t={name:t,deleteMe:!0},saveQuery(t,B)},logout:function(t){auth.authenticated()&&auth.logout()},authenticated:function(){return enabled}};function loadQueries(t){auth.xhr({method:"GET",path:"/api/0.6/user/preferences"},function(B,O){if(B)return t(B);var p=0,z;(z=O.querySelector('preference[k="'+configs.appname+'_query-count"]'))&&(p=+z.getAttribute("v"));for(var a=[],H=0;H<p;H++){var b=O.querySelector('preference[k="'+configs.appname+"_query_"+H+'_0"]');if(!!b){for(var x=b.getAttribute("v").split("&"),M=+x[0].slice(2),S=x[1].slice(2),A=x[2].slice(2),T=1;T<M;T++)A+=O.querySelector('preference[k="'+configs.appname+"_query_"+H+"_"+T+'"]').getAttribute("v");a.push({name:S,query:A})}}t(null,a,O)})}function saveQuery(t,B){loadQueries(function(O,p,z){if(O)return B(O);for(var a=z.querySelector("preferences"),H=a.querySelectorAll('preference[k^="'+configs.appname+'_query"]'),b=0;b<H.length;b++)a.removeChild(H[b]);var x=!0;p.forEach(function(E,u){E.name==t.name&&(E.query=t.query,x=u)}),x===!0?p.push(t):t.deleteMe&&p.splice(x,1);var M=z.createElement("preference");M.setAttribute("k",configs.appname+"_query-count"),M.setAttribute("v",p.length),a.appendChild(M);for(var b=0;b<p.length;b++){var S=p[b];if(S.name.length>200)return B(new Error("query name too long to be saved on osm.org"));var A=Math.ceil((S.query.length+S.name.length+8)/255);if(A>9)return B(new Error("query too long to be saved on osm.org"));var T="p="+A;T+="&n="+S.name,T+="&q="+S.query,T=T.match(/.{1,255}/g);for(var R=0;R<A;R++){var M=z.createElement("preference");M.setAttribute("k",configs.appname+"_query_"+b+"_"+R),M.setAttribute("v",T[R]),a.appendChild(M)}}auth.xhr({method:"PUT",path:"/api/0.6/user/preferences",options:{header:{"Content-Type":"text/xml"}},content:z.firstChild.outerHTML},function(E,u){if(E)return B(E);B(null,p)})})}var nominatim=Nominatim();function map2bbox(t){var B;ide.map.bboxfilter&&ide.map.bboxfilter.isEnabled()?B=ide.map.bboxfilter.getBounds():B=ide.map.getBounds();var O=Math.min(Math.max(B.getSouthWest().lat,-90),90),p=Math.min(Math.max(B.getNorthEast().lat,-90),90),z=Math.min(Math.max(B.getSouthWest().lng,-180),180),a=Math.min(Math.max(B.getNorthEast().lng,-180),180);if(t=="OverpassQL")return O+","+z+","+p+","+a;if(t=="xml")return's="'+O+'" w="'+z+'" n="'+p+'" e="'+a+'"'}function map2coord(t){var B=ide.map.getCenter();if(t=="OverpassQL")return B.lat+","+B.lng;if(t=="xml")return'lat="'+B.lat+'" lon="'+B.lng+'"'}function relativeTime(t,B){var O=Date.now();if(t==""&&(t="0 seconds"),t=t.toLowerCase().match(/(-?[0-9]+) ?(seconds?|minutes?|hours?|days?|weeks?|months?|years?)?/),t===null){B("");return}var p=parseInt(t[1]),z;switch(t[2]){case"second":case"seconds":z=1;break;case"minute":case"minutes":z=60;break;case"hour":case"hours":z=3600;break;case"day":case"days":default:z=86400;break;case"week":case"weeks":z=604800;break;case"month":case"months":z=2628e3;break;case"year":case"years":z=31536e3;break}var a=O-p*z*1e3;B(new Date(a).toISOString())}function geocodeId(t,B){var O=ide.getQueryLang();function p(z){return z.osm_type&&z.osm_id}nominatim.getBest(t,p,function(z,a){if(z)return ide.onNominatimError(t,"Id");O=="OverpassQL"?a=a.osm_type+"("+a.osm_id+")":O=="xml"&&(a='type="'+a.osm_type+'" ref="'+a.osm_id+'"'),B(a)})}function geocodeArea(t,B){var O=ide.getQueryLang();function p(z){return z.osm_type&&z.osm_id&&z.osm_type!=="node"}nominatim.getBest(t,p,function(z,a){if(z)return ide.onNominatimError(t,"Area");var H=1*a.osm_id;if(a.osm_type=="way"&&(H+=24e8),a.osm_type=="relation"&&(H+=36e8),O=="OverpassQL")return a.osm_type==="way"&&(H+=","+a.osm_id),B("area(id:"+H+")");if(O=="xml")return a.osm_type==="way"&&(H+='" ref_1="'+a.osm_id),B('type="area" ref="'+H+'"')})}function geocodeBbox(t,B){var O=ide.getQueryLang();nominatim.getBest(t,function(p,z){if(p)return ide.onNominatimError(t,"Bbox");var a=Math.min(Math.max(z.boundingbox[0],-90),90),H=Math.min(Math.max(z.boundingbox[1],-90),90),b=Math.min(Math.max(z.boundingbox[2],-180),180),x=Math.min(Math.max(z.boundingbox[3],-180),180);O=="OverpassQL"?z=a+","+b+","+H+","+x:O=="xml"&&(z='s="'+a+'" w="'+b+'" n="'+H+'" e="'+x+'"'),B(z)})}function geocodeCoords(t,B){var O=ide.getQueryLang();nominatim.getBest(t,function(p,z){if(p)return ide.onNominatimError(t,"Coords");O=="OverpassQL"?z=z.lat+","+z.lon:O=="xml"&&(z='lat="'+z.lat+'" lon="'+z.lon+'"'),B(z)})}function shortcuts(){var t=ide.getQueryLang();return{bbox:map2bbox(t),center:map2coord(t),__bbox__global_bbox_xml__ezs4K8__:map2bbox("OverpassQL"),date:relativeTime,geocodeId,geocodeArea,geocodeBbox,geocodeCoords,nominatimId:t=="xml"?geocodeId:function(B,O){geocodeId(B,function(p){O(p+";")})},nominatimArea:t=="xml"?geocodeArea:function(B,O){geocodeArea(B,function(p){O(p+";")})},nominatimBbox:geocodeBbox,nominatimCoords:geocodeCoords}}var copyData=void 0;$(document).on("copy",function(t){copyData&&t.originalEvent&&t.originalEvent.clipboardData?(Object.keys(copyData).forEach(function(B){t.originalEvent.clipboardData.setData(B,copyData[B])}),t.originalEvent.preventDefault(),copyData=void 0):copyData&&copyData["text/plain"]&&(prompt(i18n.t("export.copy_to_clipboard"),copyData["text/plain"]),copyData=null)});var ide=new function(){var t=null,B=null,O=query();Nominatim(),this.codeEditor=null,this.dataViewer=null,this.map=null;var p=this,z=function(b,x,M,S){if(b[0].is_combobox){b.autocomplete("option",{source:x});return}var A=b.wrap("<span>").parent().addClass("ui-combobox");b.autocomplete({source:x,minLength:0}).addClass("ui-widget ui-widget-content ui-corner-left ui-state-default").autocomplete("instance")._renderItem=function(T,R){return $("<li>").append(M&&M.indexOf(R.value)!==-1?'<div title="shift-click to remove from list" style="font-style:italic;">'+R.label+"</div>":"<div>"+R.label+"</div>").on("click",function(E){if(E.shiftKey&&M.indexOf(R.value)!==-1){S(R.value),$(this).remove();var u=b.autocomplete("option","source");return u.splice(u.indexOf(R),1),b.autocomplete("option","source",u),!1}}).appendTo(T)},$("<a>").attr("tabIndex",-1).attr("title","show all items").appendTo(A).button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("ui-corner-right ui-combobox-toggle").click(function(){if(b.autocomplete("widget").is(":visible")){b.autocomplete("close");return}b.autocomplete("search",""),b.focus()}),b[0].is_combobox=!0},a=function(b,x,M){var S='      <div class="modal is-active">        <div class="modal-background"></div>        <div class="modal-card">          <header class="modal-card-head">            <p class="modal-card-title">'+b+'</p>            <button class="delete" aria-label="close"></button>          </header>          <section class="modal-card-body">            '+x+'          </section>          <footer class="modal-card-foot">            <div class="level">              <div class="level-right">                <div class="level-item">                </div>              </div>            </div>          </footer>        </div>      </div>    ',A=$(S);$(".delete",A).click(function(){$(A).remove()});for(var T in M){var R=M[T];$('<button class="button">'+R.name+"</button>").click(function(E){return function(){E&&E(),$(A).remove()}}(R.callback)).appendTo($("footer .level-item",A))}A.appendTo("body")};this.waiter={opened:!0,frames:["\u25F4","\u25F7","\u25F6","\u25F5"],frameDelay:250,open:function(b){b?($(".modal .wait-info h4").text(b),$(".wait-info").show()):$(".wait-info").hide(),$("#loading-dialog").addClass("is-active"),document.title=p.waiter.frames[0]+" "+p.waiter._initialTitle;var x=0;p.waiter.interval=setInterval(function(){document.title=(this.isAlert?this.alertFrame:this.frames[++x%this.frames.length])+" "+this._initialTitle}.bind(p.waiter),p.waiter.frameDelay),p.waiter.opened=!0},close:function(){!p.waiter.opened||(clearInterval(p.waiter.interval),document.title=p.waiter._initialTitle,$("#loading-dialog").removeClass("is-active"),$(".wait-info ul li").remove(),delete p.waiter.onAbort,p.waiter.opened=!1)},addInfo:function(b,x){$("#aborter").remove(),$(".wait-info ul li:nth-child(n+1)").css("opacity",.5),$(".wait-info ul li span.fas").removeClass("fa-spinner").removeClass("fa-spin").addClass("fa-check"),$(".wait-info ul li:nth-child(n+4)").hide();var M=$('<li><span class="fas fa-spinner fa-spin" style="display:inline-block; margin-bottom:-2px; margin-right:3px;"></span>'+b+"</li>");if(typeof x=="function"){p.waiter.onAbort=x;var S=$('<span id="aborter">&nbsp;(<a href="#">abort</a>)</span>').on("click",function(){return p.waiter.abort(),!1});M.append(S)}$(".wait-info ul").prepend(M)},abort:function(){typeof p.waiter.onAbort=="function"&&(p.waiter.addInfo("aborting"),p.waiter.onAbort(p.waiter.close))}},this.waiter._initialTitle=document.title,this.init=function(){p.waiter.addInfo("ide starting up"),$("#overpass-turbo-version").html("overpass-turbo <code>48549f4</code>"),($.support.cors!=!0||typeof function(){var x=void 0;try{localStorage.setItem("startup_localstorage_quota_test",123),localStorage.removeItem("startup_localstorage_quota_test"),x=localStorage}catch{}return x}()!="object")&&(p.not_supported=!0,$("#warning-unsupported-browser").addClass("is-active")),p.waiter.addInfo("load settings"),settings.load(),p.waiter.addInfo("translate ui");var b=this;i18n.translate().then(function(){H.call(b)})};function H(){p.waiter.addInfo("parse url parameters");var b=urlParameters(location.search);b.has_coords&&(settings.coords_lat=b.coords.lat,settings.coords_lon=b.coords.lng),b.has_zoom&&(settings.coords_zoom=b.zoom),b.run_query&&(p.run_query_on_startup=!0),settings.save(),typeof history.replaceState=="function"&&history.replaceState({},"","."),p.waiter.addInfo("initialize page");var x=$(window).width()/$(window).height()<.8;if(settings.editor_width!=""&&!x&&($("#editor").css("width",settings.editor_width),$("#dataviewer").css("left",settings.editor_width)),x&&$("#editor, #dataviewer").addClass("portrait"),$("#editor").resizable({handles:x?"s":"e",minWidth:x?void 0:"200",resize:function(k){if(!x)$(this).next().css("left",$(this).outerWidth()+"px");else{var d=$(this).offset().top+$(this).outerHeight();$(this).next().css("top",d+"px")}p.map.invalidateSize(!1)},stop:function(){x||(settings.editor_width=$("#editor").css("width"),settings.save())}}),$("#editor").prepend("<span class='ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se'/>"),$("#editor textarea")[0].value=settings.code.overpass,settings.use_rich_editor){var M=0;CodeMirror.defineMIME("text/x-overpassQL",{name:"clike",keywords:function(k){for(var d={},c=k.split(" "),g=0;g<c.length;g++)d[c[g]]=!0;return d}("out json xml custom popup timeout maxsize bbox date diff adiff foreach relation rel way node is_in area around user uid newer changed poly pivot nwr nw nr wr derived out meta body skel tags ids count qt asc center bb geom")}),CodeMirror.defineMIME("text/x-overpassXML","xml"),CodeMirror.defineMode("xml+mustache",function(k){return CodeMirror.multiplexingMode(CodeMirror.multiplexingMode(CodeMirror.getMode(k,"xml"),{open:"{{",close:"}}",mode:CodeMirror.getMode(k,"text/plain"),delimStyle:"mustache"}),{open:"{{style:",close:"}}",mode:CodeMirror.getMode(k,"text/css"),delimStyle:"mustache"})}),CodeMirror.defineMode("ql+mustache",function(k){return CodeMirror.multiplexingMode(CodeMirror.multiplexingMode(CodeMirror.getMode(k,"text/x-overpassQL"),{open:"{{",close:"}}",mode:CodeMirror.getMode(k,"text/plain"),delimStyle:"mustache"}),{open:"{{style:",close:"}}",mode:CodeMirror.getMode(k,"text/css"),delimStyle:"mustache"})}),p.codeEditor=CodeMirror.fromTextArea($("#editor textarea")[0],{lineNumbers:!0,lineWrapping:!0,mode:"text/plain",onChange:function(k){clearTimeout(M),M=setTimeout(function(){p.getQueryLang()=="xml"?k.getOption("mode")!="xml+mustache"&&(k.closeTagEnabled=!0,k.setOption("matchBrackets",!1),k.setOption("mode","xml+mustache")):k.getOption("mode")!="ql+mustache"&&(k.closeTagEnabled=!1,k.setOption("matchBrackets",!0),k.setOption("mode","ql+mustache"));var d=$(".leaflet-control-buttons-bboxfilter");p.getRawQuery().match(/\{\{bbox\}\}/)?d.hasClass("disabled")&&(d.removeClass("disabled"),d.attr("data-t","[title]map_controlls.select_bbox"),i18n.translate_ui(d[0])):d.hasClass("disabled")||(d.addClass("disabled"),d.attr("data-t","[title]map_controlls.select_bbox_disabled"),i18n.translate_ui(d[0]))},500),settings.code.overpass=k.getValue(),settings.save()},closeTagEnabled:!0,closeTagIndent:["osm-script","query","union","foreach","difference"],extraKeys:{"'>'":function(k){k.closeTag(k,">")},"'/'":function(k){k.closeTag(k,"/")}}}),p.codeEditor.getOption("onChange")(p.codeEditor)}else p.codeEditor=$("#editor textarea")[0],p.codeEditor.getValue=function(){return this.value},p.codeEditor.setValue=function(k){this.value=k},p.codeEditor.lineCount=function(){return this.value.split(/\r\n|\r|\n/).length},p.codeEditor.setLineClass=function(){},$("#editor textarea").bind("input change",function(k){settings.code.overpass=k.target.getValue(),settings.save()});b.has_query&&p.codeEditor.setValue(b.query),p.dataViewer=CodeMirror($("#data")[0],{value:"no data loaded yet",lineNumbers:!0,readOnly:!0,mode:"javascript"}),p.map=new L$1.Map("map",{attributionControl:!1,minZoom:0,maxZoom:configs.maxMapZoom,worldCopyJump:!1});var S=settings.tile_server,A=configs.tileServerAttribution,T=new L$1.TileLayer(S,{attribution:A,noWrap:!0,maxNativeZoom:19,maxZoom:p.map.options.maxZoom});t=new L$1.Control.Attribution({prefix:""}),t.addAttribution(A);var R=new L$1.LatLng(settings.coords_lat,settings.coords_lon);p.map.setView(R,settings.coords_zoom).addLayer(T),p.map.tile_layer=T,p.map.inv_opacity_layer=L$1.tileLayer("data:image/gif;base64,R0lGODlhAQABAIAAAP7//wAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==").setOpacity(1-settings.background_opacity),settings.background_opacity!=1&&p.map.inv_opacity_layer.addTo(p.map),B=new L$1.Control.Scale({metric:!0,imperial:!1}),B.addTo(p.map),p.map.on("moveend",function(){settings.coords_lat=p.map.getCenter().lat,settings.coords_lon=p.map.getCenter().lng,settings.coords_zoom=p.map.getZoom(),settings.save()}),$("#dataviewer > div#data")[0].style.zIndex=-1001,$(".tabs li").bind("click",function(k){$(k.target).hasClass("is-active")||($("#dataviewer > div#data")[0].style.zIndex=-1*$("#dataviewer > div#data")[0].style.zIndex,$(".tabs li").toggleClass("is-active"))}),$(document).keydown(p.onKeyPress);var E=L$1.Control.extend({options:{position:"topleft"},onAdd:function(k){var d=L$1.DomUtil.create("div","leaflet-control-buttons leaflet-bar"),c=L$1.DomUtil.create("a","leaflet-control-buttons-fitdata leaflet-bar-part leaflet-bar-part-top",d);return $('<span class="fas fa-search"/>').appendTo($(c)),c.href="#",c.className+=" t",c.setAttribute("data-t","[title]map_controlls.zoom_to_data"),i18n.translate_ui(c),L$1.DomEvent.addListener(c,"click",function(){try{p.map.fitBounds(overpass.osmLayer.getBaseLayer().getBounds(),{maxZoom:18})}catch{}return!1},p.map),c=L$1.DomUtil.create("a","leaflet-control-buttons-myloc leaflet-bar-part",d),$('<span class="fas fa-crosshairs"/>').appendTo($(c)),c.href="#",c.className+=" t",c.setAttribute("data-t","[title]map_controlls.localize_user"),window.isSecureContext||(c.className+=" disabled",c.setAttribute("data-t","[title]map_controlls.localize_user_disabled")),i18n.translate_ui(c),L$1.DomEvent.addListener(c,"click",function(){try{navigator.geolocation.getCurrentPosition(function(g){var y=new L$1.LatLng(g.coords.latitude,g.coords.longitude);p.map.setView(y,settings.coords_zoom)})}catch{}return!1},p.map),c=L$1.DomUtil.create("a","leaflet-control-buttons-bboxfilter leaflet-bar-part",d),$('<span class="fas fa-image"/>').appendTo($(c)),c.href="#",c.className+=" t",c.setAttribute("data-t","[title]map_controlls.select_bbox"),i18n.translate_ui(c),L$1.DomEvent.addListener(c,"click",function(g){return $(g.target).parent().hasClass("disabled")||(p.map.bboxfilter.isEnabled()?p.map.bboxfilter.disable():(p.map.bboxfilter.setBounds(p.map.getBounds().pad(-.2)),p.map.bboxfilter.enable()),$(g.target).toggleClass("fa-times-circle").toggleClass("fa-image")),!1},p.map),c=L$1.DomUtil.create("a","leaflet-control-buttons-fullscreen leaflet-bar-part",d),$('<span class="fas fa-step-backward"/>').appendTo($(c)),c.href="#",c.className+=" t",c.setAttribute("data-t","[title]map_controlls.toggle_wide_map"),i18n.translate_ui(c),L$1.DomEvent.addListener(c,"click",function(g){return $("#dataviewer").toggleClass("fullscreen"),p.map.invalidateSize(),$(g.target).toggleClass("fa-step-forward").toggleClass("fa-step-backward"),$("#editor").toggleClass("hidden"),$("#editor").resizable("option","disabled")?$("#editor").resizable("enable"):$("#editor").resizable("disable"),!1},p.map),c=L$1.DomUtil.create("a","leaflet-control-buttons-clearoverlay leaflet-bar-part leaflet-bar-part-bottom",d),$('<span class="fas fa-ban"/>').appendTo($(c)),c.href="#",c.className+=" t",c.setAttribute("data-t","[title]map_controlls.toggle_data"),i18n.translate_ui(c),L$1.DomEvent.addListener(c,"click",function(g){return g.preventDefault(),p.map.hasLayer(overpass.osmLayer)?p.map.removeLayer(overpass.osmLayer):p.map.addLayer(overpass.osmLayer),!1},p.map),d}});p.map.addControl(new E),$(".leaflet-control-buttons > a").bind("dblclick",function(k){k.stopPropagation()}),$(".leaflet-control-buttons > a").tooltip({items:"a[title]",hide:{effect:"fadeOut",duration:100},position:{my:"left+5 center",at:"right center"}});var u=L$1.Control.extend({options:{position:"topright"},onAdd:function(k){var d=L$1.DomUtil.create("div","leaflet-control-search control has-icons-left");d.style.position="absolute",d.style.right="0";var c=L$1.DomUtil.create("input","input is-rounded",d);return $('<span class="icon is-left"><span class="fas fa-search"/></span>').click(function(g){$(this).prev().autocomplete("search")}).insertAfter(c),c.id="search",c.type="search",c.onclick=function(){this.focus()},d.ondblclick=function(g){g.stopPropagation()},$(c).autocomplete({source:function(g,y){$.ajax("https://search.osmnames.org/q/"+encodeURIComponent(g.term)+".js?key="+configs.osmnamesApiKey,{success:function(m){if(typeof m=="string")try{m=$.parseJSON(m)}catch{}y($.map(m.results.slice(0,10),function(U){return{label:U.display_name,value:U.display_name,lat:U.lat,lon:U.lon,boundingbox:U.boundingbox}}))},error:function(){console.error("An error occured while contacting the search server osmnames.org :(")}})},minLength:2,autoFocus:!0,select:function(g,y){return y.item.boundingbox&&y.item.boundingbox instanceof Array?p.map.fitBounds(L$1.latLngBounds([[y.item.boundingbox[1],y.item.boundingbox[0]],[y.item.boundingbox[3],y.item.boundingbox[2]]]),{maxZoom:18}):p.map.panTo(new L$1.LatLng(y.item.lat,y.item.lon)),this.value="",!1},open:function(){$(this).removeClass("ui-corner-all").addClass("ui-corner-top")},close:function(){$(this).addClass("ui-corner-all").removeClass("ui-corner-top")}}),$(c).autocomplete("option","delay",20),d}});p.map.addControl(new u),$('<span class="fas fa-plus" />').addClass("crosshairs").hide().appendTo("#map"),settings.enable_crosshairs&&$(".crosshairs").show(),p.map.bboxfilter=new L$1.LocationFilter({enable:!1,adjustButton:!1,enableButton:!1}).addTo(p.map),p.map.on("popupopen popupclose",function(k){if(typeof k.popup.layer<"u"){var d=k.popup.layer.placeholder||k.popup.layer,c=overpass.osmLayer._baseLayer.options.style(d.feature,k.type=="popupopen");typeof d.eachLayer!="function"?typeof d.setStyle=="function"&&d.setStyle(c):d.eachLayer(function(g){typeof g.setStyle=="function"&&g.setStyle(c)})}}),overpass.init(),overpass.handlers.onProgress=function(k,d){p.waiter.addInfo(k,d)},overpass.handlers.onDone=function(){p.waiter.close();var k=p.map.getBounds(),d=overpass.osmLayer.getBaseLayer().getBounds();if(d.isValid()&&!k.intersects(d)){var c=$(".leaflet-control-buttons-fitdata").tooltip("option","content");$(".leaflet-control-buttons-fitdata").tooltip("option","content","\u2190 "+i18n.t("map_controlls.suggest_zoom_to_data")),$(".leaflet-control-buttons-fitdata").tooltip("open"),$(".leaflet-control-buttons-fitdata").tooltip("option","hide",{effect:"fadeOut",duration:1e3}),setTimeout(function(){$(".leaflet-control-buttons-fitdata").tooltip("option","content",c),$(".leaflet-control-buttons-fitdata").tooltip("close"),$(".leaflet-control-buttons-fitdata").tooltip("option","hide",{effect:"fadeOut",duration:100})},2600)}},overpass.handlers.onEmptyMap=function(k,d){if(k=="no visible data"&&!settings.no_autorepair){var c="<p>"+i18n.t("warning.incomplete.expl.1")+"</p><p>"+i18n.t("warning.incomplete.expl.2")+'</p><p><input type="checkbox" name="hide_incomplete_data_warning"/>&nbsp;'+i18n.t("warning.incomplete.not_again")+"</p>",g=[{name:i18n.t("dialog.repair_query"),callback:function(){p.repairQuery("no visible data")}},{name:i18n.t("dialog.show_data"),callback:function(){$("input[name=hide_incomplete_data_warning]",this)[0].checked&&(settings.no_autorepair=!0,settings.save()),p.switchTab("Data")}}];a(i18n.t("warning.incomplete.title"),c,g)}k=="only areas returned"&&p.switchTab("Data"),k=="no coordinates returned"&&p.switchTab("Data"),d=="unknown"&&p.switchTab("Data"),$('<div id="map_blank" style="z-index:5; display:block; position:relative; top:42px; width:100%; text-align:center; background-color:#eee; opacity: 0.8;">'+i18n.t("map.intentionally_blank")+" <small>("+k+")</small></div>").appendTo("#map")},overpass.handlers.onDataReceived=function(k,d,c,g){if(k>1e6){p.waiter.close();var y=document.title;document.title="\u2757 "+y;var m=[{name:i18n.t("dialog.abort"),callback:function(){document.title=y,c()}},{name:i18n.t("dialog.continue_anyway"),callback:function(){document.title=y,g()}}],U="<p>"+i18n.t("warning.huge_data.expl.1").replace("{{amount_txt}}",d)+"</p><p>"+i18n.t("warning.huge_data.expl.2")+"</p>";a(i18n.t("warning.huge_data.title"),U,m)}else g()},overpass.handlers.onAbort=function(){p.waiter.close()},overpass.handlers.onAjaxError=function(k){p.waiter.close();var d=document.title;document.title="\u2757 "+d;var c=[{name:i18n.t("dialog.dismiss"),callback:function(){document.title=d}}],g='<p style="color:red;">'+i18n.t("error.ajax.expl")+"</p>"+k;a(i18n.t("error.ajax.title"),g,c),overpass.resultText&&p.dataViewer.setValue(overpass.resultText)},overpass.handlers.onQueryError=function(k){p.waiter.close();var d=document.title;document.title="\u2757 "+d;var c=[{name:i18n.t("dialog.dismiss"),callback:function(){document.title=d}}],g='<div class="notification is-danger is-light">'+i18n.t("error.query.expl")+"<br>"+k+"</div>";a(i18n.t("error.query.title"),g,c)},overpass.handlers.onStyleError=function(k){var d=[{name:i18n.t("dialog.dismiss")}],c='<p style="color:red;">'+i18n.t("error.mapcss.expl")+"</p>"+k;a(i18n.t("error.mapcss.title"),c,d)},overpass.handlers.onQueryErrorLine=function(k){p.highlightError(k)},overpass.handlers.onRawDataPresent=function(){p.dataViewer.setOption("mode",overpass.resultType),p.dataViewer.setValue(overpass.resultText)},overpass.handlers.onGeoJsonReady=function(){if(p.map.addLayer(overpass.osmLayer),typeof p.run_query_on_startup=="function"&&p.run_query_on_startup(),settings.show_data_stats){var k=overpass.stats,d="<small>"+i18n.t("data_stats.loaded")+"</small>&nbsp;&ndash;&nbsp;"+i18n.t("data_stats.nodes")+":&nbsp;"+k.data.nodes+", "+i18n.t("data_stats.ways")+":&nbsp;"+k.data.ways+", "+i18n.t("data_stats.relations")+":&nbsp;"+k.data.relations+(k.data.areas>0?", "+i18n.t("data_stats.areas")+":&nbsp;"+k.data.areas:"")+"<br/><small>"+i18n.t("data_stats.displayed")+"</small>&nbsp;&ndash;&nbsp;"+i18n.t("data_stats.pois")+":&nbsp;"+k.geojson.pois+", "+i18n.t("data_stats.lines")+":&nbsp;"+k.geojson.lines+", "+i18n.t("data_stats.polygons")+":&nbsp;"+k.geojson.polys+"</small>";$('<div id="data_stats" class="stats">'+d+"</div>").insertAfter("#map");var c=overpass.timestamp&&Date.now()-Date.parse(overpass.timestamp),g=overpass.timestampAreas&&Date.now()-Date.parse(overpass.timestampAreas);$("#data_stats").tooltip({items:"div",tooltipClass:"stats",content:function(){var y="<div>";if(overpass.ajax_request_duration){var m=overpass.ajax_request_duration;m.toLocaleString&&(m=m.toLocaleString()),y+=i18n.t("data_stats.request_duration")+": "+m+"ms<br>"}return overpass.timestamp&&(y+=i18n.t("data_stats.lag")+": "+Math.floor(c/1e3)+"s <small>"+i18n.t("data_stats.lag.expl")+"</small>"),overpass.timestampAreas&&(y+="<br>"+i18n.t("data_stats.lag_areas")+": "+Math.floor(g/1e3)+"s <small>"+i18n.t("data_stats.lag.expl")+"</small>"),y+="</div>",y},hide:{effect:"fadeOut",duration:100},position:{my:"right bottom-5",at:"right top"}}),(c>24*60*60*1e3||g>96*60*60*1e3)&&$("#data_stats").css("background-color","yellow")}},overpass.handlers.onPopupReady=function(k){k.openOn(p.map)},p.waiter.close(),p.run_query_on_startup===!0&&(p.update_map(),!b.has_coords&&b.has_query&&b.query.match(/\{\{(bbox|center)\}\}/)===null&&(p.run_query_on_startup=function(){p.run_query_on_startup=null;try{p.map.fitBounds(overpass.osmLayer.getBaseLayer().getBounds(),{maxZoom:18})}catch{}}))}this.onNominatimError=function(b,x){p.waiter.close();var M=p.getRawQuery();M=M.split(`
`),M.forEach(function(T,R){T.indexOf("{{geocode"+x+":"+b+"}}")!==-1&&p.highlightError(R+1)});var S=[{name:i18n.t("dialog.dismiss")}],A='<p style="color:red;">'+i18n.t("error.nominatim.expl")+"</p><p><i>"+htmlentities(b)+"</i></p>";a(i18n.t("error.nominatim.title"),A,S)},this.getRawQuery=function(){return p.codeEditor.getValue()},this.getQuery=function(b){var x=p.getRawQuery();p.getQueryLang(),x=x.replace(/(\<osm-script[^>]+bbox[^=]*=[^"'']*["'])({{bbox}})(["'])/,"$1{{__bbox__global_bbox_xml__ezs4K8__}}$3"),O.parse(x,shortcuts(),function(M){var S="";O.hasStatement("style")&&(S=O.getStatement("style")),p.mapcss=S;var A=null;if(O.hasStatement("data")){A=O.getStatement("data"),A=A.split(",");var T=A[0].toLowerCase();A=A.slice(1);for(var R={},E=0;E<A.length;E++){var u=A[E].split("=");R[u[0]]=u[1]}A={mode:T,options:R}}p.data_source=A,b(M)})},this.setQuery=function(b){p.codeEditor.setValue(b)},this.getQueryLang=function(){return $.trim(p.getRawQuery().replace(/{{.*?}}/g,"")).match(/^</)?"xml":"OverpassQL"},this.repairQuery=function(b){var x=p.getRawQuery(),M=p.getQueryLang(),S=autorepair(x,M);b=="no visible data"?S.recurse():b=="xml+metadata"&&S.editors(),p.setQuery(S.getQuery())},this.highlightError=function(b){p.codeEditor.setLineClass(b-1,null,"errorline")},this.resetErrors=function(){for(var b=0;b<p.codeEditor.lineCount();b++)p.codeEditor.setLineClass(b,null,null)},this.switchTab=function(b){$(".tabs li."+b).click()},this.loadExample=function(b){typeof settings.saves[b]<"u"&&p.setQuery(settings.saves[b].overpass)},this.removeExample=function(b,x){var M=[{name:i18n.t("dialog.delete"),callback:function(){delete settings.saves[b],settings.save(),$(x).parent("li").remove()}},{name:i18n.t("dialog.cancel")}],S='<p><span class="fas fa-exclamation-triangle" style="float:left; margin:1px 7px 20px 0;"></span>'+i18n.t("dialog.delete_query.expl")+": &quot;<i>"+b+"</i>&quot;?</p>";a(i18n.t("dialog.delete_query.title"),S,M)},this.removeExampleSync=function(b,x){var M=[{name:i18n.t("dialog.delete"),callback:function(){sync.delete(b.name,function(A){if(A)return console.error(A);$(x).parent().remove()}.bind(this))}},{name:i18n.t("dialog.cancel")}],S='<p><span class="fas fa-exclamation-triangle" style="float:left; margin:1px 7px 20px 0;"></span>'+i18n.t("dialog.delete_query.expl-osm")+": &quot;<i>"+b.name+"</i>&quot;?</p>";a(i18n.t("dialog.delete_query.title"),S,M)},this.onLoadClick=function(){$("#load-dialog ul.saved_query, #load-dialog ul.example").html("");var b=!1;for(var x in settings.saves){var M=settings.saves[x].type;M!="template"&&($("<li></li>").append($("<a>").attr("href","#").text(x).on("click",function(T){return function(){return p.loadExample(T),$("#load-dialog").removeClass("is-active"),!1}}(x)),$("<a>").attr("href","#").attr("title",i18n.t("load.delete_query")+": "+x).addClass("delete-query").css("float","right").append($('<span class="has-text-danger">').addClass("fas").addClass("fa-times")).on("click",function(T){return function(){return p.removeExample(T,this),!1}}(x)),$("<div>").css("clear","right")).appendTo("#load-dialog ul."+M),M=="saved_query"&&(b=!0))}b||$("<li>"+i18n.t("load.no_saved_query")+"</li>").appendTo("#load-dialog ul.saved_query"),$("#load-dialog").addClass("is-active");{var S=$("#load-dialog .osm-queries");S.show();var A=$("<button class='button is-link is-outlined t' title='load.title'>"+i18n.t("load.title")+"</button>").click(function(){p.loadOsmQueries()});$("ul",S).html("").append($("<li></li>").append(A))}},this.loadOsmQueries=function(){var b=$("#load-dialog .osm-queries");b.show(),$("ul",b).html("<li><i>"+i18n.t("load.saved_queries-osm-loading")+"</i></li>"),sync.load(function(x,M){if(x)return $("ul",b).html("<li><i>"+i18n.t("load.saved_queries-osm-error")+"</i></li>"),console.error(x);$("ul",b).html(""),$("#logout").show(),M.forEach(function(S){$("<li></li>").append($("<a>").attr("href","#").text(S.name).on("click",function(A){return function(){return p.setQuery(lzw_decode(Base64.decode(A.query))),$("#load-dialog").removeClass("is-active"),!1}}(S)),$("<a>").attr("href","#").attr("title",i18n.t("load.delete_query")+": "+S.name).addClass("delete-query").css("float","right").append($('<span class="has-text-danger">').addClass("fas").addClass("fa-times")).on("click",function(A){return function(){return p.removeExampleSync(A,this),!1}}(S)),$("<div>").css("clear","right")).appendTo("#load-dialog ul.osm")})})},this.onLoadClose=function(){$("#load-dialog").removeClass("is-active")},this.onSaveClick=function(){var b=new Array;for(var x in settings.saves)settings.saves[x].type!="template"&&b.push(x);z($("#save-dialog input[name=save]"),b),$("#save-dialog").addClass("is-active")},this.onSaveSumbit=function(){var b=$("#save-dialog input[name=save]")[0].value;settings.saves[htmlentities(b)]={overpass:p.getRawQuery(),type:"saved_query"},settings.save(),$("#save-dialog").removeClass("is-active")},this.onSaveOsmSumbit=function(){var b=$("#save-dialog input[name=save]")[0].value,x=p.compose_share_link(p.getRawQuery(),!0).slice(3);sync.save({name:b,query:x},function(M,S){if(M)return console.error(M);$("#logout").show(),$("#save-dialog").removeClass("is-active")})},this.onSaveClose=function(){$("#save-dialog").removeClass("is-active")},this.onLogoutClick=function(){!window.confirm("Logout?")||(sync.logout(),$("#load-dialog ul.osm").html(""),$("#logout").hide())},this.onRunClick=function(){p.update_map()},this.onRerenderClick=function(){p.rerender_map()},this.compose_share_link=function(b,x,M,S){var A="";if(!x)A+="?Q="+encodeURIComponent(b),M&&(A+="&C="+L$1.Util.formatNum(p.map.getCenter().lat)+";"+L$1.Util.formatNum(p.map.getCenter().lng)+";"+p.map.getZoom()),S&&(A+="&R");else{if(A+="?q="+encodeURIComponent(Base64.encode(lzw_encode(b))),M){var T=function(R,E){var u=Base64.encodeNum(Math.round((R+90)*1e5)+Math.round((E+180)*1e5)*180*1e5);return"AAAAAAAA".substring(0,9-u.length)+u};A+="&c="+T(p.map.getCenter().lat,p.map.getCenter().lng)+Base64.encodeNum(p.map.getZoom())}S&&(A+="&R")}return A},this.updateShareLink=function(){var b=location.protocol+"//"+location.host+location.pathname,x=p.getRawQuery(),M=settings.share_compression=="auto"&&x.length>300||settings.share_compression=="on",S=$("div#share-dialog input[name=include_coords]")[0].checked,A=$("div#share-dialog input[name=run_immediately]")[0].checked,T=p.compose_share_link(x,M,S,A),R=b+T,E="";R.length>=2e3&&(E='<p class="warning">'+i18n.t("warning.share.long")+"</p>"),R.length>=4e3&&(E='<p class="warning severe">'+i18n.t("warning.share.very_long")+"</p>"),$("div#share-dialog #share_link_warning").html(E),$("div#share-dialog #share_link_a")[0].href=R,$("div#share-dialog #share_link_textarea")[0].value=R},this.onShareClick=function(){$("div#share-dialog input[name=include_coords]")[0].checked=settings.share_include_pos,p.updateShareLink(),$("#share-dialog").addClass("is-active")},this.onShareClose=function(){$("#share-dialog").removeClass("is-active")},this.onExportClick=function(){p.getQuery(function(b){var x=location.protocol+"//"+location.host+location.pathname.match(/.*\//)[0],M=p.data_source&&p.data_source.mode=="overpass"&&p.data_source.options.server?p.data_source.options.server:settings.server,S=b;O.hasStatement("style")&&(S+="{{style: "+O.getStatement("style")+" }}"),O.hasStatement("data")?S+="{{data:"+O.getStatement("data")+"}}":settings.server!==configs.defaultServer&&(S+="{{data:overpass,server="+settings.server+"}}"),$("#export-dialog a#export-interactive-map")[0].href=x+"map.html?Q="+encodeURIComponent(S),$("#export-dialog a#export-overpass-api")[0].href=M+"interpreter?data="+encodeURIComponent(b).replace(/!/g,"%21").replace(/\(/g,"%28").replace(/\)/g,"%29");function A(J){return"data:text/plain;charset="+(document.characterSet||document.charset)+";base64,"+Base64.encode(J,!0)}function T(J,re){return function(){return $("#export-clipboard-success").addClass("is-active"),copyData={"text/plain":J},document.execCommand("copy"),$("#export-clipboard-success .message").html(i18n.t("export.copy_to_clipboard_success-message")),$("#export-clipboard-success .export-copy_to_clipboard-content").html(re),!1}}$("#export-text .format").html(i18n.t("export.format_text")),$("#export-text .export").attr({download:"query.txt",target:"_blank",href:A(b)}),$("#export-text .copy").attr("href","").click(T(b));var R=p.getRawQuery();$("#export-text_raw .format").html(i18n.t("export.format_text_raw")),$("#export-text_raw .export").attr({download:"query-raw.txt",target:"_blank",href:A(R)}),$("#export-text_raw .copy").attr("href","").click(T(R));var E="{{OverpassTurboExample|loc="+L$1.Util.formatNum(p.map.getCenter().lat)+";"+L$1.Util.formatNum(p.map.getCenter().lng)+";"+p.map.getZoom()+`|query=
`;E+=R.replace(/{{/g,"mSAvmrw81O8NgWlX").replace(/{/g,"Z9P563g6zQYzjiLE").replace(/}}/g,"AtUhvGGxAlM1mP5i").replace(/}/g,"Yfxw6RTW5lewTqtg").replace(/mSAvmrw81O8NgWlX/g,"{{((}}").replace(/Z9P563g6zQYzjiLE/g,"{{(}}").replace(/AtUhvGGxAlM1mP5i/g,"{{))}}").replace(/Yfxw6RTW5lewTqtg/g,"{{)}}").replace(/\|/g,"{{!}}").replace(/{{!}}{{!}}/g,"{{!!}}"),E+=`
}}`,$("#export-text_wiki .format").html(i18n.t("export.format_text_wiki")),$("#export-text_wiki .export").attr({download:"query-wiki.txt",target:"_blank",href:A(E)}),$("#export-text_wiki .copy").attr("href","").click(T(E));var u=b;u=u.replace(/\/\*[\S\s]*?\*\//g,""),u=u.replace(/\/\/.*/g,""),u=u.replace(/\n\s*/g,""),u=u.replace(new RegExp(shortcuts().bbox,"g"),"{south},{west},{north},{east}"),$("#export-text_umap .format").html(i18n.t("export.format_text_umap")),$("#export-text_umap .export").attr({download:"query-umap.txt",target:"_blank",href:A(u)}),$("#export-text_umap .copy").attr("href","").click(T(u,i18n.t("export.section.query")+" ("+i18n.t("export.format_text_umap")+")"));var k=[{name:i18n.t("dialog.done")}];$("#export-dialog a#export-map-state").unbind("click").bind("click",function(){var J="<h4>"+i18n.t("export.map_view.permalink")+'</h4><p><a href="//www.openstreetmap.org/#map='+p.map.getZoom()+"/"+L$1.Util.formatNum(p.map.getCenter().lat)+"/"+L$1.Util.formatNum(p.map.getCenter().lng)+'" target="_blank">'+i18n.t("export.map_view.permalink_osm")+"</a></p><h4>"+i18n.t("export.map_view.center")+"</h4><p>"+L$1.Util.formatNum(p.map.getCenter().lat)+", "+L$1.Util.formatNum(p.map.getCenter().lng)+" <small>("+i18n.t("export.map_view.center_expl")+")</small></p><h4>"+i18n.t("export.map_view.bounds")+"</h4><p>"+L$1.Util.formatNum(p.map.getBounds().getSouthWest().lat)+", "+L$1.Util.formatNum(p.map.getBounds().getSouthWest().lng)+", "+L$1.Util.formatNum(p.map.getBounds().getNorthEast().lat)+", "+L$1.Util.formatNum(p.map.getBounds().getNorthEast().lng)+"<br /><small>("+i18n.t("export.map_view.bounds_expl")+")</small></p>"+(p.map.bboxfilter.isEnabled()?"<h4>"+i18n.t("export.map_view.bounds_selection")+"</h4><p>"+L$1.Util.formatNum(p.map.bboxfilter.getBounds().getSouthWest().lat)+", "+L$1.Util.formatNum(p.map.bboxfilter.getBounds().getSouthWest().lng)+", "+L$1.Util.formatNum(p.map.bboxfilter.getBounds().getNorthEast().lat)+", "+L$1.Util.formatNum(p.map.bboxfilter.getBounds().getNorthEast().lng)+"<br /><small>("+i18n.t("export.map_view.bounds_expl")+")</small></p>":"")+"<h4>"+i18n.t("export.map_view.zoom")+"</h4><p>"+p.map.getZoom()+"</p>";return a(i18n.t("export.map_view.title"),J,k),!1}),$("#export-dialog a#export-image").unbind("click").on("click",function(){return p.onExportImageClick(),$("#export-dialog").removeClass("is-active"),!1});function d(J){var re;if(!J)re=i18n.t("export.geoJSON.no_data");else{console.log(new Date);var C={type:"FeatureCollection",generator:configs.appname,copyright:overpass.copyright,timestamp:overpass.timestamp,features:J.features.map(function(G){return{type:"Feature",properties:G.properties,geometry:G.geometry}})};C.features.forEach(function(G){var N=G.properties;G.id=N.type+"/"+N.id,G.properties={"@id":G.id};for(var V in N.tags||{})G.properties[V.replace(/^@/,"@@")]=N.tags[V];for(var V in N.meta||{})G.properties["@"+V]=N.meta[V];N.tainted&&(G.properties["@tainted"]=N.tainted),N.geometry&&(G.properties["@geometry"]=N.geometry),N.relations&&N.relations.length>0&&(G.properties["@relations"]=N.relations)}),re=JSON.stringify(C,void 0,2)}return re}$("#export-geoJSON .format").text("GeoJSON"),$("#export-geoJSON .export").attr("href","").unbind("click").on("click",function(){var J=d(overpass.geojson),re=$("#export-download-dialog");if(overpass.geojson){var C=new Blob([J],{type:"application/json;charset=utf-8"});FileSaver.exports.saveAs(C,"export.geojson")}else re.addClass("is-active"),$(".message",re).text(J);return!1}),$("#export-geoJSON .copy").attr("href","").click(function(){var J=overpass.geojson?$("#export-clipboard-success"):$("#export-download-dialog");if(J.addClass("is-active"),overpass.geojson){var re=d(overpass.geojson);copyData={"text/plain":re,"application/geo+json":re},document.execCommand("copy"),$(".message",J).html(i18n.t("export.copy_to_clipboard_success-message")),$(".export-copy_to_clipboard-content",J).text("GeoJSON")}else $(".message",J).text(i18n.t("export.geoJSON.no_data"));return!1}),$("#export-dialog a#export-geoJSON-gist").unbind("click").on("click",function(){var J=d(overpass.geojson);return $.ajax("https://api.github.com/gists",{method:"POST",data:JSON.stringify({description:"data exported by overpass turbo",public:!0,files:{"overpass.geojson":{content:J}}})}).done(function(re,C,G){var N=[{name:i18n.t("dialog.done")}],V="<p>"+i18n.t("export.geoJSON_gist.gist")+'&nbsp;<a href="'+re.html_url+'" target="_blank" class="external">'+re.id+"</a></p><p>"+i18n.t("export.geoJSON_gist.geojsonio")+'&nbsp;<a href="http://geojson.io/#id=gist:anonymous/'+re.id+'" target="_blank" class="external">'+i18n.t("export.geoJSON_gist.geojsonio_link")+"</a></p>";a(i18n.t("export.geoJSON_gist.title"),V,N)}).fail(function(re,C,G){alert(`an error occured during the creation of the overpass gist:
`+JSON.stringify(re))}),!1});function c(J){var re;return J?(re=togpx_1(J,{creator:configs.appname,metadata:{desc:"Filtered OSM data converted to GPX by overpass turbo",copyright:{"@author":overpass.copyright},time:overpass.timestamp},featureTitle:function(C){if(C.tags){if(C.tags.name)return C.tags.name;if(C.tags.ref)return C.tags.ref;if(C.tags["addr:housenumber"]&&C.tags["addr:street"])return C.tags["addr:street"]+" "+C.tags["addr:housenumber"]}return C.type+"/"+C.id},featureLink:function(C){return"http://osm.org/browse/"+C.type+"/"+C.id}}),re[1]!=="?"&&(re=`<?xml version="1.0" encoding="UTF-8"?>
`+re)):re=i18n.t("export.GPX.no_data"),re}$("#export-GPX .format").text("GPX"),$("#export-GPX .export").attr("href","").unbind("click").on("click",function(){var J=overpass.geojson,re=c(J);if(J){var C=new Blob([re],{type:"application/xml;charset=utf-8"});FileSaver.exports.saveAs(C,"export.gpx")}else{var G=$("#export-download-dialog");G.addClass("is-active"),$(".message",G).text(re)}return!1}),$("#export-GPX .copy").attr("href","").click(function(){var J=overpass.geojson?$("#export-clipboard-success"):$("#export-download-dialog");if(J.addClass("is-active"),overpass.geojson){var re=c(overpass.geojson);copyData={"text/plain":re,"application/gpx+xml":re},document.execCommand("copy"),$(".message",J).html(i18n.t("export.copy_to_clipboard_success-message")),$(".export-copy_to_clipboard-content",J).text("GPX")}else $(".message",J).text(i18n.t("export.GPX.no_data"));return!1});function g(J){return J=J&&JSON.parse(d(J)),J?tokml(J,{documentName:"overpass-turbo.eu export",documentDescription:`Filtered OSM data converted to KML by overpass turbo.
Copyright: `+overpass.copyright+`
Timestamp: `+overpass.timestamp,name:"name",description:"description"}):i18n.t("export.KML.no_data")}$("#export-KML .format").text("KML"),$("#export-KML .export").attr("href","").unbind("click").on("click",function(){var J=overpass.geojson,re=g(J);if(J){var C=new Blob([re],{type:"application/xml;charset=utf-8"});FileSaver.exports.saveAs(C,"export.kml")}else $("#export-download-dialog").addClass("is-active"),$("#export-download-dialog .message").text(re);return!1}),$("#export-KML .copy").attr("href","").click(function(){var J=overpass.geojson?$("#export-clipboard-success"):$("#export-download-dialog");if(J.addClass("is-active"),overpass.geojson){var re=g(overpass.geojson);copyData={"text/plain":re,"application/vnd.google-earth.kml+xml":re},document.execCommand("copy"),$(".message",J).html(i18n.t("export.copy_to_clipboard_success-message")),$(".export-copy_to_clipboard-content",J).text("KML")}else $(".message",J).text(i18n.t("export.kml.no_data"));return!1});function y(G){var re,C,G=overpass.geojson;if(!G)re=i18n.t("export.raw.no_data");else{var N=overpass.data;if(N instanceof XMLDocument)re=new XMLSerializer().serializeToString(N),C=re.match(/<osm/)?"osm":"xml";else if(N instanceof Object)re=JSON.stringify(N,void 0,2),C="json";else try{re=N.toString()}catch{re="Error while exporting the data"}}return{raw_str:re,raw_type:C}}$("#export-raw .format").text(i18n.t("export.raw_data")),$("#export-raw .export").attr("href","").unbind("click").on("click",function(){var J=overpass.geojson,re=y(J),C=re.raw_str,G=re.raw_type;if(J)if(G=="osm"||G=="xml"){var N=new Blob([C],{type:"application/xml;charset=utf-8"});FileSaver.exports.saveAs(N,"export."+G)}else if(G=="json"){var N=new Blob([C],{type:"application/json;charset=utf-8"});FileSaver.exports.saveAs(N,"export.json")}else{var N=new Blob([C],{type:"application/octet-stream;charset=utf-8"});FileSaver.exports.saveAs(N,"export.dat")}else{var V=$("#export-download-dialog");V.addClass("is-active"),$(".message",V).text(C)}return!1}),$("#export-raw .copy").attr("href","").click(function(){var J=overpass.geojson?$("#export-clipboard-success"):$("#export-download-dialog");J.addClass("is-active");var re=overpass.geojson;if(re){var C=y(re),G=C.raw_str,N=C.raw_type;copyData={"text/plain":G},N=="osm"||N=="xml"?copyData["application/xml"]=G:N=="json"?copyData["application/json"]=G:copyData["application/octet-stream"]=G,document.execCommand("copy"),$(".message",J).html(i18n.t("export.copy_to_clipboard_success-message")),$(".export-copy_to_clipboard-content",J).html(i18n.t("export.raw_data"))}else $(".message",J).text(i18n.t("export.raw.no_data"));return!1}),$("#export-dialog a#export-convert-xml")[0].href=M+"convert?data="+encodeURIComponent(b)+"&target=xml",$("#export-dialog a#export-convert-ql")[0].href=M+"convert?data="+encodeURIComponent(b)+"&target=mapql",$("#export-dialog a#export-convert-compact")[0].href=M+"convert?data="+encodeURIComponent(b)+"&target=compact";var m=autorepair.detect.editors(p.getRawQuery(),p.getQueryLang()),U=$("#export-dialog a#export-editors-level0");U.unbind("click");function K(J){return"http://level0.osmz.ru/?url="+encodeURIComponent(M+"interpreter?data="+encodeURIComponent(J))}m?U[0].href=K(b):(U[0].href="",U.bind("click",function(){var J=[{name:i18n.t("dialog.repair_query"),callback:function(){p.repairQuery("xml+metadata"),p.getQuery(function(C){U.unbind("click"),U[0].href=K(C)})}},{name:i18n.t("dialog.continue_anyway"),callback:function(){U.unbind("click"),U[0].href=K(b)}}],re="<p>"+i18n.t("warning.incomplete.remote.expl.1")+"</p><p>"+i18n.t("warning.incomplete.remote.expl.2")+"</p>";return a(i18n.t("warning.incomplete.title"),re,J),!1})),$("#export-dialog a#export-editors-josm").unbind("click").on("click",function(){var J=$("#export-dialog"),re=function(V){var ne="http://127.0.0.1:8111/";$.getJSON(ne+"version").done(function(oe,ve,de){if(oe.protocolversion.major==1)$.get(ne+"import",{url:M.replace(/^\/\//,location.protocol+"//")+"interpreter?data="+encodeURIComponent(V)}).fail(function(e,n,r){alert("Error: Unexpected JOSM remote control error.")}).done(function(e,n,r){console.log("successfully invoked JOSM remote control")});else{var fe=[{name:i18n.t("dialog.dismiss")}],ye="<p>"+i18n.t("error.remote.incompat")+": "+oe.protocolversion.major+"."+oe.protocolversion.minor+" :(</p>";a(i18n.t("error.remote.title"),ye,fe)}}).fail(function(oe,ve,de){var fe=[{name:i18n.t("dialog.dismiss")}],ye="<p>"+i18n.t("error.remote.not_found")+"</p>";a(i18n.t("error.remote.title"),ye,fe)})},C=autorepair.detect.editors(p.getRawQuery(),p.getQueryLang());if(C)return re(b),!1;var G=[{name:i18n.t("dialog.repair_query"),callback:function(){p.repairQuery("xml+metadata"),p.getQuery(function(V){re(V),J.removeClass("is-active")})}},{name:i18n.t("dialog.continue_anyway"),callback:function(){re(b),J.removeClass("is-active")}}],N="<p>"+i18n.t("warning.incomplete.remote.expl.1")+"</p><p>"+i18n.t("warning.incomplete.remote.expl.2")+"</p>";return a(i18n.t("warning.incomplete.title"),N,G),!1}),$("#export-dialog").addClass("is-active")})},this.onExportDownloadClose=function(){$("#export-download-dialog").removeClass("is-active")},this.onExportClipboardClose=function(){$("#export-clipboard-success").removeClass("is-active")},this.onExportClose=function(){$("#export-dialog").removeClass("is-active")},this.onExportImageClick=function(){p.waiter.open(i18n.t("waiter.export_as_image")),p.waiter.addInfo("prepare map"),$("#map .leaflet-control-container .leaflet-top").hide(),$("#data_stats").hide(),settings.export_image_attribution&&t.addTo(p.map),settings.export_image_scale||B.removeFrom(p.map),p.waiter.addInfo("rendering map tiles"),$("#map .leaflet-overlay-pane").hide(),html2canvas(document.getElementById("map"),{useCORS:!0,allowTaint:!1,proxy:void 0,onrendered:function(b){$("#map .leaflet-overlay-pane").show(),settings.export_image_attribution&&t.removeFrom(p.map),settings.export_image_scale||B.addTo(p.map),settings.show_data_stats&&$("#data_stats").show(),$("#map .leaflet-control-container .leaflet-top").show(),p.waiter.addInfo("rendering map data"),b.id="render_canvas";var x=b.getContext("2d"),M=$("#map .leaflet-overlay-pane svg").height(),S=$("#map .leaflet-overlay-pane svg").width(),A=$("#map .leaflet-map-pane")[0].style.cssText.match(/.*?(-?\d+)px.*?(-?\d+)px.*/),T=+A[1],R=+A[2];$("#map .leaflet-overlay-pane").html().length>0&&x.drawSvg($("#map .leaflet-overlay-pane").html(),T,R,S,M),p.waiter.addInfo("converting to png image");var E=b.toDataURL("image/png"),u="";settings.export_image_attribution||(u='<p style="font-size:smaller; color:orange;">Make sure to include proper attributions when distributing this image!</p>');var k=[{name:i18n.t("dialog.done")}];p.waiter.close();var d='<p><img src="'+E+'" alt="'+i18n.t("export.image.alt")+'" width="480px"/><br><!--<a href="'+E+'" download="export.png" target="_blank">'+i18n.t("export.image.download")+"</a>--></p>"+u;a(i18n.t("export.image.title"),d,k),b.toBlob(function(c){FileSaver.exports.saveAs(c,"export.png")})}})},this.onFfsClick=function(){$("#ffs-dialog #ffs-dialog-parse-error").hide(),$("#ffs-dialog #ffs-dialog-typo").hide(),$("#ffs-dialog .loading").hide(),$("#ffs-dialog input[type=search]").removeClass("is-danger").unbind("keypress").bind("keypress",function(b){(b.which==13||b.which==10)&&(p.onFfsRun(!0),b.preventDefault())}),$("#ffs-dialog").addClass("is-active")},this.onFfsClose=function(){$("#ffs-dialog").removeClass("is-active")},this.onFfsBuild=function(){p.onFfsRun(!1)},this.onFfsRun=function(b){$("#ffs-dialog input[type=search]").removeClass("is-danger"),$("#ffs-dialog #ffs-dialog-parse-error").hide(),$("#ffs-dialog #ffs-dialog-typo").hide(),$("#ffs-dialog .loading").show(),p.update_ffs_query(void 0,function(x,M){if($("#ffs-dialog .loading").hide(),!x)$("#ffs-dialog").removeClass("is-active"),b!==!1&&p.onRunClick();else if(_.isArray(M)){$("#ffs-dialog #ffs-dialog-parse-error").hide(),$("#ffs-dialog #ffs-dialog-typo").show(),$("#ffs-dialog input[type=search]").addClass("is-danger");var S=M.join(""),A=M.map(function(T,R){return R%2===1?"<b>"+T+"</b>":T}).join("");$("#ffs-dialog #ffs-dialog-typo-correction").html(A),$("#ffs-dialog #ffs-dialog-typo-correction").unbind("click").bind("click",function(T){$("#ffs-dialog input[type=search]").val(S),$(this).parent().hide(),T.preventDefault()})}else $("#ffs-dialog #ffs-dialog-typo").hide(),$("#ffs-dialog #ffs-dialog-parse-error").show(),$("#ffs-dialog input[type=search]").addClass("is-danger")}.bind(this))},this.onSettingsClick=function(){$("#settings-dialog input[name=ui_language]")[0].value=settings.ui_language;var b=i18n.getSupportedLanguagesDescriptions();z($("#settings-dialog input[name=ui_language]"),["auto"].concat(i18n.getSupportedLanguages()).map(function(x){return{value:x,label:x=="auto"?"auto":x+" - "+b[x]}})),$("#settings-dialog input[name=server]")[0].value=settings.server,z($("#settings-dialog input[name=server]"),configs.suggestedServers.concat(settings.customServers),settings.customServers,function(M){settings.customServers.splice(settings.customServers.indexOf(M),1),settings.save()}),$("#settings-dialog input[name=no_autorepair]")[0].checked=settings.no_autorepair,$("#settings-dialog input[name=use_rich_editor]")[0].checked=settings.use_rich_editor,$("#settings-dialog input[name=editor_width]")[0].value=settings.editor_width,$("#settings-dialog input[name=share_include_pos]")[0].checked=settings.share_include_pos,$("#settings-dialog input[name=share_compression]")[0].value=settings.share_compression,z($("#settings-dialog input[name=share_compression]"),["auto","on","off"]),$("#settings-dialog input[name=tile_server]")[0].value=settings.tile_server,z($("#settings-dialog input[name=tile_server]"),configs.suggestedTiles.concat(settings.customTiles),settings.customTiles,function(M){settings.customTiles.splice(settings.customTiles.indexOf(M),1),settings.save()}),$("#settings-dialog input[name=background_opacity]")[0].value=settings.background_opacity,$("#settings-dialog input[name=enable_crosshairs]")[0].checked=settings.enable_crosshairs,$("#settings-dialog input[name=disable_poiomatic]")[0].checked=settings.disable_poiomatic,$("#settings-dialog input[name=show_data_stats]")[0].checked=settings.show_data_stats,$("#settings-dialog input[name=export_image_scale]")[0].checked=settings.export_image_scale,$("#settings-dialog input[name=export_image_attribution]")[0].checked=settings.export_image_attribution,$("#settings-dialog").addClass("is-active")},this.onSettingsSave=function(){var b=$("#settings-dialog input[name=ui_language]")[0].value;settings.ui_language!=b&&(i18n.translate(b),ffs$1.invalidateCache()),settings.ui_language=b,settings.server=$("#settings-dialog input[name=server]")[0].value,configs.suggestedServers.indexOf(settings.server)===-1&&settings.customServers.indexOf(settings.server)===-1&&settings.customServers.push(settings.server),settings.no_autorepair=$("#settings-dialog input[name=no_autorepair]")[0].checked,settings.use_rich_editor=$("#settings-dialog input[name=use_rich_editor]")[0].checked;var x=settings.editor_width;settings.editor_width=$("#settings-dialog input[name=editor_width]")[0].value,x!=settings.editor_width&&($("#editor").css("width",settings.editor_width),$("#dataviewer").css("left",settings.editor_width)),settings.share_include_pos=$("#settings-dialog input[name=share_include_pos]")[0].checked,settings.share_compression=$("#settings-dialog input[name=share_compression]")[0].value;var M=settings.tile_server;settings.tile_server=$("#settings-dialog input[name=tile_server]")[0].value,configs.suggestedTiles.indexOf(settings.tile_server)===-1&&settings.customTiles.indexOf(settings.tile_server)===-1&&settings.customTiles.push(settings.tile_server),M!=settings.tile_server&&p.map.tile_layer.setUrl(settings.tile_server);var S=settings.background_opacity;settings.background_opacity=+$("#settings-dialog input[name=background_opacity]")[0].value,settings.background_opacity!=S&&(settings.background_opacity==1?p.map.removeLayer(p.map.inv_opacity_layer):p.map.inv_opacity_layer.setOpacity(1-settings.background_opacity).addTo(p.map)),settings.enable_crosshairs=$("#settings-dialog input[name=enable_crosshairs]")[0].checked,settings.disable_poiomatic=$("#settings-dialog input[name=disable_poiomatic]")[0].checked,settings.show_data_stats=$("#settings-dialog input[name=show_data_stats]")[0].checked,$(".crosshairs").toggle(settings.enable_crosshairs),settings.export_image_scale=$("#settings-dialog input[name=export_image_scale]")[0].checked,settings.export_image_attribution=$("#settings-dialog input[name=export_image_attribution]")[0].checked,settings.save(),$("#settings-dialog").removeClass("is-active")},this.onSettingsClose=function(){$("#settings-dialog").removeClass("is-active")},this.onSettingsReset=function(){!window.confirm("Reset?")||(settings.reset(),location.reload())},this.onHelpClick=function(){$("#help-dialog").addClass("is-active")},this.onHelpClose=function(){$("#help-dialog").removeClass("is-active")},this.onKeyPress=function(b){(b.which==120&&b.charCode==0||(b.which==13||b.which==10)&&(b.ctrlKey||b.metaKey))&&(p.onRunClick(),b.preventDefault()),String.fromCharCode(b.which).toLowerCase()=="s"&&(b.ctrlKey||b.metaKey)&&!b.shiftKey&&!b.altKey&&(p.onSaveClick(),b.preventDefault()),String.fromCharCode(b.which).toLowerCase()=="o"&&(b.ctrlKey||b.metaKey)&&!b.shiftKey&&!b.altKey&&(p.onLoadClick(),b.preventDefault()),String.fromCharCode(b.which).toLowerCase()=="h"&&(b.ctrlKey||b.metaKey)&&!b.shiftKey&&!b.altKey&&(p.onHelpClick(),b.preventDefault()),(String.fromCharCode(b.which).toLowerCase()=="i"&&(b.ctrlKey||b.metaKey)&&!b.shiftKey&&!b.altKey||String.fromCharCode(b.which).toLowerCase()=="f"&&(b.ctrlKey||b.metaKey)&&b.shiftKey&&!b.altKey)&&(p.onFfsClick(),b.preventDefault()),b.which===27&&$(".modal").removeClass("is-active")},this.update_map=function(){p.waiter.open(i18n.t("waiter.processing_query")),p.waiter.addInfo("resetting map"),$("#data_stats").remove(),this.resetErrors(),p.dataViewer.setValue(""),typeof overpass.osmLayer<"u"&&p.map.removeLayer(overpass.osmLayer),$("#map_blank").remove(),p.waiter.addInfo("building query"),p.getQuery(function(b){var x=p.getQueryLang(),M=p.data_source&&p.data_source.mode=="overpass"&&p.data_source.options.server?p.data_source.options.server:settings.server;overpass.run_query(b,x,void 0,void 0,M,p.mapcss)})},this.rerender_map=function(){typeof overpass.osmLayer<"u"&&p.map.removeLayer(overpass.osmLayer),p.getQuery(function(){overpass.rerender(p.mapcss)})},this.update_ffs_query=function(b,x){var M=b||$("#ffs-dialog input[type=search]").val();ffs$1.construct_query(M,void 0,function(S,A){S?ffs$1.repair_search(M,function(T){if(T)x("repairable query",T);else{if(b)return x(!0);this.update_ffs_query('"'+M+'"',x)}}.bind(this)):(p.setQuery(A),x(null))}.bind(this))}};$(document).ready(ide.init);$(document).ready(initClickHandler);function initClickHandler(){$("*[data-ide-handler]").each(function(){var t=$(this).attr("data-ide-handler").split(/:/),B=t[0],O=t[1],p=ide[O];$(this).on(B,p)})}
